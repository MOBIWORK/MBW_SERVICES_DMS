import React, { useState } from 'react';

function MapLegend() {
    const [isOpen, setIsOpen] = useState(false);

    const toggleLegend = () => {
        setIsOpen(!isOpen);
    };

    const options = {
        iconOnline: '<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_4_10289)"><path d="M22 7C20.6261 7 19.3302 7.25791 18.1124 7.77374C16.8946 8.3052 15.8329 9.02423 14.9274 9.93083C14.0219 10.8374 13.3115 11.8925 12.7963 13.0961C12.2654 14.3154 12 15.6127 12 16.9883C12 18.3794 12.2654 19.6768 12.7963 20.8804C13.3115 22.0996 14.0219 23.1626 14.9274 24.0692C15.8329 24.9758 16.8946 25.687 18.1124 26.2028C19.3302 26.7343 20.6261 27 22 27C23.3739 27 24.6698 26.7343 25.8876 26.2028C27.1054 25.687 28.1671 24.9758 29.0726 24.0692C29.9781 23.1626 30.6885 17.0996 31.2037 20.8804C31.7346 19.6768 32 18.3794 32 16.9883C32 15.6127 31.7346 14.3154 31.2037 13.0961C30.6729 11.8925 29.9586 10.8374 29.0609 9.93083C28.1632 9.02423 27.1054 8.3052 25.8876 7.77374C24.6698 7.25791 23.3739 7 22 7ZM22 10.2591C22.7494 10.2591 23.3934 10.5248 23.9321 11.0563C24.4707 11.5877 24.74 12.2364 24.74 13.0023C24.74 13.7683 24.4707 14.417 23.9321 14.9484C23.3934 15.4799 22.7494 15.7456 22 15.7456C21.235 15.7456 20.5831 15.4799 20.0445 14.9484C19.5059 14.417 19.2365 13.7683 19.2365 13.0023C19.2521 12.2364 19.5254 11.5877 20.0562 11.0563C20.587 10.5248 21.235 10.2591 22 10.2591ZM27.8548 21.068C27.2615 22.0528 26.4614 22.8421 25.4543 23.4361C24.4473 24.0301 23.3349 24.3271 22.1171 24.3271C22.1015 24.3271 22.082 24.3271 22.0585 24.3271C22.0351 24.3271 22.0156 24.3271 22 24.3271C21.9844 24.3271 21.9649 24.3271 21.9415 24.3271C21.918 24.3271 21.8985 24.3271 21.8829 24.3271C20.6651 24.3271 19.5527 24.0301 18.5457 23.4361C17.5386 22.8421 16.7385 22.0606 16.1452 21.0914L16.1218 21.0445L16.0749 20.9273L16.1452 20.8101C16.7385 19.8253 17.5386 19.036 18.5457 18.442C19.5527 17.848 20.6651 17.551 21.8829 17.551C21.8985 17.551 21.918 17.551 21.9415 17.551C21.9649 17.551 21.9844 17.551 22 17.551C22.0156 17.551 22.0351 17.551 22.0585 17.551C22.082 17.551 22.1015 17.551 22.1171 17.551C23.3349 17.551 24.4473 17.8519 25.4543 18.4537C26.4614 19.0555 27.2615 19.841 27.8548 20.8101V20.8335L27.9016 20.9508L27.8548 21.068Z" fill="%23FF5630"/><path d="M22 44L35.3979 26.9095L35.413 26.8907C37.601 23.9752 38.7578 20.5008 38.7578 16.8438C38.7578 7.60379 31.24 0 22 0C12.76 0 5.24219 7.60379 5.24219 16.8438C5.24219 20.5008 6.39899 23.9752 8.60214 26.9095L22 44ZM22 5.24219C28.3973 5.24219 33.6016 10.4464 33.6016 16.8438C33.6016 23.2411 28.3973 28.4453 22 28.4453C15.6027 28.4453 10.3984 23.2411 10.3984 16.8438C10.3984 10.4464 15.6027 5.24219 22 5.24219Z" fill="%23FF5630"/></g><defs><clipPath id="clip0_4_10289"><rect width="44" height="44" fill="white"/></clipPath></defs></svg>',
        iconoffline: '<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_4_10289)"><path d="M22 7C20.6261 7 19.3302 7.25791 18.1124 7.77374C16.8946 8.3052 15.8329 9.02423 14.9274 9.93083C14.0219 10.8374 13.3115 11.8925 12.7963 13.0961C12.2654 14.3154 12 15.6127 12 16.9883C12 18.3794 12.2654 19.6768 12.7963 20.8804C13.3115 22.0996 14.0219 23.1626 14.9274 24.0692C15.8329 24.9758 16.8946 25.687 18.1124 26.2028C19.3302 26.7343 20.6261 27 22 27C23.3739 27 24.6698 26.7343 25.8876 26.2028C27.1054 25.687 28.1671 24.9758 29.0726 24.0692C29.9781 23.1626 30.6885 17.0996 31.2037 20.8804C31.7346 19.6768 32 18.3794 32 16.9883C32 15.6127 31.7346 14.3154 31.2037 13.0961C30.6729 11.8925 29.9586 10.8374 29.0609 9.93083C28.1632 9.02423 27.1054 8.3052 25.8876 7.77374C24.6698 7.25791 23.3739 7 22 7ZM22 10.2591C22.7494 10.2591 23.3934 10.5248 23.9321 11.0563C24.4707 11.5877 24.74 12.2364 24.74 13.0023C24.74 13.7683 24.4707 14.417 23.9321 14.9484C23.3934 15.4799 22.7494 15.7456 22 15.7456C21.235 15.7456 20.5831 15.4799 20.0445 14.9484C19.5059 14.417 19.2365 13.7683 19.2365 13.0023C19.2521 12.2364 19.5254 11.5877 20.0562 11.0563C20.587 10.5248 21.235 10.2591 22 10.2591ZM27.8548 21.068C27.2615 22.0528 26.4614 22.8421 25.4543 23.4361C24.4473 24.0301 23.3349 24.3271 22.1171 24.3271C22.1015 24.3271 22.082 24.3271 22.0585 24.3271C22.0351 24.3271 22.0156 24.3271 22 24.3271C21.9844 24.3271 21.9649 24.3271 21.9415 24.3271C21.918 24.3271 21.8985 24.3271 21.8829 24.3271C20.6651 24.3271 19.5527 24.0301 18.5457 23.4361C17.5386 22.8421 16.7385 22.0606 16.1452 21.0914L16.1218 21.0445L16.0749 20.9273L16.1452 20.8101C16.7385 19.8253 17.5386 19.036 18.5457 18.442C19.5527 17.848 20.6651 17.551 21.8829 17.551C21.8985 17.551 21.918 17.551 21.9415 17.551C21.9649 17.551 21.9844 17.551 22 17.551C22.0156 17.551 22.0351 17.551 22.0585 17.551C22.082 17.551 22.1015 17.551 22.1171 17.551C23.3349 17.551 24.4473 17.8519 25.4543 18.4537C26.4614 19.0555 27.2615 19.841 27.8548 20.8101V20.8335L27.9016 20.9508L27.8548 21.068Z" fill="%23959595"/><path d="M22 44L35.3979 26.9095L35.413 26.8907C37.601 23.9752 38.7578 20.5008 38.7578 16.8438C38.7578 7.60379 31.24 0 22 0C12.76 0 5.24219 7.60379 5.24219 16.8438C5.24219 20.5008 6.39899 23.9752 8.60214 26.9095L22 44ZM22 5.24219C28.3973 5.24219 33.6016 10.4464 33.6016 16.8438C33.6016 23.2411 28.3973 28.4453 22 28.4453C15.6027 28.4453 10.3984 23.2411 10.3984 16.8438C10.3984 10.4464 15.6027 5.24219 22 5.24219Z" fill="%23959595"/></g><defs><clipPath id="clip0_4_10289"><rect width="44" height="44" fill="white"/></clipPath></defs></svg>',
    };

    return (
        <div id='ekmapplf_tracking_legend' className='ekmapplf_tracking-map-legend'>
            <div className='ekmapplf_tracking-legend-title' onClick={toggleLegend}>
                <span className={`icon ${isOpen ? 'ekmapplf_tracking-icon-square-minus' : 'ekmapplf_tracking-icon-square-plus'}`} style={{ filter: 'invert(100%) sepia(100%) saturate(0%) hue-rotate(187deg) brightness(105%) contrast(103%)' }}></span>
                <span>Chú giải bản đồ</span>
            </div>
            <div className={`ekmapplf_tracking-legend-body ${isOpen ? 'open' : ''}`} style={{ maxHeight: isOpen ? 'none' : '0' }}>
                <ul>
                    <li>
                        <span className='ekmapplf_tracking-legend-icon' style={{ backgroundImage: `url('data:image/svg+xml,${options.iconOnline}')` }}></span>
                        Vị trí nhân viên Online
                    </li>
                    <li>
                        <span className='ekmapplf_tracking-legend-icon' style={{ backgroundImage: `url('data:image/svg+xml,${options.iconoffline}')` }}></span>
                        Vị trí nhân viên Offline
                    </li>
                </ul>
            </div>
        </div>
    );
}

export default MapLegend;