import{V as l,a1 as i,aa as f}from"./index-ZpzZ1sBS.js";import{F as d}from"./FileSaver.min-7mPD_fqo.js";var m={VITE_BASE_PATH:"/mbw_desk",VITE_KEY_MAP:"wtpM0U1ZmE2s87LEZNSHf63Osc1a2sboaozCQNsy",VITE_API_KEY:"w1Dlh2wRon7mE6sL196TgvLS45fw02uon74pJ0rc",BASE_URL:"/assets/mbw_dms/mbw_fe/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const E=(r="",s="")=>{const[e]=f.useModal(),o=e.info({title:r,content:s});setTimeout(()=>{o.destroy()},1e3)},h=(r,s,e={})=>{let o=[];return r.forEach(n=>{let t={};for(let a in n)s.includes(a)&&(t[a]=n[a]);e.isNull?o.push(t):Object.keys(t).find(c=>!t[c])||o.push(t)}),o},_=({data:r=[],parentField:s="",parentValue:e=null,keyValue:o=""})=>r.length==0?r:r.filter(t=>t[s]==e||!e&&!r.find(a=>a[o]==t[s])).map(t=>({...t,children:_({data:r.filter(a=>a[s]!==e&&(e||r.find(c=>c[o]==a[s]))),parentField:s,parentValue:t[o],keyValue:o})}));l.locale("vi");const u=(r,s)=>{const e=[];let o=l(r);for(;o.isBefore(s)||o.isSame(s,"day");)e.push({date:o.format("DD/MM/YYYY"),dayOfWeek:o.format("dddd")}),o=o.add(1,"day");return console.log("dateObjects",e),e},y=r=>{const s=new URLSearchParams(r);window.location.href=(m.VITE_BASE_URL||"")+`/api/method/frappe.core.doctype.data_import.data_import.download_template?${s.toString()}`},b=r=>{window.location.href=r},A=async({url:r,params:s,file_name:e="report.xlsx"},o)=>{try{o(!0);const n=await i.get(r,{params:s,responseType:"arraybuffer"}),t=new Blob([n]);console.log(t),d.saveAs(t,e)}catch(n){console.log("error",n)}finally{o(!1)}};export{y as E,b as a,u as b,h as g,A as h,E as m,_ as t};
