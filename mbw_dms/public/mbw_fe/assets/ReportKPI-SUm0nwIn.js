import{Y as l,V as x,a1 as w,L as e,a9 as I,a6 as oe,R as de,P as T,a2 as B,a8 as he,bz as r,ab as ce}from"./index-uvoHenLo.js";import{u as me,C as xe}from"./index-ZCIGePFH.js";import{u as _e}from"./useDebount-663MyMhE.js";import{t as ue}from"./index-82WpHrog.js";import{M as F}from"./ModalCheckin-4baf8xBx.js";import{F as pe}from"./FileSaver.min-EQ8B_-FP.js";import{D as ge}from"./index-6wYPExeo.js";import{S as je}from"./SyncOutlined-OiOSyHh8.js";import{V as ke}from"./VerticalAlignBottomOutlined-Hc4EnSv2.js";const fe=[{label:"Tháng 1",value:"1"},{label:"Tháng 2",value:"2"},{label:"Tháng 3",value:"3"},{label:"Tháng 4",value:"4"},{label:"Tháng 5",value:"5"},{label:"Tháng 6",value:"6"},{label:"Tháng 7",value:"7"},{label:"Tháng 8",value:"8"},{label:"Tháng 9",value:"9"},{label:"Tháng 10",value:"10"},{label:"Tháng 11",value:"11"},{label:"Tháng 12",value:"12"}],ye=[{title:"STT",dataIndex:"stt",key:"stt",width:60,render:(n,d,o)=>o+1},{title:"Mã khách hàng",dataIndex:"kh_ma",key:"kh_ma"},{title:"Khách hàng",dataIndex:"kh_ten",key:"kh_ten"},{title:"Địa chỉ",dataIndex:"kh_diachi",key:"kh_diachi",render:n=>e.jsx("div",{className:"truncate hover:whitespace-normal",children:n})},{title:"Ngày viếng thăm",dataIndex:"checkin_giovao",key:"checkin_giovao",render:n=>e.jsx(e.Fragment,{children:e.jsx("div",{children:x(n).format("DD/MM/YYYY")})})},{title:"Thời gian checkin",dataIndex:"checkin_giovao",key:"checkin_giovao",render:n=>e.jsx(e.Fragment,{children:e.jsx("div",{children:x(n).format("HH:mm")})})},{title:"Khoảng cách",dataIndex:"checkin_khoangcach",key:"checkin_khoangcach",render:n=>e.jsx("div",{children:parseFloat((n/60).toFixed(2))})}];function ve({employee:n,month:d,year:o}){const[h,g]=l.useState(1),c=20,[m,v]=l.useState(0),[k,f]=l.useState([]),y=x(`${o}-${d}-01`).startOf("month"),j=x(`${o}-${d}-01`).add(1,"month").startOf("month").subtract(1,"second"),_=y.unix(),u=j.unix();return l.useEffect(()=>{(async()=>{const a=await w.get("/api/method/mbw_dms.api.report.kpi.kpi_visit_detail",{params:{from_date:_,to_date:u,employee:n,page_size:c,page_number:h}});let{result:p}=a;f(p),v(p?.totals)})()},[_,u,n,h]),e.jsx(e.Fragment,{children:e.jsx(I,{bordered:!0,$border:!0,dataSource:k?.data?.map(a=>({key:a.name,...a})),pagination:m&&m>c?{pageSize:c,showSizeChanger:!1,total:m,current:h,onChange(a){g(a)}}:!1,scroll:{y:300},columns:ye})})}const Se=[{title:"STT",dataIndex:"stt",key:"stt",width:60,render:(n,d,o)=>o+1},{title:"Mã khách hàng",dataIndex:"kh_ma",key:"kh_ma"},{title:"Khách hàng",dataIndex:"kh_ten",key:"kh_ten"},{title:"Địa chỉ",dataIndex:"kh_diachi",key:"kh_diachi",render:n=>e.jsx("div",{className:"truncate hover:whitespace-normal",children:n})},{title:"Ngày viếng thăm",dataIndex:"checkin_giovao",key:"checkin_giovao",render:n=>e.jsx(e.Fragment,{children:e.jsx("div",{children:x(n).format("DD/MM/YYYY")})})},{title:"Thời gian checkin",dataIndex:"checkin_giovao",key:"checkin_giovao",render:n=>e.jsx(e.Fragment,{children:e.jsx("div",{children:x(n).format("HH:mm")})})},{title:"Khoảng cách",dataIndex:"checkin_khoangcach",key:"checkin_khoangcach",render:n=>e.jsx("div",{children:parseFloat((n/60).toFixed(2))})}];function we({employee:n,month:d,year:o}){const[h,g]=l.useState(1),c=20,[m,v]=l.useState(0),[k,f]=l.useState([]),y=x(`${o}-${d}-01`).startOf("month"),j=x(`${o}-${d}-01`).add(1,"month").startOf("month").subtract(1,"second"),_=y.unix(),u=j.unix();return l.useEffect(()=>{(async()=>{const a=await w.get("/api/method/mbw_dms.api.report.kpi.kpi_only_visit_detail",{params:{from_date:_,to_date:u,employee:n,page_size:c,page_number:h}});let{result:p}=a;f(p),v(p?.totals)})()},[_,u,n,h]),e.jsx(e.Fragment,{children:e.jsx(I,{bordered:!0,$border:!0,dataSource:k?.data?.map(a=>({key:a.name,...a})),pagination:m&&m>c?{pageSize:c,showSizeChanger:!1,total:m,current:h,onChange(a){g(a)}}:!1,scroll:{y:300},columns:Se})})}const Ne=[{title:"STT",dataIndex:"stt",key:"stt",width:60,render:(n,d,o)=>o+1},{title:"Mã khách hàng",dataIndex:"customer_code",key:"customer_code"},{title:"Khách hàng",dataIndex:"customer",key:"customer"},{title:"Địa chỉ",dataIndex:"customer_address",key:"customer_address",render:n=>e.jsx("div",{className:"truncate hover:whitespace-normal",children:n})},{title:"Mã đơn hàng",dataIndex:"so_name",key:"so_name"},{title:"Ngày đặt",dataIndex:"trans_date",key:"trans_date",render:n=>e.jsx(e.Fragment,{children:e.jsx("div",{children:x.unix(n).format("DD/MM/YYYY")})})},{title:"Tông tiền",dataIndex:"grand_total",key:"grand_total",render:n=>e.jsx("div",{className:"!text-right",children:Intl.NumberFormat().format(n)})}];function be({employee:n,month:d,year:o}){const[h,g]=l.useState(1),c=20,[m,v]=l.useState(0),[k,f]=l.useState([]),y=x(`${o}-${d}-01`).startOf("month"),j=x(`${o}-${d}-01`).add(1,"month").startOf("month").subtract(1,"second"),_=y.unix(),u=j.unix();return l.useEffect(()=>{(async()=>{const a=await w.get("/api/method/mbw_dms.api.report.kpi.kpi_cus_so_detail",{params:{from_date:_,to_date:u,employee:n,page_size:c,page_number:h}});let{result:p}=a;f(p),v(p?.totals)})()},[_,u,n,h]),e.jsx(e.Fragment,{children:e.jsx(I,{bordered:!0,$border:!0,dataSource:k?.data?.map(a=>({key:a.so_name,...a})),pagination:m&&m>c?{pageSize:c,showSizeChanger:!1,total:m,current:h,onChange(a){g(a)}}:!1,scroll:{y:300},columns:Ne})})}const Ce=[{title:"STT",dataIndex:"stt",key:"stt",width:60,render:(n,d,o)=>o+1},{title:"Mã khách hàng",dataIndex:"customer_code",key:"customer_code"},{title:"Khách hàng",dataIndex:"customer_name",key:"customer_name"},{title:"Địa chỉ",dataIndex:"customer_primary_address",key:"customer_primary_address",render:n=>e.jsx("div",{className:"truncate hover:whitespace-normal",children:n})},{title:"Số điện thoại",dataIndex:"mobile_no",key:"mobile_no"},{title:"Ngày thu thập",dataIndex:"collection_date",key:"collection_date",render:n=>e.jsx(e.Fragment,{children:e.jsx("div",{children:x.unix(n).format("DD/MM/YYYY")})})},{title:"Nguồn",dataIndex:"nguon",key:"nguon",render:n=>e.jsx("div",{children:n||"-"})}];function Ie({employee:n,month:d,year:o}){const[h,g]=l.useState(1),c=20,[m,v]=l.useState(0),[k,f]=l.useState([]),y=x(`${o}-${d}-01`).startOf("month"),j=x(`${o}-${d}-01`).add(1,"month").startOf("month").subtract(1,"second"),_=y.unix(),u=j.unix();return l.useEffect(()=>{(async()=>{const a=await w.get("/api/method/mbw_dms.api.report.kpi.kpi_new_cus_detail",{params:{from_date:_,to_date:u,employee:n,page_size:c,page_number:h}});let{result:p}=a;f(p),v(p?.totals)})()},[_,u,n,h]),e.jsx(e.Fragment,{children:e.jsx(I,{bordered:!0,$border:!0,dataSource:k?.data?.map(a=>({key:a.customer_name,...a})),pagination:m&&m>c?{pageSize:c,showSizeChanger:!1,total:m,current:h,onChange(a){g(a)}}:!1,scroll:{y:300},columns:Ce})})}const Fe=[{title:"STT",dataIndex:"stt",key:"stt",width:60,render:(n,d,o)=>o+1},{title:"Mã đơn hàng",dataIndex:"name",key:"name"},{title:"Khách hàng",dataIndex:"customer_name",key:"customer_name"},{title:"Trạng thái",dataIndex:"status",key:"status",render:n=>n==="To Deliver and Bill"?e.jsx("div",{className:"whitespace-nowrap px-2 rounded-lg py-[8px] flex justify-center items-center text-[14px] leading-[21px] bg-[#FFAB0014] text-[#FFAB00]",children:"• Chờ vận chuyển và chờ thanh toán"}):n==="To Bill"?e.jsx("div",{className:"whitespace-nowrap px-2 rounded-lg py-[8px] flex justify-center items-center text-[14px] leading-[21px] bg-[#8E33FF14] text-[#8E33FF]",children:"• Chờ thanh toán"}):n==="To Deliver"?e.jsx("div",{className:"whitespace-nowrap px-2 rounded-lg py-[8px] flex justify-center items-center text-[14px] leading-[21px] bg-[#00B8D914] text-[#00B8D9]",children:"• Chờ vận chuyển"}):n==="Completed"?e.jsx("div",{className:"whitespace-nowrap px-2 rounded-lg py-[8px] flex justify-center items-center text-[14px] leading-[21px] bg-[#22C55E14] text-[#22C55E]",children:"• Hoàn thành"}):e.jsx("div",{className:"whitespace-nowrap px-2 rounded-lg py-[8px] flex justify-center items-center text-[14px] leading-[21px] bg-[#FF563014] text-[#FF5630]",children:"• Đã hủy"})},{title:"Ngày đặt",dataIndex:"pos_date",key:"pos_date",render:n=>e.jsx(e.Fragment,{children:e.jsx("div",{children:x.unix(n).format("DD/MM/YYYY")})})}];function Te({employee:n,month:d,year:o}){const[h,g]=l.useState(1),c=20,[m,v]=l.useState(0),[k,f]=l.useState([]),y=x(`${o}-${d}-01`).startOf("month"),j=x(`${o}-${d}-01`).add(1,"month").startOf("month").subtract(1,"second"),_=y.unix(),u=j.unix();return l.useEffect(()=>{(async()=>{const a=await w.get("/api/method/mbw_dms.api.report.kpi.kpi_total_so_detail",{params:{from_date:_,to_date:u,employee:n,page_size:c,page_number:h}});let{result:p}=a;f(p),v(p?.totals)})()},[_,u,n,h]),e.jsx(e.Fragment,{children:e.jsx(I,{bordered:!0,$border:!0,dataSource:k?.data?.map(a=>({key:a.name,...a})),pagination:m&&m>c?{pageSize:c,showSizeChanger:!1,total:m,current:h,onChange(a){g(a)}}:!1,scroll:{y:300},columns:Fe})})}const{Column:i,ColumnGroup:S}=I,De=x().month()+1,V=De.toString(),Me=x().format("YYYY");function Oe(){const[n,d]=l.useState([]),[o,h]=l.useState([]),[g,c]=l.useState(),[m,v]=l.useState(""),[k,f]=l.useState();let y=_e(m);const[j,_]=l.useState(1),u=20,[a,p]=l.useState([]),[N,G]=l.useState(V),[b,Z]=l.useState(Me),[D,U]=l.useState(0),M=l.useRef(null),O=me(),[W,X]=l.useState(0),[q,J]=l.useState(O?.h*.52),[Q,ee]=l.useState(!1),[E,K]=l.useState({open:!1,id:null}),[H,P]=l.useState({open:!1,id:null}),[$,R]=l.useState({open:!1,id:null}),[Y,A]=l.useState({open:!1,id:null}),[z,L]=l.useState({open:!1,id:null}),te=()=>{K({open:!1,id:null})},ne=()=>{P({open:!1,id:null})},ae=()=>{R({open:!1,id:null})},se=()=>{A({open:!1,id:null})},le=()=>{L({open:!1,id:null})};l.useEffect(()=>{J(O.h*.52)},[O]),l.useEffect(()=>{const s=M.current;if(s){const t=new ResizeObserver(C=>{for(let ie of C)X(ie.contentRect.height)});return t.observe(s),()=>t.disconnect()}},[M]);const re=s=>{Z(s?.$y.toString())};return l.useEffect(()=>{(async()=>{let s=await w.get("/api/method/mbw_dms.api.router.get_team_sale");h(ue({data:s.result.map(t=>({title:t.name,value:t.name,...t})),keyValue:"value",parentField:"parent_sales_person"}))})()},[]),l.useEffect(()=>{(async()=>{let s=await w.get("/api/method/mbw_dms.api.router.get_sale_person",{params:{team_sale:g,key_search:y}}),{message:t}=s;d(t.map(C=>({value:C.employee_code,label:C.employee_name||C.employee_code})))})()},[g,y]),l.useEffect(()=>{(async()=>{const s=await w.get("/api/method/mbw_dms.api.report.kpi.kpi_report",{params:{page_size:u,page_number:j,month:N,year:b,sales_team:g,employee:k}});p(s?.result),U(s?.result?.totals)})()},[N,b,g,k,j,Q]),e.jsx(e.Fragment,{children:e.jsx(xe,{header:e.jsx(oe,{title:"Báo cáo KPI",buttons:[{icon:e.jsx(je,{className:"text-xl"}),size:"18px",className:"flex mr-2 ",action:()=>{ee(s=>!s)}},{label:"Xuất dữ liệu",type:"primary",icon:e.jsx(ke,{className:"text-xl"}),size:"18px",className:"flex items-center",action:async()=>{try{console.log("datyaa");const s=await w.get("/api/method/mbw_dms.api.exports.export_excel.export_excel",{params:{report_type:"Report KPI",data_filter:{month:N,year:b}},responseType:"arraybuffer"}),t=new Blob([s]);console.log(t),pe.saveAs(t,"report.xlsx")}catch(s){console.log("error",s)}}}]}),children:e.jsxs("div",{className:"bg-white rounded-2xl pt-4 pb-7 border-[#DFE3E8] border-[0.2px] border-solid",children:[e.jsxs(de,{className:"px-4 flex-auto",gutter:[8,8],children:[e.jsx(T,{span:4,children:e.jsx(B,{className:"!bg-[#F4F6F8]",defaultValue:V,options:fe,onChange:s=>{G(s),_(1)}})}),e.jsx(T,{span:4,children:e.jsx(ge,{className:"!bg-[#F4F6F8] w-full rounded-lg h-7",onChange:re,placeholder:"Chọn năm",picker:"year",allowClear:!1,defaultValue:x().startOf("year")})}),e.jsx(T,{span:4,children:e.jsx(he,{placeholder:"Tất cả nhóm bán hàng",allowClear:!0,showSearch:!0,treeData:o,onChange:s=>{c(s),_(1)},dropdownStyle:{maxHeight:400,overflow:"auto",minWidth:350}})}),e.jsx(T,{span:4,children:e.jsx(B,{filterOption:!1,notFoundContent:null,allowClear:!0,showSearch:!0,placeholder:"Tất cả nhân viên",onSearch:s=>{v(s)},options:n,onSelect:s=>{f(s),_(1)},onClear:()=>{f("")}})})]}),e.jsx("div",{ref:M,className:"pt-5",children:e.jsxs(I,{dataSource:a?.data?.map(s=>({key:s.name,...s})),bordered:!0,scroll:{x:"max-content",y:W<400?void 0:q},pagination:D&&D>u?{pageSize:u,showSizeChanger:!1,total:D,current:j,onChange(s){_(s)}}:!1,summary:()=>e.jsxs(r.Summary.Row,{children:[e.jsx(r.Summary.Cell,{index:0}),e.jsx(r.Summary.Cell,{index:1,children:"Tổng"}),e.jsx(r.Summary.Cell,{index:2}),e.jsx(r.Summary.Cell,{index:3}),e.jsx(r.Summary.Cell,{index:4,className:"text-center",children:a?.sum?.tong_kh_vt}),e.jsx(r.Summary.Cell,{index:5,className:"text-center",children:a?.sum?.tong_th_vt}),e.jsx(r.Summary.Cell,{index:6}),e.jsx(r.Summary.Cell,{index:7,className:"text-center",children:a?.sum?.tong_kh_vt_dn}),e.jsx(r.Summary.Cell,{index:8,className:"text-center",children:a?.sum?.tong_th_vt_dn}),e.jsx(r.Summary.Cell,{index:9}),e.jsx(r.Summary.Cell,{index:10,className:"text-center",children:a?.sum?.tong_kh_dat_hang}),e.jsx(r.Summary.Cell,{index:11,className:"text-center",children:a?.sum?.tong_th_dat_hang}),e.jsx(r.Summary.Cell,{index:12}),e.jsx(r.Summary.Cell,{index:13,className:"text-center",children:a?.sum?.tong_kh_kh_moi}),e.jsx(r.Summary.Cell,{index:14,className:"text-center",children:a?.sum?.tong_th_kh_moi}),e.jsx(r.Summary.Cell,{index:15}),e.jsx(r.Summary.Cell,{index:16,className:"text-center",children:a?.sum?.tong_kh_don_hang}),e.jsx(r.Summary.Cell,{index:17,className:"text-center",children:a?.sum?.tong_th_don_hang}),e.jsx(r.Summary.Cell,{index:18}),e.jsx(r.Summary.Cell,{index:19,className:"text-center",children:Intl.NumberFormat().format(a?.sum?.tong_kh_doanh_so)}),e.jsx(r.Summary.Cell,{index:20,className:"text-center",children:Intl.NumberFormat().format(a?.sum?.tong_th_doanh_so)}),e.jsx(r.Summary.Cell,{index:21}),e.jsx(r.Summary.Cell,{index:22,className:"text-center",children:Intl.NumberFormat().format(a?.sum?.tong_kh_doanh_thu)}),e.jsx(r.Summary.Cell,{index:23,className:"text-center",children:Intl.NumberFormat().format(a?.sum?.tong_th_doanh_thu)}),e.jsx(r.Summary.Cell,{index:24}),e.jsx(r.Summary.Cell,{index:25,className:"text-center",children:a?.sum?.tong_kh_san_lg}),e.jsx(r.Summary.Cell,{index:26,className:"text-center",children:a?.sum?.tong_th_san_lg}),e.jsx(r.Summary.Cell,{index:27}),e.jsx(r.Summary.Cell,{index:28,className:"text-center",children:a?.sum?.tong_kh_sku}),e.jsx(r.Summary.Cell,{index:29,className:"text-center",children:a?.sum?.tong_th_sku}),e.jsx(r.Summary.Cell,{index:30}),e.jsx(r.Summary.Cell,{index:31,className:"text-center",children:a?.sum?.tong_kh_so_gio_lam_viec}),e.jsx(r.Summary.Cell,{index:32,className:"text-center",children:a?.sum?.tong_th_so_gio_lam_viec}),e.jsx(r.Summary.Cell,{index:33})]}),children:[e.jsx(i,{title:"STT",dataIndex:"stt",fixed:"left",className:"!text-center",width:60,render:(s,t,C)=>C+1},"stt"),e.jsx(i,{title:"Mã Nhân viên",dataIndex:"nhan_vien_ban_hang",fixed:"left",render:(s,t)=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"!min-w-[130px]",children:t.nhan_vien_ban_hang})})},"nhan_vien_ban_hang"),e.jsx(i,{title:"Nhân viên",dataIndex:"ten_nv",fixed:"left",render:(s,t)=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"!min-w-[200px]",children:t.ten_nv})})},"ten_nv"),e.jsx(i,{title:"Nhóm bán hàng",dataIndex:"nhom_ban_hang",render:(s,t)=>e.jsx("div",{children:t.nhom_ban_hang})},"nhom_ban_hang"),e.jsxs(S,{className:"!whitespace-normal !min-w-[210px] !text-center",title:"Số khách hàng viếng thăm",children:[e.jsx(i,{className:"!text-center",title:"KH",width:70,dataIndex:"kh_vt"},"kh_vt"),e.jsx(i,{className:"!text-center underline text-[#1877F2]",title:"TH",width:70,dataIndex:"th_vt",render:(s,t)=>e.jsx("div",{onClick:()=>{K({open:!0,id:{employee:t?.nhan_vien_ban_hang,name_employee:t?.ten_nv}})},children:t?.kpi_month[0]?t?.kpi_month[0]?.th_vt:0})},"th_vt"),e.jsx(i,{className:"!text-center",title:"TL",width:70,dataIndex:"tl_vt",render:(s,t)=>e.jsxs(e.Fragment,{children:[t.tl_vt,"%"]})},"tl_vt")]}),e.jsxs(S,{className:"!whitespace-normal !min-w-[210px] !text-center",title:"Số khách hàng viếng thăm duy nhất",children:[e.jsx(i,{className:"!text-center",title:"KH",width:70,dataIndex:"kh_vt_dn"},"kh_vt_dn"),e.jsx(i,{className:"!text-center underline text-[#1877F2]",title:"TH",width:70,dataIndex:"th_vt_dn",render:(s,t)=>e.jsx("div",{onClick:()=>{P({open:!0,id:{employee:t?.nhan_vien_ban_hang,name_employee:t?.ten_nv}})},children:t?.kpi_month[0]?t?.kpi_month[0]?.th_vt_dn:0})},"th_vt_dn"),e.jsx(i,{className:"!text-center",title:"TL",width:70,dataIndex:"tl_vt_dn",render:(s,t)=>e.jsxs(e.Fragment,{children:[t.tl_vt_dn,"%"]})},"tl_vt_dn")]}),e.jsxs(S,{className:"!whitespace-normal !min-w-[210px] !text-center",title:"Số khách hàng đặt hàng",children:[e.jsx(i,{className:"!text-center",title:"KH",width:70,dataIndex:"kh_dat_hang"},"kh_dat_hang"),e.jsx(i,{className:"!text-center underline text-[#1877F2]",title:"TH",width:70,dataIndex:"th_dat_hang",render:(s,t)=>e.jsx("div",{onClick:()=>{R({open:!0,id:{employee:t?.nhan_vien_ban_hang,name_employee:t?.ten_nv}})},children:t?.kpi_month[0]?t?.kpi_month[0]?.th_dat_hang:0})},"th_dat_hang"),e.jsx(i,{className:"!text-center",title:"TL",width:70,dataIndex:"tl_dat_hang",render:(s,t)=>e.jsxs(e.Fragment,{children:[t.tl_dat_hang,"%"]})},"tl_dat_hang")]}),e.jsxs(S,{className:"!whitespace-normal !min-w-[210px] !text-center",title:"Số khách hàng thêm mới",children:[e.jsx(i,{className:"!text-center",title:"KH",width:70,dataIndex:"kh_kh_moi"},"kh_kh_moi"),e.jsx(i,{className:"!text-center underline text-[#1877F2]",title:"TH",width:70,dataIndex:"th_kh_moi",render:(s,t)=>e.jsx("div",{onClick:()=>{A({open:!0,id:{employee:t?.nhan_vien_ban_hang,name_employee:t?.ten_nv}})},children:t?.kpi_month[0]?t?.kpi_month[0]?.th_kh_moi:0})},"th_kh_moi"),e.jsx(i,{className:"!text-center",title:"TL",width:70,dataIndex:"tl_kh_moi",render:(s,t)=>e.jsxs(e.Fragment,{children:[t.tl_kh_moi,"%"]})},"tl_kh_moi")]}),e.jsxs(S,{className:"!whitespace-normal",title:"Số đơn hàng",width:210,children:[e.jsx(i,{className:"!text-center",title:"KH",width:70,dataIndex:"kh_don_hang"},"kh_don_hang"),e.jsx(i,{className:"!text-center underline text-[#1877F2]",title:"TH",width:70,dataIndex:"th_don_hang",render:(s,t)=>e.jsx("div",{onClick:()=>{L({open:!0,id:{employee:t?.nhan_vien_ban_hang,name_employee:t?.ten_nv}})},children:t?.kpi_month[0]?t?.kpi_month[0]?.th_don_hang:0})},"th_don_hang"),e.jsx(i,{className:"!text-center",title:"TL",width:70,dataIndex:"tl_don_hang",render:(s,t)=>e.jsxs(e.Fragment,{children:[t.tl_don_hang,"%"]})},"tl_don_hang")]}),e.jsxs(S,{className:"!whitespace-normal",title:"Doanh số (VNĐ)",width:210,children:[e.jsx(i,{className:"!text-center",title:"KH",dataIndex:"kh_doanh_so",render:(s,t)=>e.jsx(e.Fragment,{children:Intl.NumberFormat().format(t.kh_doanh_so)})},"kh_doanh_so"),e.jsx(i,{className:"!text-center underline text-[#1877F2]",title:"TH",width:70,dataIndex:"th_doanh_so",render:(s,t)=>e.jsx(e.Fragment,{children:t?.kpi_month[0]?Intl.NumberFormat().format(t?.kpi_month[0]?.th_doanh_so):0})},"th_doanh_so"),e.jsx(i,{className:"!text-center",title:"TL",width:70,dataIndex:"tl_don_hang",render:(s,t)=>e.jsxs(e.Fragment,{children:[t.tl_don_hang,"%"]})},"tl_don_hang")]}),e.jsxs(S,{className:"!whitespace-normal",title:"Doanh thu (VNĐ)",width:210,children:[e.jsx(i,{className:"!text-center",title:"KH",width:70,dataIndex:"kh_doanh_thu",render:(s,t)=>e.jsx(e.Fragment,{children:Intl.NumberFormat().format(t.kh_doanh_thu)})},"kh_doanh_thu"),e.jsx(i,{className:"!text-center underline text-[#1877F2]",title:"TH",width:70,dataIndex:"th_doanh_thu",render:(s,t)=>e.jsx(e.Fragment,{children:t?.kpi_month[0]?Intl.NumberFormat().format(t?.kpi_month[0]?.th_doanh_thu):0})},"th_doanh_thu"),e.jsx(i,{className:"!text-center",title:"TL",width:70,dataIndex:"tl_doanh_thu",render:(s,t)=>e.jsxs(e.Fragment,{children:[t.tl_doanh_thu,"%"]})},"tl_doanh_thu")]}),e.jsxs(S,{className:"!whitespace-normal",title:"Sản lượng",width:210,children:[e.jsx(i,{className:"!text-center",title:"KH",width:70,dataIndex:"kh_san_lg"},"kh_san_lg"),e.jsx(i,{className:"!text-center underline text-[#1877F2]",title:"TH",width:70,dataIndex:"th_san_lg",render:(s,t)=>e.jsx("div",{children:t?.kpi_month[0]?t?.kpi_month[0]?.th_san_lg:0})},"th_san_lg"),e.jsx(i,{className:"!text-center",title:"TL",width:70,dataIndex:"tl_san_luong",render:(s,t)=>e.jsxs(e.Fragment,{children:[t.tl_san_luong,"%"]})},"tl_san_luong")]}),e.jsxs(S,{className:"!whitespace-normal",title:"SKU",width:210,children:[e.jsx(i,{className:"!text-center",title:"KH",width:70,dataIndex:"kh_sku"},"kh_sku"),e.jsx(i,{className:"!text-center underline text-[#1877F2]",title:"TH",width:70,dataIndex:"th_sku",render:(s,t)=>e.jsx("div",{children:t?.kpi_month[0]?t?.kpi_month[0]?.th_sku:0})},"th_sku"),e.jsx(i,{className:"!text-center",title:"TL",width:70,dataIndex:"tl_sku",render:(s,t)=>e.jsxs(e.Fragment,{children:[t.tl_sku,"%"]})},"tl_sku")]}),e.jsxs(S,{className:"!whitespace-normal",title:"Số giờ làm việc",width:210,children:[e.jsx(i,{className:"!text-center",title:"KH",width:70,dataIndex:"kh_so_gio_lam_viec"},"kh_so_gio_lam_viec"),e.jsx(i,{className:"!text-center underline text-[#1877F2]",title:"TH",width:70,dataIndex:"th_so_gio_lam_viec",render:(s,t)=>e.jsx("div",{children:t?.kpi_month[0]?t?.kpi_month[0]?.th_so_gio_lam_viec:0})},"th_so_gio_lam_viec"),e.jsx(i,{className:"!text-center",title:"TL",width:70,dataIndex:"tl_so_gio_lam_viec",render:(s,t)=>e.jsxs(e.Fragment,{children:[t.tl_so_gio_lam_viec,"%"]})},"tl_so_gio_lam_viec")]})]})}),e.jsx(F,{title:e.jsxs("div",{className:"font-semibold text-2xl leading-[22px] text-[#222222] px-4 pt-4",children:["Số khách hàng viếng thăm - ",E.id?.name_employee]}),open:E.open,onCancel:te,footer:!1,width:1120,children:e.jsx(ve,{employee:E.id?.employee,month:N,year:b})}),e.jsx(F,{title:e.jsxs("div",{className:"font-semibold text-2xl leading-[22px] text-[#222222] px-4 pt-4",children:["Số khách hàng viếng thăm duy nhất -"," ",H.id?.name_employee]}),open:H.open,onCancel:ne,footer:!1,width:1120,children:e.jsx(we,{employee:H.id?.employee,month:N,year:b})}),e.jsx(F,{title:e.jsxs("div",{className:"font-semibold text-2xl leading-[22px] text-[#222222] px-4 pt-4",children:["Số khách hàng đặt hàng - ",$.id?.name_employee]}),open:$.open,onCancel:ae,footer:!1,width:1120,children:e.jsx(be,{employee:$.id?.employee,month:N,year:b})}),e.jsx(F,{title:e.jsxs("div",{className:"font-semibold text-2xl leading-[22px] text-[#222222] px-4 pt-4",children:["Số khách hàng thêm mới - ",Y.id?.name_employee]}),open:Y.open,onCancel:se,footer:!1,width:1120,children:e.jsx(Ie,{employee:Y.id?.employee,month:N,year:b})}),e.jsx(F,{title:e.jsxs("div",{className:"font-semibold text-2xl leading-[22px] text-[#222222] px-4 pt-4",children:["Số đơn hàng - ",z.id?.name_employee]}),open:z.open,onCancel:le,footer:!1,width:1120,children:e.jsx(Te,{employee:z.id?.employee,month:N,year:b})})]})})})}function Le(){return e.jsxs(e.Fragment,{children:[e.jsx(ce,{children:e.jsx("title",{children:" ReportKPI"})}),e.jsx(Oe,{})]})}export{Le as default};
