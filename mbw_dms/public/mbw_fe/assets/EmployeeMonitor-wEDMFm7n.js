import{W as h,L as e,aS as H,$ as Q,a0 as P,bz as U,R as I,Q as E,P as j,a3 as Y,a7 as ee}from"./index-1bssPZUZ.js";import{u as te}from"./useDebount-utGjZftb.js";import{e as ie,b as se,W as $,a as ne,c as ae}from"./WrapperCard-jAZ7UG1O.js";import{L as q}from"./index-FG3BLhjo.js";function re(){const[f,k]=h.useState(!1),T=()=>{k(!f)},_={iconOnline:"https://files.ekgis.vn/sdks/tracking/assets/check-icon.png",iconOffline:"https://files.ekgis.vn/sdks/tracking/assets/offline-marker.png"};return e.jsxs("div",{id:"ekmapplf_tracking_legend",className:"ekmapplf_tracking-map-legend",children:[e.jsxs("div",{className:"ekmapplf_tracking-legend-title",onClick:T,children:[e.jsx("span",{className:`icon ${f?"ekmapplf_tracking-icon-square-minus":"ekmapplf_tracking-icon-square-plus"}`,style:{filter:"invert(100%) sepia(100%) saturate(0%) hue-rotate(187deg) brightness(105%) contrast(103%)"}}),e.jsx("span",{children:"Chú giải bản đồ"})]}),e.jsx("div",{className:`ekmapplf_tracking-legend-body ${f?"open":""}`,style:{maxHeight:f?"none":"0"},children:e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("span",{className:"ekmapplf_tracking-legend-icon",style:{backgroundImage:`url(${_.iconOnline})`}}),"Vị trí nhân viên Online"]}),e.jsxs("li",{children:[e.jsx("span",{className:"ekmapplf_tracking-legend-icon",style:{backgroundImage:`url(${_.iconOffline})`}}),"Vị trí nhân viên Offline"]})]})})]})}const B=window.ekmapplf;function le({options:f,onClickPopup:k,status:T}){const _=h.useRef(null),w=h.useRef(null),b=h.useRef(null),l=ie({},{center:[105,17],zoom:4.5,reloadTime:6e4,iconOnline:"https://files.ekgis.vn/sdks/tracking/assets/check-icon.png",iconOffline:"https://files.ekgis.vn/sdks/tracking/assets/offline-marker.png"},f);if(l.apiKey==""||!l.apiKey)throw new Error("Parameter apiKey not valid");if(l.projectId==""||!l.projectId)throw new Error("Parameter projectId not valid");if(l.objectId&&!Array.isArray(l.objectId))throw new Error("Parameter objectId not valid");return h.useEffect(()=>((async()=>{try{var Z;w.current=new H.Map({container:_.current,center:l.center,zoom:l.zoom,minZoom:1,pitch:30});var r=w.current;const m=r.getContainer();r.setPadding({top:100,bottom:100,left:100,right:100}),new B.VectorBaseMap("OSM:Bright",l.apiKey).addTo(r);var R=new B.control.BaseMap({id:"ekmapplf_tracking_ctrl_basemap_"+m.id,baseLayers:[{id:"OSM:Bright",title:"Bản đồ nền Sáng",thumbnail:"https://docs.ekgis.vn/assets/map-sang.png",width:"50px",height:"50px"},{id:"OSM:Standard",title:"Bản đồ nền Tiêu chuẩn",thumbnail:"https://docs.ekgis.vn/assets/map-chuan.png",width:"50px",height:"50px"},{id:"OSM:Gray",title:"Bản đồ nền Xám",thumbnail:"https://docs.ekgis.vn/assets/xam-map.png",width:"50px",height:"50px"},{id:"OSM:Night",title:"Bản đồ nền Đêm",thumbnail:"https://docs.ekgis.vn/assets/dem-map.png",width:"50px",height:"50px"},{id:"OSM:Dark",title:"Bản đồ nền Đêm xanh coban",thumbnail:"https://docs.ekgis.vn/assets/xanhcoban-map.png",width:"50px",height:"50px"},{id:"OSM:Pencil",title:"Bản đồ nền Bút chì",thumbnail:"https://docs.ekgis.vn/assets/chi-map.png",width:"50px",height:"50px"},{id:"OSM:Pirates",title:"Bản đồ nền Cổ điển",thumbnail:"https://docs.ekgis.vn/assets/dien-map.png",width:"50px",height:"50px"},{id:"OSM:Wood",title:"Bản đồ nền Gỗ",thumbnail:"https://docs.ekgis.vn/assets/go-map.png",width:"50px",height:"50px"}]});r.addControl(R,"bottom-left"),R.on("changeBaseLayer",async function(p){await new B.VectorBaseMap(p.layer,l.apiKey).addTo(r),setTimeout(()=>{M()},500)}),r.addControl(new H.NavigationControl({visualizePitch:!0}),"bottom-right");var N=!1;r.getPitch()>0?N=!0:N=!1;var W="maplibregl-terrain2d-control",O="Hiển thị 2D";N||(W="maplibregl-terrain3d-control",O="Bản đồ 3D");let A=new B.control.Button({className:"btn-ctl-group "+W,icon:"none",tooltip:O});A.on("click",p=>{N=!N,N?(p._div.className=p._div.className.replaceAll("maplibregl-terrain3d-control","maplibregl-terrain2d-control"),p._div.title="Hiển thị 2D"):(p._div.className=p._div.className.replaceAll("maplibregl-terrain2d-control","maplibregl-terrain3d-control"),p._div.title="Hiển thị 3D"),N?(r.easeTo({pitch:60}),r.setLayoutProperty("building-3d","visibility","visible")):(r.easeTo({pitch:0}),r.setLayoutProperty("building-3d","visibility","none"))}),r.addControl(A,"bottom-right"),r.addControl(new H.FullscreenControl,"bottom-right"),r.on("load",async()=>{try{let p=await M(),v=se(p);v&&r.fitBounds(v,{padding:100,maxZoom:14,duration:1e3}),b.current&&clearInterval(b.current),b.current=setInterval(()=>{S(l.objectId)},6e4)}catch(p){console.error("Error:",p)}});const M=async()=>{const p=async()=>{let y=`https://api.ekgis.vn/tracking/${l.projectId}/objects?api_key=${l.apiKey}`;return(await(await fetch(y)).json()).results.objects.map(i=>i._id)||[]};let v=l.objectId?l.objectId:await p(l.projectId);return l.objectId=v,await S(l.objectId)},S=async p=>{if(!Array.isArray(p))return;const v=async i=>{try{let s=function(K){const G=new Date().setHours(0,0,0,0);return new Date(K).setHours(0,0,0,0)===G};const c=`https://api.ekgis.vn/v2/tracking/locationHistory/position/${l.projectId}/${i}/lastest?api_key=${l.apiKey}`,g=`https://api.ekgis.vn/v1/checkin/${l.projectId}/${i}/lastcheckin?api_key=${l.apiKey}`,d=await fetch(c),o=await fetch(g),u=await d.json(),x=await o.json();if(!u.position&&!x.length)return{_id:u.summary._id,name:u.summary.name,status:"offline"};const C=u.position?Date.parse(u.position.timestamp):0,D=x.length?Date.parse(x[0].timestamp):0,F=C>D;var a=F?C:D;if(s(a)){var n="offline";const K=F?[u.position.coords.longitude,u.position.coords.latitude]:x[0].coordinates.split(",").map(X=>parseFloat(X)),G=await J(K);return F?Date.parse(new Date)-a<=600*1e3&&(n="online"):((x[0].timestamp.time_checkout="")||Date.parse(new Date)-Date.parse(x[0].timestamp.time_checkout)<=600*1e3)&&(n="online"),{_id:u.summary._id,name:u.summary.name,type:F?"tracking":"checkin",position:F?u.position:x[0],coordinates:K,address:G,status:n,timestamp:a}}else return{_id:u.summary._id,name:u.summary.name,status:"offline"}}catch(s){throw console.error("Error getting last position:",s),s}};var y=await Promise.all(p.map(i=>v(i).catch(a=>null)));y=y.filter(i=>i!==null);const z=y.reduce((i,a)=>(a.status==="offline"?i.offline++:a.status==="online"&&i.online++,i),{offline:0,online:0});T(z);const t={type:"FeatureCollection",features:await Promise.all(y.map(i=>i.type?{type:"Feature",properties:i,geometry:{type:"Point",coordinates:i.coordinates}}:null)).then(i=>i.filter(a=>a!==null))};if(r.getSource(`ek-tracking-live-${m.id}-source`))r.getSource(`ek-tracking-live-${m.id}-source`).setData(t);else{r.addSource(`ek-tracking-live-${m.id}-source`,{type:"geojson",data:t,cluster:!0,clusterMaxZoom:14,clusterRadius:55}),r.addLayer({id:`ek-tracking-live-${m.id}-clusters`,type:"circle",source:`ek-tracking-live-${m.id}-source`,filter:["==","cluster",!0],paint:{"circle-color":["step",["get","point_count"],"#90D667",10,"#EFCD41",50,"#FF0012"],"circle-radius":12,"circle-stroke-color":["step",["get","point_count"],"#90D667",10,"#EFCD41",50,"#FF0012"],"circle-stroke-opacity":.7,"circle-stroke-width":5}}),r.addLayer({id:`ek-tracking-live-${m.id}-cluster-count`,type:"symbol",source:`ek-tracking-live-${m.id}-source`,filter:["==","cluster",!0],layout:{"text-field":"{point_count_abbreviated}","text-size":12}}),r.on("mouseenter",`ek-tracking-live-${m.id}-clusters`,()=>{r.getCanvas().style.cursor="pointer"}),r.on("mouseleave",`ek-tracking-live-${m.id}-clusters`,()=>{r.getCanvas().style.cursor=""}),r.on("click",`ek-tracking-live-${m.id}-clusters`,async s=>{const c=r.queryRenderedFeatures(s.point,{layers:[`ek-tracking-live-${m.id}-clusters`]}),g=c[0].properties.cluster_id,d=await r.getSource(`ek-tracking-live-${m.id}-source`).getClusterExpansionZoom(g);r.easeTo({center:c[0].geometry.coordinates,zoom:d+.01})});const i={};let a={};async function n(){const s={},c=r.querySourceFeatures(`ek-tracking-live-${m.id}-source`);for(let g=0;g<c.length;g++){const d=c[g].geometry.coordinates,o=c[g].properties;if(o.cluster)continue;const u=o._id;let x=i[u];if(!x){const C=document.createElement("div");C.className="marker-employee",C.innerHTML=`
                                        <div class="marker-name">${o.name}</div>
                                        <div class="marker-img-${o.status=="online"?"online":"offline"}"></div>`;let D=new H.Popup({offset:[0,-27],closeButton:!1}).setHTML(`<div class="ek-tracking-his-popup-info">
                                                <b>${o.name}</b>
                                            </div>
                                            <div class="ek-tracking-his-popup-info">
                                                <span class="ek-tracking-his-popup-icon ekmapplf_tracking-icon-marker ekmapplf_tracking-icon-default-color"></span>
                                                <span>${o.address}</span>
                                            </div>
                                            <div class="ek-tracking-his-popup-info" style="justify-content: end;">
                                                <span class="show-his">Xem lịch sử</span>
                                            </div>
                                            `);D.on("open",()=>{C.querySelector(".marker-name").style.display="none",D.getElement().querySelector(".show-his").addEventListener("click",()=>{k({_id:o._id,name:o.name})})}),D.on("close",()=>{C.querySelector(".marker-name").style.removeProperty("display")}),x=i[u]=new H.Marker({element:C,anchor:"bottom"}).setPopup(D).setLngLat(d)}s[u]=x,a[u]&&x.addTo(r)}for(let g in a)s[g]||a[g].remove();a=s}r.on("data",s=>{s.sourceId!==`ek-tracking-live-${m.id}-source`||!s.isSourceLoaded||(r.on("move",n),r.on("moveend",n),n())})}return t},J=async p=>new Promise((v,y)=>{const z={"point.lon":p[0],"point.lat":p[1]};new B.service.Geocoding(l.apiKey).reverse(z,(i,a)=>{if(i)y("Không có thông tin");else{const n=a.results.length>0?a.results[0].formatted_address:"Không có thông tin";v(n)}})})}catch(m){console.error("Error initializing map:",m)}})(),()=>{w.current&&w.current.remove(),b.current&&clearInterval(b.current)}),[f]),e.jsx("div",{ref:_,id:"ekmap-tracking-realtime",children:e.jsx(re,{})})}function oe(){const f=Q(),[k,T]=h.useState({luot_vt:0,don_hang:0,doanh_so:0}),[_,w]=h.useState({so_nv_online:0,so_nv_offline:0}),[b,L]=h.useState([]),[l,V]=h.useState([]),[Z,r]=h.useState([]);h.useEffect(()=>{R()},[]);const R=async()=>{const t=await P.get("/api/method/mbw_dms.api.report.real_time_monitoring_report");t.message=="Thành công"&&T(t.result)},N=[{dataIndex:"stt",width:"50px"},{title:"Nhân viên",dataIndex:"emp_name",render:(t,i)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{height:"48px",width:"48px",borderRadius:"12px"},children:e.jsx("div",{style:{width:"48px",height:"48px",backgroundImage:`url("${i.pic_profile}")`,backgroundSize:"Cover"}})}),e.jsxs("div",{className:"mx-3",children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"21px"},children:t}),i.emp_id!=null&&e.jsxs("div",{style:{marginTop:"5px",fontWeight:400,fontSize:"12px",lineHeight:"21px"},children:["ID: ",i.emp_id]})]})]})},{title:"Thời gian di chuyển",dataIndex:"moving"},{title:"Thời gian dừng",dataIndex:"stopping"},{title:"Thời gian viếng thăm",dataIndex:"visiting"}],W=t=>{w({so_nv_online:t.online,so_nv_offline:t.offline})},[O,m]=h.useState({apiKey:"w1Dlh2wRon7mE6sL196TgvLS45fw02uon74pJ0rc",projectId:""}),A=t=>t.toLocaleString("en-US").replace(/,/g,"."),M=t=>t<1e3?`${Math.round(t)} m`:`${Math.round(t/1e3)} km`,S=t=>t<60?`${Math.round(t)} giây`:t>=60&&t<3600?`${Math.round(t/60)} phút`:`${Math.round(t/3600)} giờ`,J=t=>{f(`/employee-monitor-detail/${t._id}`)},p=()=>{f("/employee-monitor-detail/654c8a12d65d3e52f2d286de")},v=(t,i)=>{for(let s=0;s<i.length;s++)for(let c=0;c<t.length;c++)if(i[s].object_id!=null&&i[s].object_id==t[c].object._id){i[s].summary=i[s].summary;break}else i[s].summary={};let a=i.sort((s,c)=>{if(s.summary!=null&&s.summary.move!=null&&c.summary!=null&&c.summary.move!=null)return c.summary.move.distance-s.summary.move.distance}),n=[];for(let s=0;s<a.length&&s!=5;s++)n.push({stt:s+1,pic_profile:a[s].avatar!=null?a[s].avatar:"/public/user_default.png",emp_name:a[s].employee_name,emp_id:a[s].name,distance:a[s].summary!=null&&a[s].summary.move!=null?M(a[s].summary.move.distance):M(0)});L(n)},y=async t=>{let a=new Date().getTime()/1e3,n=await P(`/api/method/mbw_dms.api.user.get_list_top_employee?from_date=${a}&to_date=${a}`),s=[];n.message=="Thành công"&&(s=n.result);for(let d=0;d<t.length;d++)if(s.length>0)for(let o=0;o<s.length;o++)if(t[d].name==s[o].employee){t[d].today_visit=s[o].today_visit,t[d].must_visit=s[o].must_visit,t[d].sales_order=s[o].sales_order;break}else t[d].today_visit=0,t[d].must_visit=0,t[d].sales_order=0;else t[d].today_visit=0,t[d].must_visit=0,t[d].sales_order=0;console.log(t);let c=t.sort((d,o)=>o.sales_order-d.sales_order);console.log(c);let g=[];for(let d=0;d<c.length;d++){let o=c[d];g.push({s1tt:d+1,pic_profile:o.avatar!=null&&o.avatar!=""?o.avatar:"/public/user_default.png",emp_name:o.employee_name,emp_id:o.name,visiting:`${o.today_visit}/${o.must_visit}`,boxing:o.sales_order})}V(g)},z=(t,i)=>{for(let n=0;n<i.length;n++)for(let s=0;s<t.length;s++)if(i[n].object_id!=null&&i[n].object_id==t[s].object._id){i[n].summary=i[n].summary;break}else i[n].summary={};console.log(i);let a=[];for(let n=0;n<i.length;n++)a.push({stt:n+1,pic_profile:i[n].avatar!=null?i[n].avatar:"/public/user_default.png",emp_name:i[n].employee_name,emp_id:i[n].name,moving:i[n].summary!=null&&i[n].summary.move!=null?S(i[n].summary.move.totalTime):S(0),stopping:i[n].summary!=null&&i[n].summary.stop!=null?S(i[n].summary.stop.totalTime):S(0),visiting:i[n].summary!=null&&i[n].summary.checkin!=null?S(i[n].summary.checkin.totalTime):S(0)});r(a)};return h.useEffect(()=>{(async()=>{const t=await P.get("/api/method/mbw_dms.api.user.get_projectID");m(c=>({...c,projectId:t.result["Project ID"]}));let i=await P("/api/method/mbw_dms.api.user.get_list_employees"),a=[];i.message=="Thành công"&&(a=i.result);let n=`https://api.ekgis.vn/v2/tracking/locationHistory/summary/lastest/${t.result["Project ID"]}/null?api_key=${O.apiKey}`,s=await U.get(n);if(console.log("Du lieu thuc ",s),s?.results.length>0){let c=s?.results;v(c,JSON.parse(JSON.stringify(a))),z(c,JSON.parse(JSON.stringify(a)))}y(JSON.parse(JSON.stringify(a)))})()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(I,{className:"flex flex-wrap justify-between items-center px-0 pt-5",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("span",{className:"text-2xl font-semibold leading-[21px]",children:"Giám sát thời gian thực"})}),e.jsx("div",{className:"flex",children:e.jsx(E,{onClick:p,children:"Xem dữ liệu lịch sử"})})]}),e.jsxs(I,{style:{marginTop:"20px"},gutter:5,children:[e.jsx(j,{span:12,className:"card-container",children:e.jsxs("div",{style:{display:"block",width:"100%"},children:[e.jsxs(I,{gutter:10,style:{width:"100%"},children:[e.jsx(j,{span:12,className:"card-container",children:e.jsx($,{children:e.jsx("div",{className:"wrap-card-container",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"56px",height:"56px",backgroundColor:"#22C55E1F",gap:"8px",borderRadius:"15px"},children:e.jsx("div",{style:{width:"44px",height:"44px",backgroundSize:"Cover"},className:"icon_user_online"})}),e.jsxs("div",{style:{marginLeft:"10px"},children:[e.jsx("div",{className:"title_card",children:"Số nhân viên online"}),e.jsx("div",{className:"content_card",children:_.so_nv_online})]})]})})})}),e.jsx(j,{span:12,className:"card-container",children:e.jsx($,{children:e.jsx("div",{className:"wrap-card-container",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"56px",height:"56px",backgroundColor:"#FF56301F",gap:"8px",borderRadius:"15px"},children:e.jsx("div",{style:{width:"44px",height:"44px",backgroundSize:"Cover"},className:"icon_user_offline"})}),e.jsxs("div",{style:{marginLeft:"10px"},children:[e.jsx("div",{className:"title_card",children:"Số nhân viên offline"}),e.jsx("div",{className:"content_card",children:_.so_nv_offline})]})]})})})})]}),e.jsxs(I,{gutter:10,style:{width:"100%",marginTop:"13px"},children:[e.jsx(j,{span:8,className:"card-container",children:e.jsx($,{children:e.jsx("div",{className:"wrap-card-container",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"56px",height:"56px",backgroundColor:"#00B8D91F",gap:"8px",borderRadius:"15px"},children:e.jsx("div",{style:{width:"44px",height:"44px",backgroundSize:"Cover"},className:"icon_visiting"})}),e.jsxs("div",{style:{marginLeft:"10px"},children:[e.jsx("div",{className:"title_card",children:"Tổng lượt viếng thăm"}),e.jsx("div",{className:"content_card",children:k.luot_vt})]})]})})})}),e.jsx(j,{span:8,className:"card-container",children:e.jsx($,{children:e.jsx("div",{className:"wrap-card-container",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"56px",height:"56px",backgroundColor:"#FFAB001F",gap:"8px",borderRadius:"15px"},children:e.jsx("div",{style:{width:"44px",height:"48px",backgroundSize:"Cover"},className:"icon_boxing"})}),e.jsxs("div",{style:{marginLeft:"10px"},children:[e.jsx("div",{className:"title_card",children:"Tổng đơn hàng"}),e.jsx("div",{className:"content_card",children:k.don_hang})]})]})})})}),e.jsx(j,{span:8,className:"card-container",children:e.jsx($,{children:e.jsx("div",{className:"wrap-card-container",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"56px",height:"56px",backgroundColor:"#1877F21F",gap:"8px",borderRadius:"15px"},children:e.jsx("div",{style:{width:"44px",height:"44px",backgroundSize:"Cover"},className:"icon_money"})}),e.jsxs("div",{style:{marginLeft:"10px"},children:[e.jsx("div",{className:"title_card",children:"Tổng doanh số"}),e.jsx("div",{className:"content_card",children:A(k.doanh_so)})]})]})})})})]}),e.jsxs(I,{gutter:10,style:{width:"100%",marginTop:"13px"},children:[e.jsx(j,{span:12,className:"card-container",children:e.jsx($,{children:e.jsxs("div",{className:"wrap-card-container",children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"28px"},children:"Quãng đường di chuyển của nhân viên"}),e.jsx("div",{style:{height:210,overflow:"auto"},children:e.jsx(q,{itemLayout:"horizontal",dataSource:b,renderItem:(t,i)=>e.jsx(q.Item,{children:e.jsxs("div",{className:"flex items-center justify-between",style:{width:"100%"},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center justify-center",style:{width:"24px",height:"24px"},children:[i==0&&e.jsx("div",{style:{width:"24px",height:"24px",backgroundSize:"Cover"},className:"icon_first"}),i==1&&e.jsx("div",{style:{width:"24px",height:"24px",backgroundSize:"Cover"},className:"icon_second"}),i==2&&e.jsx("div",{style:{width:"24px",height:"24px",backgroundSize:"Cover"},className:"icon_third"})]}),e.jsx("div",{className:"mx-3",children:t.stt}),e.jsx("div",{className:"flex items-center justify-center",style:{height:"42px",width:"42px",borderRadius:"12px"},children:e.jsx("div",{style:{width:"42px",height:"42px",backgroundImage:`url("${t.pic_profile}")`,backgroundSize:"Cover"}})}),e.jsxs("div",{className:"mx-3",children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"21px"},children:t.emp_name}),t.emp_id!=null&&e.jsxs("div",{style:{marginTop:"5px",fontWeight:400,fontSize:"12px",lineHeight:"21px"},children:["ID: ",t.emp_id]})]})]}),e.jsx("div",{style:{marginRight:"10px",fontWeight:500,fontSize:"14px",lineHeight:"22px",color:"#1877F2"},children:t.distance})]})})})})]})})}),e.jsx(j,{span:12,className:"card-container",children:e.jsx($,{children:e.jsxs("div",{className:"wrap-card-container",children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"28px"},children:"Danh sách nhân viên"}),e.jsx("div",{style:{height:210,overflow:"auto"},children:e.jsx(q,{itemLayout:"horizontal",dataSource:l,renderItem:t=>e.jsx(q.Item,{children:e.jsxs("div",{className:"flex items-center justify-between",style:{width:"100%"},children:[e.jsxs("div",{className:"flex items-center",style:{width:"70%"},children:[e.jsx("div",{className:"mx-3",children:t.stt}),e.jsx("div",{className:"flex items-center justify-center",style:{height:"48px",width:"48px",borderRadius:"12px"},children:e.jsx("div",{style:{width:"48px",height:"48px",backgroundImage:`url("${t.pic_profile}")`,backgroundSize:"Cover"}})}),e.jsxs("div",{className:"mx-3",children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"21px"},children:t.emp_name}),e.jsxs("div",{style:{marginTop:"5px",fontWeight:400,fontSize:"12px",lineHeight:"21px"},children:["ID: ",t.emp_id]})]})]}),e.jsxs("div",{style:{width:"30%"},className:"flex",children:[e.jsxs("div",{className:"items-center mx-3 flex",style:{flexDirection:"column"},children:[e.jsx("div",{style:{fontWeight:400,fontSize:"14px",lineHeight:"22px"},children:t.visiting}),e.jsx("div",{className:"flex items-center justify-center",style:{width:"20px",height:"20px"},children:e.jsx("div",{style:{width:"14px",height:"17px",backgroundSize:"Cover"},className:"icon_visiting"})})]}),e.jsxs("div",{className:"items-center mx-3 flex",style:{flexDirection:"column"},children:[e.jsx("div",{style:{fontWeight:400,fontSize:"14px",lineHeight:"22px"},children:t.boxing}),e.jsx("div",{className:"flex items-center justify-center",style:{width:"20px",height:"20px"},children:e.jsx("div",{style:{width:"16px",height:"17px",backgroundSize:"Cover"},className:"icon_boxing"})})]})]})]})})})})]})})})]}),e.jsx(I,{gutter:10,style:{width:"100%",marginTop:"13px"},children:e.jsx(j,{span:24,className:"card-container",children:e.jsxs(ne,{children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"28px",paddingLeft:"10px",paddingBottom:"10px",paddingTop:"10px"},children:"Thống kê thời gian di chuyển, thời gian dừng, thời gian viếng thăm của nhân viên"}),e.jsx(Y,{style:{height:"100%"},pagination:!1,scroll:{y:350},columns:N,dataSource:Z})]})})})]})}),e.jsx(j,{span:12,className:"card-container",children:e.jsx(ae,{children:e.jsx("div",{style:{height:"100%"},children:O.projectId&&e.jsx(le,{options:O,onClickPopup:J,status:W})})})})]})]})}function ce(){const[f,k]=h.useState([]);h.useState("");const[T,_]=h.useState("");h.useState(""),h.useState(""),h.useState(""),h.useState(""),h.useState("");let w=te(T,500);return h.useEffect(()=>{(async()=>{let b=await P.get("/api/method/frappe.desk.search.search_link",{params:{txt:w,doctype:"Department",ignore_user_permissions:0,query:""}}),{message:L}=b;console.log("Customer Group",L),k(L.map(l=>({value:l.value.trim(),label:l.value.trim()})))})()},[w]),e.jsx(e.Fragment,{children:e.jsx(oe,{})})}function ue(){return e.jsxs(e.Fragment,{children:[e.jsx(ee,{children:e.jsx("title",{children:" EmployeeMonitor"})}),e.jsx(ce,{})]})}export{ue as default};
