import{Y as r,a as U,bZ as Ee,I as Le,_ as Y,b$ as Se,aj as X,ai as oe,aG as Re,b3 as De,aa as W,ae as L,ao as $e,at as ye,au as xe,aq as Ce,aw as Te,h as x,ay as we,b1 as Ie,a$ as se,ak as de,ct as qe,br as Xe,bz as Ae,cu as We,aV as Ve,az as Fe,d as ue,cv as te,cw as Ge,g as Ke,cx as Qe,cy as Ye,cz as Ue,l as Ne,cA as je,cB as Ze,cC as Je,cD as me,cE as ke,a9 as et,L as u,R as tt,P as pe,N as K,a5 as ee,a3 as Z,aM as A,a7 as it,Q as ne,aR as nt,cF as ot,a4 as at,cd as rt}from"./index-ChGL0UOI.js";import{H as lt}from"./header-page-9QORFA9E.js";import{F as ct}from"./index-hp2idOfx.js";import{P as st}from"./progress-9Ionp9qo.js";var he=function(t){return t?{left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth}:null},F=function(t){return t!==void 0?"".concat(t,"px"):void 0};function dt(e){var t=e.prefixCls,n=e.containerRef,i=e.value,a=e.getValueIndex,l=e.motionName,b=e.onMotionStart,f=e.onMotionEnd,g=e.direction,C=r.useRef(null),z=r.useState(i),c=U(z,2),T=c[0],j=c[1],O=function(p){var o,v=a(p),y=(o=n.current)===null||o===void 0?void 0:o.querySelectorAll(".".concat(t,"-item"))[v];return y?.offsetParent&&y},_=r.useState(null),H=U(_,2),$=H[0],M=H[1],S=r.useState(null),N=U(S,2),w=N[0],P=N[1];Ee(function(){if(T!==i){var h=O(T),p=O(i),o=he(h),v=he(p);j(i),M(o),P(v),h&&p?b():f()}},[i]);var I=r.useMemo(function(){return F(g==="rtl"?-$?.right:$?.left)},[g,$]),B=r.useMemo(function(){return F(g==="rtl"?-w?.right:w?.left)},[g,w]),d=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},s=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},m=function(){M(null),P(null),f()};return!$||!w?null:r.createElement(Le,{visible:!0,motionName:l,motionAppear:!0,onAppearStart:d,onAppearActive:s,onVisibleChanged:m},function(h,p){var o=h.className,v=h.style,y=Y(Y({},v),{},{"--thumb-start-left":I,"--thumb-start-width":F($?.width),"--thumb-active-left":B,"--thumb-active-width":F(w?.width)}),E={ref:Se(C,p),style:y,className:X("".concat(t,"-thumb"),o)};return r.createElement("div",E)})}var ut=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function mt(e){if(typeof e.title<"u")return e.title;if($e(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function pt(e){return e.map(function(t){if($e(t)==="object"&&t!==null){var n=mt(t);return Y(Y({},t),{},{title:n})}return{label:t?.toString(),title:t?.toString(),value:t}})}var ht=function(t){var n=t.prefixCls,i=t.className,a=t.disabled,l=t.checked,b=t.label,f=t.title,g=t.value,C=t.onChange,z=function(T){a||C(T,g)};return r.createElement("label",{className:X(i,L({},"".concat(n,"-item-disabled"),a))},r.createElement("input",{className:"".concat(n,"-item-input"),type:"radio",disabled:a,checked:l,onChange:z}),r.createElement("div",{className:"".concat(n,"-item-label"),title:f},b))},ae=r.forwardRef(function(e,t){var n,i,a=e.prefixCls,l=a===void 0?"rc-segmented":a,b=e.direction,f=e.options,g=e.disabled,C=e.defaultValue,z=e.value,c=e.onChange,T=e.className,j=T===void 0?"":T,O=e.motionName,_=O===void 0?"thumb-motion":O,H=oe(e,ut),$=r.useRef(null),M=r.useMemo(function(){return Se($,t)},[$,t]),S=r.useMemo(function(){return pt(f)},[f]),N=Re((n=S[0])===null||n===void 0?void 0:n.value,{value:z,defaultValue:C}),w=U(N,2),P=w[0],I=w[1],B=r.useState(!1),d=U(B,2),s=d[0],m=d[1],h=function(v,y){g||(I(y),c?.(y))},p=De(H,["children"]);return r.createElement("div",W({},p,{className:X(l,(i={},L(i,"".concat(l,"-rtl"),b==="rtl"),L(i,"".concat(l,"-disabled"),g),i),j),ref:M}),r.createElement("div",{className:"".concat(l,"-group")},r.createElement(dt,{prefixCls:l,value:P,containerRef:$,motionName:"".concat(l,"-").concat(_),direction:b,getValueIndex:function(v){return S.findIndex(function(y){return y.value===v})},onMotionStart:function(){m(!0)},onMotionEnd:function(){m(!1)}}),S.map(function(o){return r.createElement(ht,W({},o,{key:o.value,prefixCls:l,className:X(o.className,"".concat(l,"-item"),L({},"".concat(l,"-item-selected"),o.value===P&&!s)),checked:o.value===P,onChange:h,disabled:!!g||!!o.disabled}))})))});ae.displayName="Segmented";ae.defaultProps={options:[]};function ge(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function be(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const gt=Object.assign({overflow:"hidden"},Ce),bt=e=>{const{componentCls:t}=e,n=e.calc(e.controlHeight).sub(e.calc(e.segmentedPadding).mul(2)).equal(),i=e.calc(e.controlHeightLG).sub(e.calc(e.segmentedPadding).mul(2)).equal(),a=e.calc(e.controlHeightSM).sub(e.calc(e.segmentedPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Te(e)),{display:"inline-block",padding:e.segmentedPadding,color:e.itemColor,backgroundColor:e.segmentedBgColor,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},be(e)),{color:e.itemSelectedColor}),"&::after":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:n,lineHeight:x(n),padding:`0 ${x(e.segmentedPaddingHorizontal)}`},gt),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},be(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${x(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:i,lineHeight:x(i),padding:`0 ${x(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:a,lineHeight:x(a),padding:`0 ${x(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),ge(`&-disabled ${t}-item`,e)),ge(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},vt=e=>{const{colorTextLabel:t,colorText:n,colorFillSecondary:i,colorBgElevated:a,colorFill:l}=e;return{itemColor:t,itemHoverColor:n,itemHoverBg:i,itemSelectedBg:a,itemActiveBg:l,itemSelectedColor:n}},ft=ye("Segmented",e=>{const{lineWidth:t,lineWidthBold:n,colorBgLayout:i,calc:a}=e,l=xe(e,{segmentedPadding:n,segmentedBgColor:i,segmentedPaddingHorizontal:a(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:a(e.controlPaddingHorizontalSM).sub(t).equal()});return[bt(l)]},vt);var ve=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};function St(e){return typeof e=="object"&&!!e?.icon}const $t=r.forwardRef((e,t)=>{const{prefixCls:n,className:i,rootClassName:a,block:l,options:b=[],size:f="middle",style:g}=e,C=ve(e,["prefixCls","className","rootClassName","block","options","size","style"]),{getPrefixCls:z,direction:c,segmented:T}=r.useContext(we),j=z("segmented",n),[O,_,H]=ft(j),$=Ie(f),M=r.useMemo(()=>b.map(w=>{if(St(w)){const{icon:P,label:I}=w,B=ve(w,["icon","label"]);return Object.assign(Object.assign({},B),{label:r.createElement(r.Fragment,null,r.createElement("span",{className:`${j}-item-icon`},P),I&&r.createElement("span",null,I))})}return w}),[b,j]),S=X(i,a,T?.className,{[`${j}-block`]:l,[`${j}-sm`]:$==="small",[`${j}-lg`]:$==="large"},_,H),N=Object.assign(Object.assign({},T?.style),g);return O(r.createElement(ae,Object.assign({},C,{className:S,style:N,options:M,ref:t,prefixCls:j,direction:c})))}),yt=$t;var xt=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function fe(e){return typeof e=="string"}function ze(e){var t,n=e.className,i=e.prefixCls,a=e.style,l=e.active,b=e.status,f=e.iconPrefix,g=e.icon;e.wrapperStyle;var C=e.stepNumber,z=e.disabled,c=e.description,T=e.title,j=e.subTitle,O=e.progressDot,_=e.stepIcon,H=e.tailContent,$=e.icons,M=e.stepIndex,S=e.onStepClick,N=e.onClick,w=e.render,P=oe(e,xt),I=!!S&&!z,B={};I&&(B.role="button",B.tabIndex=0,B.onClick=function(o){N?.(o),S(M)},B.onKeyDown=function(o){var v=o.which;(v===se.ENTER||v===se.SPACE)&&S(M)});var d=function(){var v,y,E=X("".concat(i,"-icon"),"".concat(f,"icon"),(v={},L(v,"".concat(f,"icon-").concat(g),g&&fe(g)),L(v,"".concat(f,"icon-check"),!g&&b==="finish"&&($&&!$.finish||!$)),L(v,"".concat(f,"icon-cross"),!g&&b==="error"&&($&&!$.error||!$)),v)),D=r.createElement("span",{className:"".concat(i,"-icon-dot")});return O?typeof O=="function"?y=r.createElement("span",{className:"".concat(i,"-icon")},O(D,{index:C-1,status:b,title:T,description:c})):y=r.createElement("span",{className:"".concat(i,"-icon")},D):g&&!fe(g)?y=r.createElement("span",{className:"".concat(i,"-icon")},g):$&&$.finish&&b==="finish"?y=r.createElement("span",{className:"".concat(i,"-icon")},$.finish):$&&$.error&&b==="error"?y=r.createElement("span",{className:"".concat(i,"-icon")},$.error):g||b==="finish"||b==="error"?y=r.createElement("span",{className:E}):y=r.createElement("span",{className:"".concat(i,"-icon")},C),_&&(y=_({index:C-1,status:b,title:T,description:c,node:y})),y},s=b||"wait",m=X("".concat(i,"-item"),"".concat(i,"-item-").concat(s),n,(t={},L(t,"".concat(i,"-item-custom"),g),L(t,"".concat(i,"-item-active"),l),L(t,"".concat(i,"-item-disabled"),z===!0),t)),h=Y({},a),p=r.createElement("div",W({},P,{className:m,style:h}),r.createElement("div",W({onClick:N},B,{className:"".concat(i,"-item-container")}),r.createElement("div",{className:"".concat(i,"-item-tail")},H),r.createElement("div",{className:"".concat(i,"-item-icon")},d()),r.createElement("div",{className:"".concat(i,"-item-content")},r.createElement("div",{className:"".concat(i,"-item-title")},T,j&&r.createElement("div",{title:typeof j=="string"?j:void 0,className:"".concat(i,"-item-subtitle")},j)),c&&r.createElement("div",{className:"".concat(i,"-item-description")},c))));return w&&(p=w(p)||null),p}var Ct=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function re(e){var t,n=e.prefixCls,i=n===void 0?"rc-steps":n,a=e.style,l=a===void 0?{}:a,b=e.className;e.children;var f=e.direction,g=f===void 0?"horizontal":f,C=e.type,z=C===void 0?"default":C,c=e.labelPlacement,T=c===void 0?"horizontal":c,j=e.iconPrefix,O=j===void 0?"rc":j,_=e.status,H=_===void 0?"process":_,$=e.size,M=e.current,S=M===void 0?0:M,N=e.progressDot,w=N===void 0?!1:N,P=e.stepIcon,I=e.initial,B=I===void 0?0:I,d=e.icons,s=e.onChange,m=e.itemRender,h=e.items,p=h===void 0?[]:h,o=oe(e,Ct),v=z==="navigation",y=z==="inline",E=y||w,D=y?"horizontal":g,le=y?void 0:$,Me=E?"vertical":T,Oe=X(i,"".concat(i,"-").concat(D),b,(t={},L(t,"".concat(i,"-").concat(le),le),L(t,"".concat(i,"-label-").concat(Me),D==="horizontal"),L(t,"".concat(i,"-dot"),!!E),L(t,"".concat(i,"-navigation"),v),L(t,"".concat(i,"-inline"),y),t)),Pe=function(J){s&&S!==J&&s(J)},Be=function(J,ce){var R=Y({},J),V=B+ce;return H==="error"&&ce===S-1&&(R.className="".concat(i,"-next-error")),R.status||(V===S?R.status=H:V<S?R.status="finish":R.status="wait"),y&&(R.icon=void 0,R.subTitle=void 0),!R.render&&m&&(R.render=function(He){return m(R,He)}),de.createElement(ze,W({},R,{active:V===S,stepNumber:V+1,stepIndex:V,key:V,prefixCls:i,iconPrefix:O,wrapperStyle:l,progressDot:E,stepIcon:P,icons:d,onStepClick:s&&Pe}))};return de.createElement("div",W({className:Oe,style:l},o),p.filter(function(ie){return ie}).map(Be))}re.Step=ze;const Tt=e=>{const{componentCls:t,customIconTop:n,customIconSize:i,customIconFontSize:a}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:n,width:i,height:i,fontSize:a,lineHeight:`${x(a)}`}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},wt=e=>{const{componentCls:t,inlineDotSize:n,inlineTitleColor:i,inlineTailColor:a}=e,l=e.calc(e.paddingXS).add(e.lineWidth).equal(),b={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:i}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${x(l)} ${x(e.paddingXXS)} 0`,margin:`0 ${x(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:n,height:n,marginInlineStart:`calc(50% - ${x(e.calc(n).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal()}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:i,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(n).div(2).add(l).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:a}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${x(e.lineWidth)} ${e.lineType} ${a}`}},b),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:a},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:a,border:`${x(e.lineWidth)} ${e.lineType} ${a}`}},b),"&-error":b,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:n,height:n,marginInlineStart:`calc(50% - ${x(e.calc(n).div(2).equal())})`,top:0}},b),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:i}}}}}},It=e=>{const{componentCls:t,iconSize:n,lineHeight:i,iconSizeSM:a}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(n).div(2).add(e.controlHeightLG).equal(),padding:`${x(e.paddingXXS)} ${x(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(n).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:i}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(n).sub(a).div(2).add(e.controlHeightLG).equal()}}}}}},Nt=e=>{const{componentCls:t,navContentMaxWidth:n,navArrowColor:i,stepsNavActiveColor:a,motionDurationSlow:l}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${l}`,[`${t}-item-content`]:{maxWidth:n},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},Ce),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${x(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${x(e.lineWidth)} ${e.lineType} ${i}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${x(e.lineWidth)} ${e.lineType} ${i}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:a,transition:`width ${l}, inset-inline-start ${l}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${x(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},jt=e=>{const{antCls:t,componentCls:n}=e;return{[`&${n}-with-progress`]:{[`${n}-item`]:{paddingTop:e.paddingXXS,[`&-process ${n}-item-container ${n}-item-icon ${n}-icon`]:{color:e.processIconColor}},[`&${n}-vertical > ${n}-item `]:{paddingInlineStart:e.paddingXXS,[`> ${n}-item-container > ${n}-item-tail`]:{top:e.marginXXS,insetInlineStart:e.calc(e.iconSize).div(2).sub(e.lineWidth).add(e.paddingXXS).equal()}},[`&, &${n}-small`]:{[`&${n}-horizontal ${n}-item:first-child`]:{paddingBottom:e.paddingXXS,paddingInlineStart:e.paddingXXS}},[`&${n}-small${n}-vertical > ${n}-item > ${n}-item-container > ${n}-item-tail`]:{insetInlineStart:e.calc(e.iconSizeSM).div(2).sub(e.lineWidth).add(e.paddingXXS).equal()},[`&${n}-label-vertical`]:{[`${n}-item ${n}-item-tail`]:{top:e.calc(e.margin).sub(e.calc(e.lineWidth).mul(2).equal()).equal()}},[`${n}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetBlockStart:e.calc(e.calc(e.iconSize).sub(e.stepsProgressSize).sub(e.calc(e.lineWidth).mul(2).equal()).equal()).div(2).equal(),insetInlineStart:e.calc(e.calc(e.iconSize).sub(e.stepsProgressSize).sub(e.calc(e.lineWidth).mul(2).equal()).equal()).div(2).equal()}}}}},zt=e=>{const{componentCls:t,descriptionMaxWidth:n,lineHeight:i,dotCurrentSize:a,dotSize:l,motionDurationSlow:b}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:i},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${x(e.calc(n).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${x(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:l,height:l,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(l).div(2).equal(),paddingInlineEnd:0,lineHeight:`${x(l)}`,background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${b}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(l).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:n},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(l).sub(a).div(2).equal(),width:a,height:a,lineHeight:`${x(a)}`,background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(a).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(l).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(a).div(2).equal(),top:0,insetInlineStart:e.calc(l).sub(a).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(l).div(2).equal(),insetInlineStart:0,margin:0,padding:`${x(e.calc(l).add(e.paddingXS).equal())} 0 ${x(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(l).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(l).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(a).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(l).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},_t=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},Mt=e=>{const{componentCls:t,iconSizeSM:n,fontSizeSM:i,fontSize:a,colorTextDescription:l}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:n,height:n,marginTop:0,marginBottom:0,marginInline:`0 ${x(e.marginXS)}`,fontSize:i,lineHeight:`${x(n)}`,textAlign:"center",borderRadius:n},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:a,lineHeight:`${x(n)}`,"&::after":{top:e.calc(n).div(2).equal()}},[`${t}-item-description`]:{color:l,fontSize:a},[`${t}-item-tail`]:{top:e.calc(n).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:n,lineHeight:`${x(n)}`,transform:"none"}}}}},Ot=e=>{const{componentCls:t,iconSizeSM:n,iconSize:i}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:`${x(i)}`},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(i).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${x(e.calc(e.marginXXS).mul(1.5).add(i).equal())} 0 ${x(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(n).div(2).sub(e.lineWidth).equal(),padding:`${x(e.calc(e.marginXXS).mul(1.5).add(n).equal())} 0 ${x(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:`${x(n)}`}}}}};var Q;(function(e){e.wait="wait",e.process="process",e.finish="finish",e.error="error"})(Q||(Q={}));const k=(e,t)=>{const n=`${t.componentCls}-item`,i=`${e}IconColor`,a=`${e}TitleColor`,l=`${e}DescriptionColor`,b=`${e}TailColor`,f=`${e}IconBgColor`,g=`${e}IconBorderColor`,C=`${e}DotColor`;return{[`${n}-${e} ${n}-icon`]:{backgroundColor:t[f],borderColor:t[g],[`> ${t.componentCls}-icon`]:{color:t[i],[`${t.componentCls}-icon-dot`]:{background:t[C]}}},[`${n}-${e}${n}-custom ${n}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[C]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-title`]:{color:t[a],"&::after":{backgroundColor:t[b]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-description`]:{color:t[l]},[`${n}-${e} > ${n}-container > ${n}-tail::after`]:{backgroundColor:t[b]}}},Pt=e=>{const{componentCls:t,motionDurationSlow:n}=e,i=`${t}-item`,a=`${i}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[i]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${i}-container > ${i}-tail, > ${i}-container >  ${i}-content > ${i}-title::after`]:{display:"none"}}},[`${i}-container`]:{outline:"none","&:focus-visible":{[a]:Object.assign({},qe(e))}},[`${a}, ${i}-content`]:{display:"inline-block",verticalAlign:"top"},[a]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:`${x(e.iconSize)}`,textAlign:"center",borderRadius:e.iconSize,border:`${x(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${n}, border-color ${n}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${i}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).sub(e.paddingXXS).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${n}`,content:'""'}},[`${i}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:`${x(e.titleLineHeight)}`,"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${i}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${i}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},k(Q.wait,e)),k(Q.process,e)),{[`${i}-process > ${i}-container > ${i}-title`]:{fontWeight:e.fontWeightStrong}}),k(Q.finish,e)),k(Q.error,e)),{[`${i}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${i}-disabled`]:{cursor:"not-allowed"}})},Bt=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${n}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},Ht=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Te(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),Pt(e)),Bt(e)),Tt(e)),Mt(e)),Ot(e)),It(e)),zt(e)),Nt(e)),_t(e)),jt(e)),wt(e))}},Et=e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive}),Lt=ye("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:n,colorTextLightSolid:i,colorText:a,colorPrimary:l,colorTextDescription:b,colorTextQuaternary:f,colorError:g,colorBorderSecondary:C,colorSplit:z}=e,c=xe(e,{processIconColor:i,processTitleColor:a,processDescriptionColor:a,processIconBgColor:l,processIconBorderColor:l,processDotColor:l,processTailColor:z,waitTitleColor:b,waitDescriptionColor:b,waitTailColor:z,waitDotColor:t,finishIconColor:l,finishTitleColor:a,finishDescriptionColor:b,finishTailColor:l,finishDotColor:l,errorIconColor:i,errorTitleColor:g,errorDescriptionColor:g,errorTailColor:z,errorIconBgColor:g,errorIconBorderColor:g,errorDotColor:g,stepsNavActiveColor:l,stepsProgressSize:n,inlineDotSize:6,inlineTitleColor:f,inlineTailColor:C});return[Ht(c)]},Et);function Rt(e){return e.filter(t=>t)}function Dt(e,t){if(e)return e;const n=Xe(t).map(i=>{if(r.isValidElement(i)){const{props:a}=i;return Object.assign({},a)}return null});return Rt(n)}var qt=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};const _e=e=>{const{percent:t,size:n,className:i,rootClassName:a,direction:l,items:b,responsive:f=!0,current:g=0,children:C,style:z}=e,c=qt(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:T}=Ae(f),{getPrefixCls:j,direction:O,steps:_}=r.useContext(we),H=r.useMemo(()=>f&&T?"vertical":l,[T,l]),$=Ie(n),M=j("steps",e.prefixCls),[S,N,w]=Lt(M),P=e.type==="inline",I=j("",e.iconPrefix),B=Dt(b,C),d=P?void 0:t,s=Object.assign(Object.assign({},_?.style),z),m=X(_?.className,{[`${M}-rtl`]:O==="rtl",[`${M}-with-progress`]:d!==void 0},i,a,N,w),h={finish:r.createElement(We,{className:`${M}-finish-icon`}),error:r.createElement(Ve,{className:`${M}-error-icon`})},p=v=>{let{node:y,status:E}=v;if(E==="process"&&d!==void 0){const D=$==="small"?32:40;return r.createElement("div",{className:`${M}-progress-icon`},r.createElement(st,{type:"circle",percent:d,size:D,strokeWidth:4,format:()=>null}),y)}return y},o=(v,y)=>v.description?r.createElement(Fe,{title:v.description},y):y;return S(r.createElement(re,Object.assign({icons:h},c,{style:s,current:g,size:$,items:B,itemRender:P?o:void 0,stepIcon:p,direction:H,prefixCls:M,iconPrefix:I,className:m})))};_e.Step=re.Step;const Xt=_e,At=e=>{const t=e?.algorithm?ue(e.algorithm):ue(te),n=Object.assign(Object.assign({},Ge),e?.token);return Ke(n,{override:e?.token},t,Qe)},Wt=At;function Vt(e){const{sizeUnit:t,sizeStep:n}=e,i=n-2;return{sizeXXL:t*(i+10),sizeXL:t*(i+6),sizeLG:t*(i+2),sizeMD:t*(i+2),sizeMS:t*(i+1),size:t*i,sizeSM:t*i,sizeXS:t*(i-1),sizeXXS:t*(i-1)}}const Ft=(e,t)=>{const n=t??te(e),i=n.fontSizeSM,a=n.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),Vt(t??e)),Ye(i)),{controlHeight:a}),Ue(Object.assign(Object.assign({},n),{controlHeight:a})))},Gt=Ft,q=(e,t)=>new Ne(e).setAlpha(t).toRgbString(),G=(e,t)=>new Ne(e).lighten(t).toHexString(),Kt=e=>{const t=je(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},Qt=(e,t)=>{const n=e||"#000",i=t||"#fff";return{colorBgBase:n,colorTextBase:i,colorText:q(i,.85),colorTextSecondary:q(i,.65),colorTextTertiary:q(i,.45),colorTextQuaternary:q(i,.25),colorFill:q(i,.18),colorFillSecondary:q(i,.12),colorFillTertiary:q(i,.08),colorFillQuaternary:q(i,.04),colorBgElevated:G(n,12),colorBgContainer:G(n,8),colorBgLayout:G(n,0),colorBgSpotlight:G(n,26),colorBgBlur:q(i,.04),colorBorder:G(n,26),colorBorderSecondary:G(n,19)}},Yt=(e,t)=>{const n=Object.keys(Ze).map(a=>{const l=je(e[a],{theme:"dark"});return new Array(10).fill(1).reduce((b,f,g)=>(b[`${a}-${g+1}`]=l[g],b[`${a}${g+1}`]=l[g],b),{})}).reduce((a,l)=>(a=Object.assign(Object.assign({},a),l),a),{}),i=t??te(e);return Object.assign(Object.assign(Object.assign({},i),n),Je(e,{generateColorPalettes:Kt,generateNeutralColorPalettes:Qt}))},Ut=Yt;function Zt(){const[e,t,n]=ke();return{theme:e,token:t,hashId:n}}const Jt={defaultConfig:me,defaultSeed:me.token,useToken:Zt,defaultAlgorithm:te,darkAlgorithm:Ut,compactAlgorithm:Gt,getDesignToken:Wt};var kt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M656 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm58 624h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm696-696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-174 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm174-696H358c-127 0-230 103-230 230v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-87.3 70.7-158 158-158h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"radius-upleft",theme:"outlined"};const ei=kt;var ti=function(t,n){return r.createElement(et,W({},t,{ref:n,icon:ei}))};const ii=r.forwardRef(ti),ni='[{"name":"Trung du và miền núi phía Bắc","code":"1","bbox":"102.14458466,20.30520058,108.06887054,23.39243698","area":118024.3075509592,"pop":0,"arrProvince":[{"provinceid":"24","name":"Tỉnh Bắc Giang","bbox":"105.88098533800007,21.122269823000067,107.03356713900007,21.62650246000004","area":4514.066532565789,"pop":0},{"provinceid":"06","name":"Tỉnh Bắc Kạn","bbox":"105.43110930900008,21.804395171000067,106.24717710600004,22.74120132400003","area":5702.549788989192,"pop":0},{"provinceid":"04","name":"Tỉnh Cao Bằng","bbox":"105.26572375400008,22.356413794000048,106.83726459300004,23.119846609000035","area":7917.521331816038,"pop":0},{"provinceid":"11","name":"Tỉnh Điện Biên","bbox":"102.14385417300008,20.892926791000036,103.59849904900005,22.547996477000027","area":11109.560674736478,"pop":0},{"provinceid":"02","name":"Tỉnh Hà Giang","bbox":"104.33432270000009,22.16628469400007,105.57415559400005,23.392738122000026","area":9373.316548498879,"pop":0},{"provinceid":"17","name":"Tỉnh Hoà Bình","bbox":"104.83241822200006,20.30510045500006,105.86171301000007,21.112849721000032","area":5290.6186474113465,"pop":0},{"provinceid":"12","name":"Tỉnh Lai Châu","bbox":"102.32068637900005,21.685745413000063,103.98521710800009,22.81133784000008","area":10649.763711130368,"pop":0},{"provinceid":"20","name":"Tỉnh Lạng Sơn","bbox":"106.09507153700008,21.325091651000037,107.36402523400005,22.461644902000046","area":9690.555049315866,"pop":0},{"provinceid":"10","name":"Tỉnh Lào Cai","bbox":"103.53084058300004,21.87549282200007,104.62667559900007,22.844940106000024","area":7471.64282261069,"pop":0},{"provinceid":"25","name":"Tỉnh Phú Thọ","bbox":"104.81376229200004,20.91630470100006,105.45706968500008,21.720143147000044","area":4095.4693546940116,"pop":0},{"provinceid":"22","name":"Tỉnh Quảng Ninh","bbox":"106.43883113200008,20.687306697000054,108.09703264700005,21.663927277000028","area":6785.188418704283,"pop":0},{"provinceid":"14","name":"Tỉnh Sơn La","bbox":"103.21216658800006,20.573672163000026,105.02715441600009,22.030892789000063","area":16322.637890972184,"pop":0},{"provinceid":"19","name":"Tỉnh Thái Nguyên","bbox":"105.47726469300005,21.325140963000024,106.23822256100004,22.047902667000074","area":4097.069215507338,"pop":0},{"provinceid":"08","name":"Tỉnh Tuyên Quang","bbox":"104.84832455300005,21.497590036000076,105.59854389800006,22.693819509000036","area":6867.332689398163,"pop":0},{"provinceid":"15","name":"Tỉnh Yên Bái","bbox":"103.88589585200003,21.32584842700004,105.10047157700006,22.292617160000077","area":8022.397172322977,"pop":0}]},{"name":"Đồng Bằng Sông Hồng","code":"2","bbox":"105.28813171,19.93569565,107.74571228,21.5738411","area":17028.630577997843,"pop":0,"arrProvince":[{"provinceid":"01","name":"Thành phố Hà Nội","bbox":"105.29136972400005,20.564307719000055,106.02007593100006,21.385408194000036","area":3845.847917459135,"pop":0},{"provinceid":"31","name":"Thành phố Hải Phòng","bbox":"106.40051200200008,20.11719974600004,107.74394968500008,21.02075472200005","area":1613.5905184710336,"pop":0},{"provinceid":"27","name":"Tỉnh Bắc Ninh","bbox":"105.90415324800006,20.969367360000035,106.31004675700007,21.264207992000024","area":947.0528373705475,"pop":0},{"provinceid":"35","name":"Tỉnh Hà Nam","bbox":"105.76862727600007,20.362714564000044,106.18355540200008,20.70373659200004","area":989.1074896359464,"pop":0},{"provinceid":"30","name":"Tỉnh Hải Dương","bbox":"106.12365279500005,20.684332007000023,106.61152031500006,21.236618751000037","area":1921.2392211757624,"pop":0},{"provinceid":"33","name":"Tỉnh Hưng Yên","bbox":"105.89501610000008,20.602762442000028,106.26933267400005,21.00699266400005","area":1070.6674024174067,"pop":0},{"provinceid":"36","name":"Tỉnh Nam Định","bbox":"105.92381315000006,19.92247931000003,106.59959621200005,20.499667121000073","area":1786.92390857688,"pop":0},{"provinceid":"37","name":"Tỉnh Ninh Bình","bbox":"105.54212093900009,19.88983777800007,106.16840731800005,20.453470751000054","area":1536.6378624718018,"pop":0},{"provinceid":"34","name":"Tỉnh Thái Bình","bbox":"106.10992513400004,20.252308605000053,106.64285523300003,20.729116220000037","area":1806.742819323044,"pop":0},{"provinceid":"26","name":"Tỉnh Vĩnh Phúc","bbox":"105.32269423800005,21.151841958000034,105.78656890200006,21.573950165000042","area":1433.7620016627366,"pop":0}]},{"name":"Bắc Trung Bộ","code":"3","bbox":"103.87521362,15.99489307,108.19450378,20.67055702","area":57293.802725446934,"pop":0,"arrProvince":[{"provinceid":"42","name":"Tỉnh Hà Tĩnh","bbox":"105.10390174500009,17.910397114000034,106.51104314900005,18.811088405000078","area":6656.182892140541,"pop":0},{"provinceid":"40","name":"Tỉnh Nghệ An","bbox":"103.87472161800008,18.552085714000043,105.80593418600006,19.997692492000056","area":18589.92646213432,"pop":0},{"provinceid":"44","name":"Tỉnh Quảng Bình","bbox":"105.59628785000007,16.921375712000042,106.99134291100006,18.090159070000027","area":8834.423006408986,"pop":0},{"provinceid":"45","name":"Tỉnh Quảng Trị","bbox":"106.51606914900009,16.301787103000038,107.39116976500009,17.16625547600006","area":5064.295654195725,"pop":0},{"provinceid":"38","name":"Tỉnh Thanh Hóa","bbox":"104.37410332700006,19.287700908000033,106.07594566200004,20.670049599000038","area":12630.52888694104,"pop":0},{"provinceid":"46","name":"Tỉnh Thừa Thiên Huế","bbox":"107.01612181300004,15.994874933000062,108.19511300000005,16.742480382000053","area":5484.339396253941,"pop":0}]},{"name":"Duyên Hải Nam Trung Bộ","code":"4","bbox":"107.21051788,7.39143848,117.81734467,17.12056541","area":51054.107879352625,"pop":0,"arrProvince":[{"provinceid":"48","name":"Thành phố Đà Nẵng","bbox":"107.81872405800004,15.77708817000007,112.76391602000001,17.12056541000004","area":1558.2880596729833,"pop":0},{"provinceid":"52","name":"Tỉnh Bình Định","bbox":"108.60136323600005,13.515139130000023,109.36344910000008,14.70306951300006","area":6493.3933606731935,"pop":0},{"provinceid":"60","name":"Tỉnh Bình Thuận","bbox":"107.39464576000006,9.964254979000032,109.08451632200007,11.555738723000047","area":8301.020457240753,"pop":0},{"provinceid":"56","name":"Tỉnh Khánh Hòa","bbox":"108.66932026500007,7.3914384800000335,117.81734467000001,12.868785918000071","area":7923.362231410467,"pop":0},{"provinceid":"58","name":"Tỉnh Ninh Thuận","bbox":"108.55212305100008,11.306680176000043,109.23364335400004,12.168070686000021","area":3519.8579273794894,"pop":0},{"provinceid":"54","name":"Tỉnh Phú Yên","bbox":"108.67315507400008,12.704954413000053,109.45896653000005,13.69532954500005","area":5335.271142124527,"pop":0},{"provinceid":"49","name":"Tỉnh Quảng Nam","bbox":"107.21023869200008,14.951354207000065,108.73894605900006,16.067651305000027","area":11464.96529227333,"pop":0},{"provinceid":"51","name":"Tỉnh Quảng Ngãi","bbox":"108.23510611400008,14.532730100000038,109.14374591800004,15.433193207000045","area":5556.840386597641,"pop":0}]},{"name":"Tây Nguyên","code":"5","bbox":"107.20632935,11.21512127,108.9954071,15.4174633","area":57859.800142753746,"pop":0,"arrProvince":[{"provinceid":"66","name":"Tỉnh Đắk Lắk","bbox":"107.48468190000006,12.161034534000066,108.99542934000004,13.416587485000036","area":13786.741242962838,"pop":0},{"provinceid":"67","name":"Tỉnh Đắk Nông","bbox":"107.20629162700004,11.74900376100004,108.11636491700006,12.812316930000065","area":6853.536749487105,"pop":0},{"provinceid":"64","name":"Tỉnh Gia Lai","bbox":"107.45040867800009,12.99578105200004,108.87332194000004,14.603162629000053","area":16543.51193054843,"pop":0},{"provinceid":"62","name":"Tỉnh Kon Tum","bbox":"107.33165621400008,13.921094096000047,108.54689201600007,15.417463220000059","area":10405.195298963474,"pop":0},{"provinceid":"68","name":"Tỉnh Lâm Đồng","bbox":"107.26575378200005,11.215028053000026,108.72882460800008,12.317755694000027","area":10272.003557082273,"pop":0}]},{"name":"Đông Nam Bộ","code":"6","bbox":"105.80844879,8.62875843,107.57713318,12.2983942","area":24651.096608218973,"pop":0,"arrProvince":[{"provinceid":"79","name":"Thành phố Hồ Chí Minh","bbox":"106.35437964200008,10.377122731000043,107.02726295300005,11.159840431000077","area":2153.8447630235173,"pop":0},{"provinceid":"77","name":"Tỉnh Bà Rịa - Vùng Tàu","bbox":"106.53633041000006,8.628099090000035,107.57193091700009,10.804531745000077","area":2052.7969023559863,"pop":0},{"provinceid":"74","name":"Tỉnh Bình Dương","bbox":"106.32635792000008,10.86370942000002,106.96675687400005,11.500285595000037","area":2817.6809010039906,"pop":0},{"provinceid":"70","name":"Tỉnh Bình Phước","bbox":"106.41146806500007,11.301342304000059,107.42733101600004,12.297916549000036","area":7217.489373122651,"pop":0},{"provinceid":"75","name":"Tỉnh Đồng Nai","bbox":"106.75117010000008,10.579208975000029,107.57746517100009,11.581994801000064","area":6122.892685785066,"pop":0},{"provinceid":"72","name":"Tỉnh Tây Ninh","bbox":"105.80976417600004,10.962518230000057,106.49132573700007,11.782290000000046","area":4232.4321498400195,"pop":0}]},{"name":"Đồng Bằng Sông Cửu Long","code":"7","bbox":"103.45875549,8.38135529,106.8225354,11.03209209","area":41808.05133754436,"pop":0,"arrProvince":[{"provinceid":"92","name":"Thành phố Cần Thơ","bbox":"105.22569128000004,9.918952266000076,105.84442237600007,10.32514943800004","area":1494.9137823598494,"pop":0},{"provinceid":"89","name":"Tỉnh An Giang","bbox":"104.77812358800008,10.183605557000021,105.57562408400008,10.962093242000037","area":3679.007130229421,"pop":0},{"provinceid":"95","name":"Tỉnh Bạc Liêu","bbox":"105.23250864500005,9.016284724000059,105.86010405600007,9.637474977000068","area":2562.663810585736,"pop":0},{"provinceid":"83","name":"Tỉnh Bến Tre","bbox":"106.02812067500008,9.78902946200003,106.83434488300009,10.340423473000044","area":2429.573074056416,"pop":0},{"provinceid":"96","name":"Tỉnh Cà Mau","bbox":"104.52219370800009,8.381386552000038,105.41920832800008,9.561755159000029","area":5394.349517071331,"pop":0},{"provinceid":"87","name":"Tỉnh Đồng Tháp","bbox":"105.18923709300009,10.134046617000024,105.94210456700006,10.974076096000033","area":3527.057687548492,"pop":0},{"provinceid":"93","name":"Tỉnh Hậu Giang","bbox":"105.32801818900003,9.58223948500006,105.89686508300008,9.99406176900004","area":1680.5284955604095,"pop":0},{"provinceid":"91","name":"Tỉnh Kiên Giang","bbox":"103.45875549000004,9.254500000000064,105.53932296500005,10.540228512000056","area":6548.751156291135,"pop":0},{"provinceid":"80","name":"Tỉnh Long An","bbox":"105.49878755300006,10.394593463000035,106.74731163400008,11.032330286000047","area":4686.333494706703,"pop":0},{"provinceid":"94","name":"Tỉnh Sóc Trăng","bbox":"105.54377489100006,9.243566217000023,106.31283145700007,9.938006403000031","area":3393.60099783446,"pop":0},{"provinceid":"82","name":"Tỉnh Tiền Giang","bbox":"105.81575980600007,10.19222448100004,106.80427551900004,10.58706675600007","area":2488.5701525421796,"pop":0},{"provinceid":"84","name":"Tỉnh Trà Vinh","bbox":"105.95334512000005,9.520062171000063,106.59875322900007,10.081772787000034","area":2389.9369672065145,"pop":0},{"provinceid":"86","name":"Tỉnh Vĩnh Long","bbox":"105.68289331700004,9.883241576000046,106.28963967800007,10.331231999000067","area":1584.3496794733146,"pop":0}]}]';function oi({onResult:e,scopeResult:t}){const[n,i]=r.useState("user1"),a=d=>{i(d)};console.log(t);const[l,b]=r.useState([]),[f,g]=r.useState(""),[C,z]=r.useState([]),[c,T]=r.useState(null),[j,O]=r.useState([]),[_,H]=r.useState(null),$=JSON.parse(ni).map(d=>({...d,value:d.code,label:d.name})),M=(d,s)=>(s?.label??"").toLowerCase().includes(d.toLowerCase()),S=d=>{const s=$.filter(p=>p.value===d);if(s.length>0){if(s[0].bbox!=null){let o=s[0].bbox.split(","),v=[[Number(o[0]),Number(o[1])],[Number(o[2]),Number(o[3])]];I.current.fitBounds(v)}else I.current.flyTo({center:[107.9426393217799,16.92300264959944],zoom:4.2});e({option:n,khuvuc:d})}const h=(s.length>0?s[0].arrProvince:[]).map(p=>({...p,value:p.provinceid,label:p.name}));z(h)},N=async d=>{const s=C.filter(o=>o.value===d);if(s.length>0&&s[0].bbox!=null){let o=s[0].bbox.split(","),v=[[Number(o[0]),Number(o[1])],[Number(o[2]),Number(o[3])]];I.current.fitBounds(v)}T(d);let m=`https://api.ekgis.vn/data/administrative/province/${d}/district?api_key=${f}`;const p=await(await fetch(m)).json();if(p&&p.length>0){let o=p.map(v=>({...v,value:v.districtid,label:v.name}));O(o)}},w=d=>{const s=j.filter(m=>m.value===d);if(s.length>0&&s[0].bbox!=null){let m=s[0].bbox.split(","),h=[[Number(m[0]),Number(m[1])],[Number(m[2]),Number(m[3])]];I.current.fitBounds(h)}H(d)},P=async()=>{let d=await Z.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_api");g(d.result)},I=r.useRef(null),B=()=>{I.current=new A.Map({container:"map_cf",center:[108.485,16.449],zoom:5.43}),new ekmapplf.VectorBaseMap("OSM:Bright",f).addTo(I.current);var d=new ekmapplf.control.BaseMap({id:"basemap_control",baseLayers:[{id:"OSM:Bright",title:"Bản đồ nền Sáng",thumbnail:"https://docs.ekgis.vn/assets/map-sang.png",width:"50px",height:"50px"},{id:"OSM:Standard",title:"Bản đồ nền Tiêu chuẩn",thumbnail:"https://docs.ekgis.vn/assets/map-chuan.png",width:"50px",height:"50px"},{id:"OSM:Night",title:"Bản đồ nền Đêm",thumbnail:"https://docs.ekgis.vn/assets/dem-map.png",width:"50px",height:"50px"}]});I.current.addControl(d,"bottom-left"),d.on("changeBaseLayer",async function(o){await new ekmapplf.VectorBaseMap(o.layer,f).addTo(I.current)}),I.current.addControl(new A.NavigationControl({visualizePitch:!0}),"bottom-right");var s=!1;I.current.getPitch()>0?s=!0:s=!1;var m="maplibregl-terrain2d-control",h="Hiển thị 2D";s||(m="maplibregl-terrain3d-control",h="Bản đồ 3D");let p=new ekmapplf.control.Button({className:"btn-ctl-group "+m,icon:"none",tooltip:h});p.on("click",o=>{s=!s,s?(o._div.className=o._div.className.replaceAll("maplibregl-terrain3d-control","maplibregl-terrain2d-control"),o._div.title="Hiển thị 2D"):(o._div.className=o._div.className.replaceAll("maplibregl-terrain2d-control","maplibregl-terrain3d-control"),o._div.title="Hiển thị 3D"),s?(I.current.easeTo({pitch:60}),I.current.setLayoutProperty("building-3d","visibility","visible")):(I.current.easeTo({pitch:0}),I.current.setLayoutProperty("building-3d","visibility","none"))}),I.current.addControl(p,"bottom-right"),I.current.addControl(new A.FullscreenControl,"top-right")};return r.useEffect(()=>{P()},[]),r.useEffect(()=>{f!=null&&f!=""&&B()},[f]),r.useEffect(()=>{},[l]),u.jsx(u.Fragment,{children:u.jsxs(tt,{children:[u.jsxs(pe,{span:12,style:{paddingRight:"10px"},children:[u.jsx(ct,{gap:"small",align:"flex-start",vertical:!0,style:{width:"100%"},children:u.jsx(yt,{style:{width:"100%",justifyContent:"space-between"},onChange:a,options:[{label:u.jsxs("div",{style:{padding:4},children:[u.jsx(ii,{style:{fontSize:"2rem"}}),u.jsx("div",{children:"Theo vùng bao nhỏ nhất "})]}),value:"user1"},{label:u.jsxs("div",{style:{padding:4},children:[u.jsx("svg",{className:"custom-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:u.jsx("path",{d:"M302.8 312C334.9 271.9 408 174.6 408 120C408 53.7 354.3 0 288 0S168 53.7 168 120c0 54.6 73.1 151.9 105.2 192c7.7 9.6 22 9.6 29.6 0zM416 503l144.9-58c9.1-3.6 15.1-12.5 15.1-22.3V152c0-17-17.1-28.6-32.9-22.3l-116 46.4c-.5 1.2-1 2.5-1.5 3.7c-2.9 6.8-6.1 13.7-9.6 20.6V503zM15.1 187.3C6 191 0 199.8 0 209.6V480.4c0 17 17.1 28.6 32.9 22.3L160 451.8V200.4c-3.5-6.9-6.7-13.8-9.6-20.6c-5.6-13.2-10.4-27.4-12.8-41.5l-122.6 49zM384 255c-20.5 31.3-42.3 59.6-56.2 77c-20.5 25.6-59.1 25.6-79.6 0c-13.9-17.4-35.7-45.7-56.2-77V449.4l192 54.9V255z"})}),u.jsx("div",{children:"Theo đơn vị hành chính"})]}),value:"user2"}]})}),n==="user1"&&u.jsx("div",{style:{lineHeight:"20px",textAlign:"left"},children:u.jsx("p",{style:{padding:"10px",fontWeight:"bold",color:"#0a743e"},children:"Xác định khu vực đánh giá theo vùng bao đóng đại lý phân phối"})}),n==="user2"&&u.jsxs("div",{style:{lineHeight:"20px",textAlign:"left"},children:[u.jsx("p",{style:{padding:"10px",fontWeight:"bold",color:"#0a743e"},children:"Xác định giới hạn khu vực bằng đơn vị hành chính các cấp tỉnh, huyện"}),u.jsxs(K,{layout:"vertical",style:{paddingLeft:"10px"},children:[u.jsx(K.Item,{label:"Khu vực",name:"khuvuc",children:u.jsx(ee,{showSearch:!0,placeholder:"Chọn khu vực",onChange:S,options:$,filterOption:M})}),u.jsx(K.Item,{label:"Đơn vị hành chính cấp tỉnh",name:"tinh",children:u.jsx(ee,{showSearch:!0,placeholder:"Chọn khu vực hành chính cấp tỉnh/thành phố",value:c,onChange:N,options:C,filterOption:M})}),u.jsx(K.Item,{label:"Đơn vị hành chính cấp huyện",name:"huyen",children:u.jsx(ee,{showSearch:!0,placeholder:"Chọn khu vực hành chính cấp quận/huyện",onChange:w,options:j,filterOption:M})})]})]})]}),u.jsx(pe,{span:12,children:u.jsx("div",{id:"map_cf",style:{width:"100%",height:"450px"}})})]})})}function ai(){const[e,t]=r.useState(null),n=[{value:"restaurant",label:"Nhà hàng"},{value:"cafe",label:"Quán cà phê"},{value:"bakery",label:"Tiệm bánh"},{value:"grocery",label:"Cửa hàng tạp hóa"},{value:"clothing",label:"Cửa hàng quần áo"},{value:"electronics",label:"Cửa hàng điện tử"},{value:"bookstore",label:"Hiệu sách"},{value:"pharmacy",label:"Nhà thuốc"},{value:"petstore",label:"Cửa hàng thú cưng"},{value:"hardware",label:"Cửa hàng vật liệu xây dựng"}],i=(l,b)=>(b?.label??"").toLowerCase().includes(l.toLowerCase()),a=l=>{t(l)};return u.jsx(u.Fragment,{children:u.jsx(K,{layout:"vertical",style:{padding:"10px"},children:u.jsx(K.Item,{label:"Chọn ngành hàng : ",name:"nganhhang",children:u.jsx(ee,{showSearch:!0,placeholder:"Chọn ngành hàng",onChange:a,options:n,filterOption:i})})})})}function ri({open:e,title:t,onCancel:n,onOk:i}){const[a,l]=r.useState(null);r.useState(null);const b=_=>{console.log(_),l(_)},f=[{title:"Phạm vi đánh giá độ phủ đại lý",content:u.jsx(oi,{onResult:b,scopeResult:a})},{title:"Ngành hàng đánh giá độ phủ",content:u.jsx(ai,{})}],{token:g}=Jt.useToken(),[C,z]=r.useState(0),c=()=>{z(C+1)},T=()=>{z(C-1)},j=f.map(_=>({key:_.title,title:_.title})),O={lineHeight:"260px",textAlign:"left",color:g.colorTextTertiary,backgroundColor:g.colorFillAlter,borderRadius:g.borderRadiusLG,border:`1px dashed ${g.colorBorder}`,marginTop:16};return u.jsx(u.Fragment,{children:u.jsxs(it,{width:850,open:e,title:t,onOk:i,onCancel:n,footer:[],children:[u.jsx(Xt,{current:C,items:j}),u.jsx("div",{style:O,children:f[C].content}),u.jsxs("div",{style:{marginTop:24},children:[C<f.length-1&&u.jsx(ne,{type:"primary",onClick:()=>c(),children:"Tiếp theo"}),C===f.length-1&&u.jsx(ne,{type:"primary",onClick:()=>nt.success("Processing complete!"),children:"Hoàn thành"}),C>0&&u.jsx(ne,{style:{margin:"0 8px"},onClick:()=>T(),children:"Quay lại"})]})]})})}const li=({onCheck:e,onMoveLayer:t})=>{const[n,i]=r.useState([]),[a,l]=r.useState([]),[b,f]=r.useState([]),[g,C]=r.useState(!0),[z,c]=r.useState([]),T=S=>S.map((N,w)=>({title:N.label,key:N.id,children:N.children?T(N.children):[]})),j=async()=>{let S=await Z.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_map"),N=T(S.result);c(N)};r.useEffect(()=>{j()},[]);const O=S=>{console.log("onExpand",S),i(S),C(!1)},_=S=>{l(S),e(S)},H=(S,N)=>{console.log("onSelect",N),f(S)},$=S=>{console.log("onDragEnter:",S)},M=S=>{const N=S.node.key,w=S.dragNode.key,P=S.node.pos.split("-"),I=S.dropPosition-Number(P[P.length-1]),B=S.dragNode.pos.split("-");if(P.length===B.length){const d=(o,v,y)=>{for(let E=0;E<o.length;E++){if(o[E].key===v)return y(o[E],E,o);o[E].children&&d(o[E].children,v,y)}},s=[...z];let m;if(d(s,w,(o,v,y)=>{y.splice(v,1),m=o}),!S.dropToGap)d(s,N,o=>{o.children=o.children||[],o.children.unshift(m)});else{let o=[],v;d(s,N,(y,E,D)=>{o=D,v=E}),I===-1?o.splice(v,0,m):o.splice(v+1,0,m)}c(s);const h=w,p=S.dropToGap?N:void 0;p!==void 0&&t(h,p)}else return};return u.jsx(ot,{className:"draggable-tree",draggable:!0,blockNode:!0,checkable:!0,onExpand:O,expandedKeys:n,autoExpandParent:g,onCheck:_,checkedKeys:a,onSelect:H,selectedKeys:b,onDragEnter:$,onDrop:M,treeData:z})};function ci(){const e=[{label:"Đánh giá độ phủ đại lý",key:"1",onClick:()=>{n(!0)}}],[t,n]=r.useState(!1),i=()=>{n(!1)},a=()=>{console.log("Submitted"),n(!1)},[l,b]=r.useState(""),[f,g]=r.useState([]),[C,z]=r.useState([]),c=r.useRef(null),[T,j]=r.useState(!1),O=()=>{j(!T)};r.useEffect(()=>{_()},[]),r.useEffect(()=>{l!=null&&l!=""&&M()},[l]),r.useEffect(()=>{S()},[C]),r.useEffect(()=>{f!=null&&f.length>0&&N()},[f]);const _=async()=>{let d=await Z.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_api");b(d.result)},H=async()=>{let d=await Z.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_map");g(d.result)},$=async()=>{let d=await Z.get("/api/method/mbw_dms.api.selling.customer.get_customer_has_location");d.message=="Thành công"&&z(d.result)},M=()=>{console.log(l),c.current=new A.Map({container:"map",center:[108.485,16.449],zoom:5.43}),new ekmapplf.VectorBaseMap("OSM:Bright",l).addTo(c.current);var d=new ekmapplf.control.BaseMap({id:"basemap_control",baseLayers:[{id:"OSM:Bright",title:"Bản đồ nền Sáng",thumbnail:"https://docs.ekgis.vn/assets/map-sang.png",width:"50px",height:"50px"},{id:"OSM:Standard",title:"Bản đồ nền Tiêu chuẩn",thumbnail:"https://docs.ekgis.vn/assets/map-chuan.png",width:"50px",height:"50px"},{id:"OSM:Night",title:"Bản đồ nền Đêm",thumbnail:"https://docs.ekgis.vn/assets/dem-map.png",width:"50px",height:"50px"}]});c.current.addControl(d,"bottom-left"),d.on("changeBaseLayer",async function(o){await new ekmapplf.VectorBaseMap(o.layer,l).addTo(c.current)}),c.current.addControl(new A.NavigationControl({visualizePitch:!0}),"bottom-right");var s=!1;c.current.getPitch()>0?s=!0:s=!1;var m="maplibregl-terrain2d-control",h="Hiển thị 2D";s||(m="maplibregl-terrain3d-control",h="Bản đồ 3D");let p=new ekmapplf.control.Button({className:"btn-ctl-group "+m,icon:"none",tooltip:h});p.on("click",o=>{s=!s,s?(o._div.className=o._div.className.replaceAll("maplibregl-terrain3d-control","maplibregl-terrain2d-control"),o._div.title="Hiển thị 2D"):(o._div.className=o._div.className.replaceAll("maplibregl-terrain2d-control","maplibregl-terrain3d-control"),o._div.title="Hiển thị 3D"),s?(c.current.easeTo({pitch:60}),c.current.setLayoutProperty("building-3d","visibility","visible")):(c.current.easeTo({pitch:0}),c.current.setLayoutProperty("building-3d","visibility","none"))}),c.current.addControl(p,"bottom-right"),c.current.addControl(new A.FullscreenControl,"top-right"),c.current.on("load",async()=>{await H(),$()})},S=async()=>{let d={type:"FeatureCollection",features:[]};for(let s=0;s<C.length;s++){let m=JSON.parse(C[s].customer_location_primary),h={type:"Feature",geometry:{type:"Point",coordinates:[m.long,m.lat]},properties:C[s]};d.features.push(h)}if(c.current!=null&&c.current.isStyleLoaded())if(c.current.getSource("customer_clus"))c.current.getSource("customer_clus").setData(d);else{if(!c.current.getImage("marker-customer")){const s=await c.current.loadImage("https://files.ekgis.vn/sdks/tracking/assets/check-icon.png");c.current.addImage("marker-customer",s.data)}c.current.addSource("customer_clus",{type:"geojson",data:d,cluster:!0,clusterRadius:12}),c.current.addLayer({id:"customer_clus-cluster",type:"circle",source:"customer_clus",maxzoom:16,filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#90D667",10,"#EFCD41",50,"#FF0012"],"circle-radius":12,"circle-stroke-color":["step",["get","point_count"],"#90D667",10,"#EFCD41",50,"#FF0012"],"circle-stroke-opacity":.7,"circle-stroke-width":5}}),c.current.addLayer({id:"customer_clus-cluster-count",type:"symbol",source:"customer_clus",filter:["has","point_count"],layout:{"text-field":"{point_count}","text-size":12}}),c.current.on("mouseenter","customer_clus-uncluster",()=>{c.current.getCanvas().style.cursor="pointer"}),c.current.on("mouseleave","customer_clus-uncluster",()=>{c.current.getCanvas().style.cursor=""}),c.current.on("click","customer_clus-cluster",async s=>{const m=c.current.queryRenderedFeatures(s.point,{layers:["customer_clus-cluster"]}),h=m[0].properties.cluster_id,p=await c.current.getSource("customer_clus-cluster").getClusterExpansionZoom(h);c.current.easeTo({center:m[0].geometry.coordinates,zoom:p+.01})}),c.current.addLayer({id:"customer_clus-uncluster",type:"symbol",source:"customer_clus",filter:["!",["has","point_count"]],layout:{"icon-image":"marker-customer","icon-allow-overlap":!0,"icon-size":{stops:[[15,.7],[18,1]]}}}),c.current.addLayer({id:"customer_clus-title",type:"symbol",source:"customer_clus",filter:["!",["has","point_count"]],layout:{"text-field":["get","customer_name"],"text-font":["Roboto Medium"],"text-size":{stops:[[12,10],[13,11],[14,11],[15,11.5],[16,12.5],[20,16]]},"text-anchor":"top","text-max-width":9,"text-offset":[0,1.5],"text-padding":5},paint:{"text-color":"#ff5532","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":.5}}),c.current.on("click","customer_clus-uncluster",function(s){var m=s.features[0].geometry.coordinates.slice(),h=s.features[0].properties,p=`
            <div class="customer-popup-info">
                <b>${h.customer_name}</b>
            </div>
        `;h.customer_primary_address!=null&&h.customer_primary_address!=""&&(p+=`
            <div class="customer-popup-info">
                <span class="customer-popup-icon customer-icon-marker customer-icon-default-color"></span>
                <span>${h.customer_primary_address}</span>
            </div>`),h.customer_primary_contact!=null&&h.customer_primary_contact!=""&&(p+=`
            <div class="customer-popup-info">
                <span class="customer-popup-icon customer-icon-phone customer-icon-default-color"></span>
                <span>${h.customer_primary_contact}</span>
            </div>`),new A.Popup().setLngLat(m).setHTML(p).addTo(c.current)})}},N=d=>{f.forEach(s=>{s.group?s.children.forEach(m=>{const h=m.sources,p=m.layers;for(let o in h)c.current.getSource(o)||c.current.addSource(o,h[o]);p.forEach(o=>{c.current.getLayer(o.id)||c.current.addLayer(o);const v=m.visible?"visible":"none";c.current.setLayoutProperty(o.id,"visibility",v)})}):s.forEach(m=>{const h=m.sources,p=m.layers;for(let o in h)c.current.getSource(o)||c.current.addSource(o,h[o]);p.forEach(o=>{c.current.getLayer(o.id)||c.current.addLayer(o);const v=m.visible?"visible":"none";c.current.setLayoutProperty(o.id,"visibility",v)})})})},w=d=>{f.forEach(s=>{s.children.forEach(m=>{m.layers.forEach(p=>{const v=d.includes(p.id)?"visible":"none";c.current.setLayoutProperty(p.id,"visibility",v)})})})},P=(d,s)=>{if(I(d)){const m=B(f,[d]),h=B(f,[s]);m.forEach((p,o)=>{const v=h[o];c.current.moveLayer(p,v)})}else c.current.moveLayer(d.toString(),s.toString())},I=d=>{const s=f.find(m=>m.id===d);return s&&s.children&&s.children.length>0},B=(d,s)=>{const m=[];return s.forEach(h=>{const p=d.find(o=>o.id===h);p&&p.children&&p.children.forEach(o=>{m.push(o.id)})}),m};return u.jsxs(u.Fragment,{children:[u.jsx(lt,{title:"Bản đồ khách hàng"}),u.jsxs("div",{id:"map",style:{width:"100%",height:"80vh",borderRadius:"20px"},children:[u.jsx("div",{className:"ekmapplf_map-ananyltic",children:u.jsx(at.Button,{type:"primary",icon:u.jsx(rt,{}),menu:{items:e},children:"Công cụ phân tích"})}),u.jsxs("div",{id:"ekmapplf_tracking_legend",className:"ekmapplf_tracking-map-legend",children:[u.jsxs("div",{className:"ekmapplf_tracking-legend-title",onClick:O,children:[u.jsx("span",{className:`icon ${T?"ekmapplf_tracking-icon-square-minus":"ekmapplf_tracking-icon-square-plus"}`,style:{filter:"invert(100%) sepia(100%) saturate(0%) hue-rotate(187deg) brightness(105%) contrast(103%)"}}),u.jsx("span",{children:"Chú giải bản đồ"})]}),u.jsx("div",{className:`ekmapplf_tracking-legend-body ${T?"open":""}`,style:{maxHeight:T?"250px":"0",overflow:"auto"},children:u.jsx(li,{onCheck:w,onMoveLayer:P})})]})]}),u.jsx(ri,{open:t,title:"Đánh giá độ phủ",onCancel:i,onOk:a})]})}function pi(){return u.jsx(ci,{})}export{pi as default};
