import{W as p,L as e,aS as H,$ as Q,a0 as q,bz as U,R as z,Q as E,P as y,a3 as Y,a7 as ee}from"./index-uQqWI-Wl.js";import{u as te}from"./useDebount-96DOwi_S.js";import{e as ie,b as se,W as D,a as ne,c as ae}from"./WrapperCard-G_mgA4aK.js";import{L as A}from"./index-CB-iSdd3.js";function re(){const[g,j]=p.useState(!1),C=()=>{j(!g)},k={iconOnline:"https://files.ekgis.vn/sdks/tracking/assets/check-icon.png",iconOffline:"https://files.ekgis.vn/sdks/tracking/assets/offline-marker.png"};return e.jsxs("div",{id:"ekmapplf_tracking_legend",className:"ekmapplf_tracking-map-legend",children:[e.jsxs("div",{className:"ekmapplf_tracking-legend-title",onClick:C,children:[e.jsx("span",{className:`icon ${g?"ekmapplf_tracking-icon-square-minus":"ekmapplf_tracking-icon-square-plus"}`,style:{filter:"invert(100%) sepia(100%) saturate(0%) hue-rotate(187deg) brightness(105%) contrast(103%)"}}),e.jsx("span",{children:"Chú giải bản đồ"})]}),e.jsx("div",{className:`ekmapplf_tracking-legend-body ${g?"open":""}`,style:{maxHeight:g?"none":"0"},children:e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("span",{className:"ekmapplf_tracking-legend-icon",style:{backgroundImage:`url(${k.iconOnline})`}}),"Vị trí nhân viên Online"]}),e.jsxs("li",{children:[e.jsx("span",{className:"ekmapplf_tracking-legend-icon",style:{backgroundImage:`url(${k.iconOffline})`}}),"Vị trí nhân viên Offline"]})]})})]})}const B=window.ekmapplf;function le({options:g,onClickPopup:j,status:C}){const k=p.useRef(null),_=p.useRef(null),w=p.useRef(null),c=ie({},{center:[105,17],zoom:4.5,reloadTime:6e4,iconOnline:"https://files.ekgis.vn/sdks/tracking/assets/check-icon.png",iconOffline:"https://files.ekgis.vn/sdks/tracking/assets/offline-marker.png"},g);if(c.apiKey==""||!c.apiKey)throw new Error("Parameter apiKey not valid");if(c.projectId==""||!c.projectId)throw new Error("Parameter projectId not valid");if(c.objectId&&!Array.isArray(c.objectId))throw new Error("Parameter objectId not valid");return p.useEffect(()=>((async()=>{try{var Z;_.current=new H.Map({container:k.current,center:c.center,zoom:c.zoom,minZoom:1,pitch:30});var l=_.current;const h=l.getContainer();l.setPadding({top:100,bottom:100,left:100,right:100}),new B.VectorBaseMap("OSM:Bright",c.apiKey).addTo(l);var P=new B.control.BaseMap({id:"ekmapplf_tracking_ctrl_basemap_"+h.id,baseLayers:[{id:"OSM:Bright",title:"Bản đồ nền Sáng",thumbnail:"https://docs.ekgis.vn/assets/map-sang.png",width:"50px",height:"50px"},{id:"OSM:Standard",title:"Bản đồ nền Tiêu chuẩn",thumbnail:"https://docs.ekgis.vn/assets/map-chuan.png",width:"50px",height:"50px"},{id:"OSM:Gray",title:"Bản đồ nền Xám",thumbnail:"https://docs.ekgis.vn/assets/xam-map.png",width:"50px",height:"50px"},{id:"OSM:Night",title:"Bản đồ nền Đêm",thumbnail:"https://docs.ekgis.vn/assets/dem-map.png",width:"50px",height:"50px"},{id:"OSM:Dark",title:"Bản đồ nền Đêm xanh coban",thumbnail:"https://docs.ekgis.vn/assets/xanhcoban-map.png",width:"50px",height:"50px"},{id:"OSM:Pencil",title:"Bản đồ nền Bút chì",thumbnail:"https://docs.ekgis.vn/assets/chi-map.png",width:"50px",height:"50px"},{id:"OSM:Pirates",title:"Bản đồ nền Cổ điển",thumbnail:"https://docs.ekgis.vn/assets/dien-map.png",width:"50px",height:"50px"},{id:"OSM:Wood",title:"Bản đồ nền Gỗ",thumbnail:"https://docs.ekgis.vn/assets/go-map.png",width:"50px",height:"50px"}]});l.addControl(P,"bottom-left"),P.on("changeBaseLayer",async function(d){await new B.VectorBaseMap(d.layer,c.apiKey).addTo(l),setTimeout(()=>{L()},500)}),l.addControl(new H.NavigationControl({visualizePitch:!0}),"bottom-right");var b=!1;l.getPitch()>0?b=!0:b=!1;var R="maplibregl-terrain2d-control",$="Hiển thị 2D";b||(R="maplibregl-terrain3d-control",$="Bản đồ 3D");let W=new B.control.Button({className:"btn-ctl-group "+R,icon:"none",tooltip:$});W.on("click",d=>{b=!b,b?(d._div.className=d._div.className.replaceAll("maplibregl-terrain3d-control","maplibregl-terrain2d-control"),d._div.title="Hiển thị 2D"):(d._div.className=d._div.className.replaceAll("maplibregl-terrain2d-control","maplibregl-terrain3d-control"),d._div.title="Hiển thị 3D"),b?(l.easeTo({pitch:60}),l.setLayoutProperty("building-3d","visibility","visible")):(l.easeTo({pitch:0}),l.setLayoutProperty("building-3d","visibility","none"))}),l.addControl(W,"bottom-right"),l.addControl(new H.FullscreenControl,"bottom-right"),l.on("load",async()=>{try{let d=await L(),x=se(d);x&&l.fitBounds(x,{padding:100,maxZoom:14,duration:1e3}),w.current&&clearInterval(w.current),w.current=setInterval(()=>{N(c.objectId)},6e4)}catch(d){console.error("Error:",d)}});const L=async()=>{const d=async()=>{let f=`https://api.ekgis.vn/tracking/${c.projectId}/objects?api_key=${c.apiKey}`;return(await(await fetch(f)).json()).results.objects.map(i=>i._id)||[]};let x=c.objectId?c.objectId:await d(c.projectId);return c.objectId=x,await N(c.objectId)},N=async d=>{if(!Array.isArray(d))return;const x=async i=>{try{let s=function(K){const G=new Date().setHours(0,0,0,0);return new Date(K).setHours(0,0,0,0)===G};const r=`https://api.ekgis.vn/v2/tracking/locationHistory/position/${c.projectId}/${i}/lastest?api_key=${c.apiKey}`,o=`https://api.ekgis.vn/v1/checkin/${c.projectId}/${i}/lastcheckin?api_key=${c.apiKey}`,M=await fetch(r),v=await fetch(o),m=await M.json(),u=await v.json();if(!m.position&&!u.length)return{_id:m.summary._id,name:m.summary.name,status:"offline"};const S=m.position?Date.parse(m.position.timestamp):0,T=u.length?Date.parse(u[0].timestamp):0,F=S>T;var a=F?S:T;if(s(a)){var n="offline";const K=F?[m.position.coords.longitude,m.position.coords.latitude]:u[0].coordinates.split(",").map(X=>parseFloat(X)),G=await J(K);return F?Date.parse(new Date)-a<=600*1e3&&(n="online"):((u[0].timestamp.time_checkout="")||Date.parse(new Date)-Date.parse(u[0].timestamp.time_checkout)<=600*1e3)&&(n="online"),{_id:m.summary._id,name:m.summary.name,type:F?"tracking":"checkin",position:F?m.position:u[0],coordinates:K,address:G,status:n,timestamp:a}}else return{_id:m.summary._id,name:m.summary.name,status:"offline"}}catch(s){throw console.error("Error getting last position:",s),s}};var f=await Promise.all(d.map(i=>x(i).catch(a=>null)));f=f.filter(i=>i!==null);const O=f.reduce((i,a)=>(a.status==="offline"?i.offline++:a.status==="online"&&i.online++,i),{offline:0,online:0});C(O);const t={type:"FeatureCollection",features:await Promise.all(f.map(i=>i.type?{type:"Feature",properties:i,geometry:{type:"Point",coordinates:i.coordinates}}:null)).then(i=>i.filter(a=>a!==null))};if(l.getSource(`ek-tracking-live-${h.id}-source`))l.getSource(`ek-tracking-live-${h.id}-source`).setData(t);else{l.addSource(`ek-tracking-live-${h.id}-source`,{type:"geojson",data:t,cluster:!0,clusterMaxZoom:14,clusterRadius:55}),l.addLayer({id:`ek-tracking-live-${h.id}-clusters`,type:"circle",source:`ek-tracking-live-${h.id}-source`,filter:["==","cluster",!0],paint:{"circle-color":["step",["get","point_count"],"#90D667",10,"#EFCD41",50,"#FF0012"],"circle-radius":12,"circle-stroke-color":["step",["get","point_count"],"#90D667",10,"#EFCD41",50,"#FF0012"],"circle-stroke-opacity":.7,"circle-stroke-width":5}}),l.addLayer({id:`ek-tracking-live-${h.id}-cluster-count`,type:"symbol",source:`ek-tracking-live-${h.id}-source`,filter:["==","cluster",!0],layout:{"text-field":"{point_count_abbreviated}","text-size":12}}),l.on("mouseenter",`ek-tracking-live-${h.id}-clusters`,()=>{l.getCanvas().style.cursor="pointer"}),l.on("mouseleave",`ek-tracking-live-${h.id}-clusters`,()=>{l.getCanvas().style.cursor=""}),l.on("click",`ek-tracking-live-${h.id}-clusters`,async s=>{const r=l.queryRenderedFeatures(s.point,{layers:[`ek-tracking-live-${h.id}-clusters`]}),o=r[0].properties.cluster_id,M=await l.getSource(`ek-tracking-live-${h.id}-source`).getClusterExpansionZoom(o);l.easeTo({center:r[0].geometry.coordinates,zoom:M+.01})});const i={};let a={};async function n(){const s={},r=l.querySourceFeatures(`ek-tracking-live-${h.id}-source`);for(let o=0;o<r.length;o++){const M=r[o].geometry.coordinates,v=r[o].properties;if(v.cluster)continue;const m=v._id;let u=i[m];if(!u){const S=document.createElement("div");S.className="marker-employee",S.innerHTML=`
                                        <div class="marker-name">${v.name}</div>
                                        <div class="marker-img-${v.status=="online"?"online":"offline"}"></div>`;let T=new H.Popup({offset:[0,-27],closeButton:!1}).setHTML(`<div class="ek-tracking-his-popup-info">
                                                <b>${v.name}</b>
                                            </div>
                                            <div class="ek-tracking-his-popup-info">
                                                <span class="ek-tracking-his-popup-icon ekmapplf_tracking-icon-marker ekmapplf_tracking-icon-default-color"></span>
                                                <span>${v.address}</span>
                                            </div>
                                            <div class="ek-tracking-his-popup-info" style="justify-content: end;">
                                                <span class="show-his">Xem lịch sử</span>
                                            </div>
                                            `);T.on("open",()=>{S.querySelector(".marker-name").style.display="none",T.getElement().querySelector(".show-his").addEventListener("click",()=>{j({_id:v._id,name:v.name})})}),T.on("close",()=>{S.querySelector(".marker-name").style.removeProperty("display")}),u=i[m]=new H.Marker({element:S,anchor:"bottom"}).setPopup(T).setLngLat(M)}s[m]=u,a[m]&&u.addTo(l)}for(let o in a)s[o]||a[o].remove();a=s}l.on("data",s=>{s.sourceId!==`ek-tracking-live-${h.id}-source`||!s.isSourceLoaded||(l.on("move",n),l.on("moveend",n),n())})}return t},J=async d=>new Promise((x,f)=>{const O={"point.lon":d[0],"point.lat":d[1]};new B.service.Geocoding(c.apiKey).reverse(O,(i,a)=>{if(i)f("Không có thông tin");else{const n=a.results.length>0?a.results[0].formatted_address:"Không có thông tin";x(n)}})})}catch(h){console.error("Error initializing map:",h)}})(),()=>{_.current&&_.current.remove(),w.current&&clearInterval(w.current)}),[g]),e.jsx("div",{ref:k,id:"ekmap-tracking-realtime",children:e.jsx(re,{})})}function oe(){const g=Q(),[j,C]=p.useState({luot_vt:0,don_hang:0,doanh_so:0}),[k,_]=p.useState({so_nv_online:0,so_nv_offline:0}),[w,I]=p.useState([]),[c,V]=p.useState([]),[Z,l]=p.useState([]);p.useEffect(()=>{P()},[]);const P=async()=>{const t=await q.get("/api/method/mbw_dms.api.report.real_time_monitoring_report");t.message=="Thành công"&&C(t.result)},b=[{dataIndex:"stt",width:"50px"},{title:"Nhân viên",dataIndex:"emp_name",render:(t,i)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{height:"48px",width:"48px",borderRadius:"12px"},children:e.jsx("div",{style:{width:"48px",height:"48px",backgroundImage:`url("${i.pic_profile}")`,backgroundSize:"Cover"}})}),e.jsxs("div",{className:"mx-3",children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"21px"},children:t}),i.emp_id!=null&&e.jsxs("div",{style:{marginTop:"5px",fontWeight:400,fontSize:"12px",lineHeight:"21px"},children:["ID: ",i.emp_id]})]})]})},{title:"Thời gian di chuyển",dataIndex:"moving"},{title:"Thời gian dừng",dataIndex:"stopping"},{title:"Thời gian viếng thăm",dataIndex:"visiting"}],R=t=>{_({so_nv_online:t.online,so_nv_offline:t.offline})},[$,h]=p.useState({apiKey:"w1Dlh2wRon7mE6sL196TgvLS45fw02uon74pJ0rc",projectId:""}),W=t=>t.toLocaleString("en-US").replace(/,/g,"."),L=t=>t<1e3?`${Math.round(t)} m`:`${Math.round(t/1e3)} km`,N=t=>t<60?`${Math.round(t)} giây`:t>=60&&t<3600?`${Math.round(t/60)} phút`:`${Math.round(t/3600)} giờ`,J=t=>{g(`/employee-monitor-detail/${t._id}`)},d=()=>{g("/employee-monitor-detail/654c8a12d65d3e52f2d286de")},x=(t,i)=>{for(let s=0;s<i.length;s++)for(let r=0;r<t.length;r++)if(i[s].object_id!=null&&i[s].object_id==t[r].object._id){i[s].summary=i[s].summary;break}else i[s].summary={};let a=i.sort((s,r)=>{if(s.summary!=null&&s.summary.move!=null&&r.summary!=null&&r.summary.move!=null)return r.summary.move.distance-s.summary.move.distance}),n=[];for(let s=0;s<a.length&&s!=5;s++)n.push({stt:s+1,pic_profile:a[s].avatar!=null?a[s].avatar:"/public/user_default.png",emp_name:a[s].employee_name,emp_id:a[s].name,distance:a[s].summary!=null&&a[s].summary.move!=null?L(a[s].summary.move.distance):L(0)});I(n)},f=async t=>{new Date().getTime()/1e3;let a=[];for(let r=0;r<t.length;r++)if(a.length>0)for(let o=0;o<a.length;o++)if(t[r].name==a[o].employee){t[r].today_visit=a[o].today_visit,t[r].must_visit=a[o].must_visit,t[r].sales_order=a[o].sales_order;break}else t[r].today_visit=0,t[r].must_visit=0,t[r].sales_order=0;else t[r].today_visit=0,t[r].must_visit=0,t[r].sales_order=0;console.log(t);let n=t.sort((r,o)=>o.sales_order-r.sales_order);console.log(n);let s=[];for(let r=0;r<n.length;r++){let o=n[r];s.push({s1tt:r+1,pic_profile:o.avatar!=null&&o.avatar!=""?o.avatar:"/public/user_default.png",emp_name:o.employee_name,emp_id:o.name,visiting:`${o.today_visit}/${o.must_visit}`,boxing:o.sales_order})}V(s)},O=(t,i)=>{for(let n=0;n<i.length;n++)for(let s=0;s<t.length;s++)if(i[n].object_id!=null&&i[n].object_id==t[s].object._id){i[n].summary=i[n].summary;break}else i[n].summary={};console.log(i);let a=[];for(let n=0;n<i.length;n++)a.push({stt:n+1,pic_profile:i[n].avatar!=null?i[n].avatar:"/public/user_default.png",emp_name:i[n].employee_name,emp_id:i[n].name,moving:i[n].summary!=null&&i[n].summary.move!=null?N(i[n].summary.move.totalTime):N(0),stopping:i[n].summary!=null&&i[n].summary.stop!=null?N(i[n].summary.stop.totalTime):N(0),visiting:i[n].summary!=null&&i[n].summary.checkin!=null?N(i[n].summary.checkin.totalTime):N(0)});l(a)};return p.useEffect(()=>{(async()=>{const t=await q.get("/api/method/mbw_dms.api.user.get_projectID");h(r=>({...r,projectId:t.result["Project ID"]}));let i=await q("/api/method/mbw_dms.api.user.get_list_employees"),a=[];i.message=="Thành công"&&(a=i.result);let n=`https://api.ekgis.vn/v2/tracking/locationHistory/summary/lastest/${t.result["Project ID"]}/null?api_key=${$.apiKey}`,s=await U.get(n);if(s=s.data,s.statusText=="OK"){let r=s.data.results;x(r,JSON.parse(JSON.stringify(a))),O(r,JSON.parse(JSON.stringify(a)))}f(JSON.parse(JSON.stringify(a)))})()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(z,{className:"flex flex-wrap justify-between items-center px-0 pt-5",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("span",{className:"text-2xl font-semibold leading-[21px]",children:"Giám sát thời gian thực"})}),e.jsx("div",{className:"flex",children:e.jsx(E,{onClick:d,children:"Xem dữ liệu lịch sử"})})]}),e.jsxs(z,{style:{marginTop:"20px"},gutter:5,children:[e.jsx(y,{span:12,className:"card-container",children:e.jsxs("div",{style:{display:"block",width:"100%"},children:[e.jsxs(z,{gutter:10,style:{width:"100%"},children:[e.jsx(y,{span:12,className:"card-container",children:e.jsx(D,{children:e.jsx("div",{className:"wrap-card-container",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"56px",height:"56px",backgroundColor:"#22C55E1F",gap:"8px",borderRadius:"15px"},children:e.jsx("div",{style:{width:"44px",height:"44px",backgroundSize:"Cover"},className:"icon_user_online"})}),e.jsxs("div",{style:{marginLeft:"10px"},children:[e.jsx("div",{className:"title_card",children:"Số nhân viên online"}),e.jsx("div",{className:"content_card",children:k.so_nv_online})]})]})})})}),e.jsx(y,{span:12,className:"card-container",children:e.jsx(D,{children:e.jsx("div",{className:"wrap-card-container",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"56px",height:"56px",backgroundColor:"#FF56301F",gap:"8px",borderRadius:"15px"},children:e.jsx("div",{style:{width:"44px",height:"44px",backgroundSize:"Cover"},className:"icon_user_offline"})}),e.jsxs("div",{style:{marginLeft:"10px"},children:[e.jsx("div",{className:"title_card",children:"Số nhân viên offline"}),e.jsx("div",{className:"content_card",children:k.so_nv_offline})]})]})})})})]}),e.jsxs(z,{gutter:10,style:{width:"100%",marginTop:"13px"},children:[e.jsx(y,{span:8,className:"card-container",children:e.jsx(D,{children:e.jsx("div",{className:"wrap-card-container",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"56px",height:"56px",backgroundColor:"#00B8D91F",gap:"8px",borderRadius:"15px"},children:e.jsx("div",{style:{width:"44px",height:"44px",backgroundSize:"Cover"},className:"icon_visiting"})}),e.jsxs("div",{style:{marginLeft:"10px"},children:[e.jsx("div",{className:"title_card",children:"Tổng lượt viếng thăm"}),e.jsx("div",{className:"content_card",children:j.luot_vt})]})]})})})}),e.jsx(y,{span:8,className:"card-container",children:e.jsx(D,{children:e.jsx("div",{className:"wrap-card-container",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"56px",height:"56px",backgroundColor:"#FFAB001F",gap:"8px",borderRadius:"15px"},children:e.jsx("div",{style:{width:"44px",height:"48px",backgroundSize:"Cover"},className:"icon_boxing"})}),e.jsxs("div",{style:{marginLeft:"10px"},children:[e.jsx("div",{className:"title_card",children:"Tổng đơn hàng"}),e.jsx("div",{className:"content_card",children:j.don_hang})]})]})})})}),e.jsx(y,{span:8,className:"card-container",children:e.jsx(D,{children:e.jsx("div",{className:"wrap-card-container",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"56px",height:"56px",backgroundColor:"#1877F21F",gap:"8px",borderRadius:"15px"},children:e.jsx("div",{style:{width:"44px",height:"44px",backgroundSize:"Cover"},className:"icon_money"})}),e.jsxs("div",{style:{marginLeft:"10px"},children:[e.jsx("div",{className:"title_card",children:"Tổng doanh số"}),e.jsx("div",{className:"content_card",children:W(j.doanh_so)})]})]})})})})]}),e.jsxs(z,{gutter:10,style:{width:"100%",marginTop:"13px"},children:[e.jsx(y,{span:12,className:"card-container",children:e.jsx(D,{children:e.jsxs("div",{className:"wrap-card-container",children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"28px"},children:"Quãng đường di chuyển của nhân viên"}),e.jsx("div",{style:{height:210,overflow:"auto"},children:e.jsx(A,{itemLayout:"horizontal",dataSource:w,renderItem:(t,i)=>e.jsx(A.Item,{children:e.jsxs("div",{className:"flex items-center justify-between",style:{width:"100%"},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center justify-center",style:{width:"24px",height:"24px"},children:[i==0&&e.jsx("div",{style:{width:"24px",height:"24px",backgroundSize:"Cover"},className:"icon_first"}),i==1&&e.jsx("div",{style:{width:"24px",height:"24px",backgroundSize:"Cover"},className:"icon_second"}),i==2&&e.jsx("div",{style:{width:"24px",height:"24px",backgroundSize:"Cover"},className:"icon_third"})]}),e.jsx("div",{className:"mx-3",children:t.stt}),e.jsx("div",{className:"flex items-center justify-center",style:{height:"42px",width:"42px",borderRadius:"12px"},children:e.jsx("div",{style:{width:"42px",height:"42px",backgroundImage:`url("${t.pic_profile}")`,backgroundSize:"Cover"}})}),e.jsxs("div",{className:"mx-3",children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"21px"},children:t.emp_name}),t.emp_id!=null&&e.jsxs("div",{style:{marginTop:"5px",fontWeight:400,fontSize:"12px",lineHeight:"21px"},children:["ID: ",t.emp_id]})]})]}),e.jsx("div",{style:{marginRight:"10px",fontWeight:500,fontSize:"14px",lineHeight:"22px",color:"#1877F2"},children:t.distance})]})})})})]})})}),e.jsx(y,{span:12,className:"card-container",children:e.jsx(D,{children:e.jsxs("div",{className:"wrap-card-container",children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"28px"},children:"Danh sách nhân viên"}),e.jsx("div",{style:{height:210,overflow:"auto"},children:e.jsx(A,{itemLayout:"horizontal",dataSource:c,renderItem:t=>e.jsx(A.Item,{children:e.jsxs("div",{className:"flex items-center justify-between",style:{width:"100%"},children:[e.jsxs("div",{className:"flex items-center",style:{width:"70%"},children:[e.jsx("div",{className:"mx-3",children:t.stt}),e.jsx("div",{className:"flex items-center justify-center",style:{height:"48px",width:"48px",borderRadius:"12px"},children:e.jsx("div",{style:{width:"48px",height:"48px",backgroundImage:`url("${t.pic_profile}")`,backgroundSize:"Cover"}})}),e.jsxs("div",{className:"mx-3",children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"21px"},children:t.emp_name}),e.jsxs("div",{style:{marginTop:"5px",fontWeight:400,fontSize:"12px",lineHeight:"21px"},children:["ID: ",t.emp_id]})]})]}),e.jsxs("div",{style:{width:"30%"},className:"flex",children:[e.jsxs("div",{className:"items-center mx-3 flex",style:{flexDirection:"column"},children:[e.jsx("div",{style:{fontWeight:400,fontSize:"14px",lineHeight:"22px"},children:t.visiting}),e.jsx("div",{className:"flex items-center justify-center",style:{width:"20px",height:"20px"},children:e.jsx("div",{style:{width:"14px",height:"17px",backgroundSize:"Cover"},className:"icon_visiting"})})]}),e.jsxs("div",{className:"items-center mx-3 flex",style:{flexDirection:"column"},children:[e.jsx("div",{style:{fontWeight:400,fontSize:"14px",lineHeight:"22px"},children:t.boxing}),e.jsx("div",{className:"flex items-center justify-center",style:{width:"20px",height:"20px"},children:e.jsx("div",{style:{width:"16px",height:"17px",backgroundSize:"Cover"},className:"icon_boxing"})})]})]})]})})})})]})})})]}),e.jsx(z,{gutter:10,style:{width:"100%",marginTop:"13px"},children:e.jsx(y,{span:24,className:"card-container",children:e.jsxs(ne,{children:[e.jsx("div",{style:{fontWeight:500,fontSize:"14px",lineHeight:"28px",paddingLeft:"10px",paddingBottom:"10px",paddingTop:"10px"},children:"Thống kê thời gian di chuyển, thời gian dừng, thời gian viếng thăm của nhân viên"}),e.jsx(Y,{style:{height:"100%"},pagination:!1,scroll:{y:350},columns:b,dataSource:Z})]})})})]})}),e.jsx(y,{span:12,className:"card-container",children:e.jsx(ae,{children:e.jsx("div",{style:{height:"100%"},children:$.projectId&&e.jsx(le,{options:$,onClickPopup:J,status:R})})})})]})]})}function ce(){const[g,j]=p.useState([]);p.useState("");const[C,k]=p.useState("");p.useState(""),p.useState(""),p.useState(""),p.useState(""),p.useState("");let _=te(C,500);return p.useEffect(()=>{(async()=>{let w=await q.get("/api/method/frappe.desk.search.search_link",{params:{txt:_,doctype:"Department",ignore_user_permissions:0,query:""}}),{message:I}=w;console.log("Customer Group",I),j(I.map(c=>({value:c.value.trim(),label:c.value.trim()})))})()},[_]),e.jsx(e.Fragment,{children:e.jsx(oe,{})})}function ue(){return e.jsxs(e.Fragment,{children:[e.jsx(ee,{children:e.jsx("title",{children:" EmployeeMonitor"})}),e.jsx(ce,{})]})}export{ue as default};
