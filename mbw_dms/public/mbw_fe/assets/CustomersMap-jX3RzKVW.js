import{W as o,a as Y,bZ as Ee,I as Re,_ as U,b$ as Se,aj as q,ai as ae,aG as De,b3 as Le,aa as W,ae as E,ao as $e,at as ye,au as xe,aq as Ce,aw as Te,h as x,ay as we,b1 as Ie,a$ as se,ak as de,ct as qe,br as Xe,bz as Ae,cu as We,aV as Ve,az as Fe,d as ue,cv as te,cw as Ge,g as Ke,cx as Qe,cy as Ue,cz as Ye,l as Ne,cA as je,cB as Ze,cC as Je,cD as me,cE as ke,a9 as et,L as m,R as tt,P as pe,N as K,a3 as ee,a1 as Z,aM as A,a5 as it,Q as ne,aR as nt,cF as at,a2 as ot,cd as rt}from"./index-8RdZCt4T.js";import{H as lt}from"./header-page-LlYAxFeP.js";import{F as ct}from"./index-p-hbQAOx.js";import{P as st}from"./progress-Rj9HMh-u.js";var he=function(t){return t?{left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth}:null},F=function(t){return t!==void 0?"".concat(t,"px"):void 0};function dt(e){var t=e.prefixCls,n=e.containerRef,i=e.value,a=e.getValueIndex,r=e.motionName,g=e.onMotionStart,v=e.onMotionEnd,h=e.direction,$=o.useRef(null),M=o.useState(i),l=Y(M,2),I=l[0],_=l[1],B=function(y){var p,z=a(y),N=(p=n.current)===null||p===void 0?void 0:p.querySelectorAll(".".concat(t,"-item"))[z];return N?.offsetParent&&N},O=o.useState(null),H=Y(O,2),S=H[0],b=H[1],w=o.useState(null),P=Y(w,2),j=P[0],T=P[1];Ee(function(){if(I!==i){var C=B(I),y=B(i),p=he(C),z=he(y);_(i),b(p),T(z),C&&y?g():v()}},[i]);var d=o.useMemo(function(){return F(h==="rtl"?-S?.right:S?.left)},[h,S]),f=o.useMemo(function(){return F(h==="rtl"?-j?.right:j?.left)},[h,j]),s=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},c=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},u=function(){b(null),T(null),v()};return!S||!j?null:o.createElement(Re,{visible:!0,motionName:r,motionAppear:!0,onAppearStart:s,onAppearActive:c,onVisibleChanged:u},function(C,y){var p=C.className,z=C.style,N=U(U({},z),{},{"--thumb-start-left":d,"--thumb-start-width":F(S?.width),"--thumb-active-left":f,"--thumb-active-width":F(j?.width)}),D={ref:Se($,y),style:N,className:q("".concat(t,"-thumb"),p)};return o.createElement("div",D)})}var ut=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function mt(e){if(typeof e.title<"u")return e.title;if($e(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function pt(e){return e.map(function(t){if($e(t)==="object"&&t!==null){var n=mt(t);return U(U({},t),{},{title:n})}return{label:t?.toString(),title:t?.toString(),value:t}})}var ht=function(t){var n=t.prefixCls,i=t.className,a=t.disabled,r=t.checked,g=t.label,v=t.title,h=t.value,$=t.onChange,M=function(I){a||$(I,h)};return o.createElement("label",{className:q(i,E({},"".concat(n,"-item-disabled"),a))},o.createElement("input",{className:"".concat(n,"-item-input"),type:"radio",disabled:a,checked:r,onChange:M}),o.createElement("div",{className:"".concat(n,"-item-label"),title:v},g))},oe=o.forwardRef(function(e,t){var n,i,a=e.prefixCls,r=a===void 0?"rc-segmented":a,g=e.direction,v=e.options,h=e.disabled,$=e.defaultValue,M=e.value,l=e.onChange,I=e.className,_=I===void 0?"":I,B=e.motionName,O=B===void 0?"thumb-motion":B,H=ae(e,ut),S=o.useRef(null),b=o.useMemo(function(){return Se(S,t)},[S,t]),w=o.useMemo(function(){return pt(v)},[v]),P=De((n=w[0])===null||n===void 0?void 0:n.value,{value:M,defaultValue:$}),j=Y(P,2),T=j[0],d=j[1],f=o.useState(!1),s=Y(f,2),c=s[0],u=s[1],C=function(z,N){h||(d(N),l?.(N))},y=Le(H,["children"]);return o.createElement("div",W({},y,{className:q(r,(i={},E(i,"".concat(r,"-rtl"),g==="rtl"),E(i,"".concat(r,"-disabled"),h),i),_),ref:b}),o.createElement("div",{className:"".concat(r,"-group")},o.createElement(dt,{prefixCls:r,value:T,containerRef:S,motionName:"".concat(r,"-").concat(O),direction:g,getValueIndex:function(z){return w.findIndex(function(N){return N.value===z})},onMotionStart:function(){u(!0)},onMotionEnd:function(){u(!1)}}),w.map(function(p){return o.createElement(ht,W({},p,{key:p.value,prefixCls:r,className:q(p.className,"".concat(r,"-item"),E({},"".concat(r,"-item-selected"),p.value===T&&!c)),checked:p.value===T,onChange:C,disabled:!!h||!!p.disabled}))})))});oe.displayName="Segmented";oe.defaultProps={options:[]};function ge(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function be(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const gt=Object.assign({overflow:"hidden"},Ce),bt=e=>{const{componentCls:t}=e,n=e.calc(e.controlHeight).sub(e.calc(e.segmentedPadding).mul(2)).equal(),i=e.calc(e.controlHeightLG).sub(e.calc(e.segmentedPadding).mul(2)).equal(),a=e.calc(e.controlHeightSM).sub(e.calc(e.segmentedPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Te(e)),{display:"inline-block",padding:e.segmentedPadding,color:e.itemColor,backgroundColor:e.segmentedBgColor,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},be(e)),{color:e.itemSelectedColor}),"&::after":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:n,lineHeight:x(n),padding:`0 ${x(e.segmentedPaddingHorizontal)}`},gt),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},be(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${x(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:i,lineHeight:x(i),padding:`0 ${x(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:a,lineHeight:x(a),padding:`0 ${x(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),ge(`&-disabled ${t}-item`,e)),ge(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},vt=e=>{const{colorTextLabel:t,colorText:n,colorFillSecondary:i,colorBgElevated:a,colorFill:r}=e;return{itemColor:t,itemHoverColor:n,itemHoverBg:i,itemSelectedBg:a,itemActiveBg:r,itemSelectedColor:n}},ft=ye("Segmented",e=>{const{lineWidth:t,lineWidthBold:n,colorBgLayout:i,calc:a}=e,r=xe(e,{segmentedPadding:n,segmentedBgColor:i,segmentedPaddingHorizontal:a(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:a(e.controlPaddingHorizontalSM).sub(t).equal()});return[bt(r)]},vt);var ve=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};function St(e){return typeof e=="object"&&!!e?.icon}const $t=o.forwardRef((e,t)=>{const{prefixCls:n,className:i,rootClassName:a,block:r,options:g=[],size:v="middle",style:h}=e,$=ve(e,["prefixCls","className","rootClassName","block","options","size","style"]),{getPrefixCls:M,direction:l,segmented:I}=o.useContext(we),_=M("segmented",n),[B,O,H]=ft(_),S=Ie(v),b=o.useMemo(()=>g.map(j=>{if(St(j)){const{icon:T,label:d}=j,f=ve(j,["icon","label"]);return Object.assign(Object.assign({},f),{label:o.createElement(o.Fragment,null,o.createElement("span",{className:`${_}-item-icon`},T),d&&o.createElement("span",null,d))})}return j}),[g,_]),w=q(i,a,I?.className,{[`${_}-block`]:r,[`${_}-sm`]:S==="small",[`${_}-lg`]:S==="large"},O,H),P=Object.assign(Object.assign({},I?.style),h);return B(o.createElement(oe,Object.assign({},$,{className:w,style:P,options:b,ref:t,prefixCls:_,direction:l})))}),yt=$t;var xt=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function fe(e){return typeof e=="string"}function ze(e){var t,n=e.className,i=e.prefixCls,a=e.style,r=e.active,g=e.status,v=e.iconPrefix,h=e.icon;e.wrapperStyle;var $=e.stepNumber,M=e.disabled,l=e.description,I=e.title,_=e.subTitle,B=e.progressDot,O=e.stepIcon,H=e.tailContent,S=e.icons,b=e.stepIndex,w=e.onStepClick,P=e.onClick,j=e.render,T=ae(e,xt),d=!!w&&!M,f={};d&&(f.role="button",f.tabIndex=0,f.onClick=function(p){P?.(p),w(b)},f.onKeyDown=function(p){var z=p.which;(z===se.ENTER||z===se.SPACE)&&w(b)});var s=function(){var z,N,D=q("".concat(i,"-icon"),"".concat(v,"icon"),(z={},E(z,"".concat(v,"icon-").concat(h),h&&fe(h)),E(z,"".concat(v,"icon-check"),!h&&g==="finish"&&(S&&!S.finish||!S)),E(z,"".concat(v,"icon-cross"),!h&&g==="error"&&(S&&!S.error||!S)),z)),X=o.createElement("span",{className:"".concat(i,"-icon-dot")});return B?typeof B=="function"?N=o.createElement("span",{className:"".concat(i,"-icon")},B(X,{index:$-1,status:g,title:I,description:l})):N=o.createElement("span",{className:"".concat(i,"-icon")},X):h&&!fe(h)?N=o.createElement("span",{className:"".concat(i,"-icon")},h):S&&S.finish&&g==="finish"?N=o.createElement("span",{className:"".concat(i,"-icon")},S.finish):S&&S.error&&g==="error"?N=o.createElement("span",{className:"".concat(i,"-icon")},S.error):h||g==="finish"||g==="error"?N=o.createElement("span",{className:D}):N=o.createElement("span",{className:"".concat(i,"-icon")},$),O&&(N=O({index:$-1,status:g,title:I,description:l,node:N})),N},c=g||"wait",u=q("".concat(i,"-item"),"".concat(i,"-item-").concat(c),n,(t={},E(t,"".concat(i,"-item-custom"),h),E(t,"".concat(i,"-item-active"),r),E(t,"".concat(i,"-item-disabled"),M===!0),t)),C=U({},a),y=o.createElement("div",W({},T,{className:u,style:C}),o.createElement("div",W({onClick:P},f,{className:"".concat(i,"-item-container")}),o.createElement("div",{className:"".concat(i,"-item-tail")},H),o.createElement("div",{className:"".concat(i,"-item-icon")},s()),o.createElement("div",{className:"".concat(i,"-item-content")},o.createElement("div",{className:"".concat(i,"-item-title")},I,_&&o.createElement("div",{title:typeof _=="string"?_:void 0,className:"".concat(i,"-item-subtitle")},_)),l&&o.createElement("div",{className:"".concat(i,"-item-description")},l))));return j&&(y=j(y)||null),y}var Ct=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function re(e){var t,n=e.prefixCls,i=n===void 0?"rc-steps":n,a=e.style,r=a===void 0?{}:a,g=e.className;e.children;var v=e.direction,h=v===void 0?"horizontal":v,$=e.type,M=$===void 0?"default":$,l=e.labelPlacement,I=l===void 0?"horizontal":l,_=e.iconPrefix,B=_===void 0?"rc":_,O=e.status,H=O===void 0?"process":O,S=e.size,b=e.current,w=b===void 0?0:b,P=e.progressDot,j=P===void 0?!1:P,T=e.stepIcon,d=e.initial,f=d===void 0?0:d,s=e.icons,c=e.onChange,u=e.itemRender,C=e.items,y=C===void 0?[]:C,p=ae(e,Ct),z=M==="navigation",N=M==="inline",D=N||j,X=N?"horizontal":h,le=N?void 0:S,Me=D?"vertical":I,Oe=q(i,"".concat(i,"-").concat(X),g,(t={},E(t,"".concat(i,"-").concat(le),le),E(t,"".concat(i,"-label-").concat(Me),X==="horizontal"),E(t,"".concat(i,"-dot"),!!D),E(t,"".concat(i,"-navigation"),z),E(t,"".concat(i,"-inline"),N),t)),Be=function(J){c&&w!==J&&c(J)},Pe=function(J,ce){var R=U({},J),V=f+ce;return H==="error"&&ce===w-1&&(R.className="".concat(i,"-next-error")),R.status||(V===w?R.status=H:V<w?R.status="finish":R.status="wait"),N&&(R.icon=void 0,R.subTitle=void 0),!R.render&&u&&(R.render=function(He){return u(R,He)}),de.createElement(ze,W({},R,{active:V===w,stepNumber:V+1,stepIndex:V,key:V,prefixCls:i,iconPrefix:B,wrapperStyle:r,progressDot:D,stepIcon:T,icons:s,onStepClick:c&&Be}))};return de.createElement("div",W({className:Oe,style:r},p),y.filter(function(ie){return ie}).map(Pe))}re.Step=ze;const Tt=e=>{const{componentCls:t,customIconTop:n,customIconSize:i,customIconFontSize:a}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:n,width:i,height:i,fontSize:a,lineHeight:`${x(a)}`}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},wt=e=>{const{componentCls:t,inlineDotSize:n,inlineTitleColor:i,inlineTailColor:a}=e,r=e.calc(e.paddingXS).add(e.lineWidth).equal(),g={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:i}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${x(r)} ${x(e.paddingXXS)} 0`,margin:`0 ${x(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:n,height:n,marginInlineStart:`calc(50% - ${x(e.calc(n).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal()}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:i,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(n).div(2).add(r).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:a}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${x(e.lineWidth)} ${e.lineType} ${a}`}},g),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:a},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:a,border:`${x(e.lineWidth)} ${e.lineType} ${a}`}},g),"&-error":g,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:n,height:n,marginInlineStart:`calc(50% - ${x(e.calc(n).div(2).equal())})`,top:0}},g),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:i}}}}}},It=e=>{const{componentCls:t,iconSize:n,lineHeight:i,iconSizeSM:a}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(n).div(2).add(e.controlHeightLG).equal(),padding:`${x(e.paddingXXS)} ${x(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(n).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:i}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(n).sub(a).div(2).add(e.controlHeightLG).equal()}}}}}},Nt=e=>{const{componentCls:t,navContentMaxWidth:n,navArrowColor:i,stepsNavActiveColor:a,motionDurationSlow:r}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${r}`,[`${t}-item-content`]:{maxWidth:n},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},Ce),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${x(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${x(e.lineWidth)} ${e.lineType} ${i}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${x(e.lineWidth)} ${e.lineType} ${i}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:a,transition:`width ${r}, inset-inline-start ${r}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${x(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},jt=e=>{const{antCls:t,componentCls:n}=e;return{[`&${n}-with-progress`]:{[`${n}-item`]:{paddingTop:e.paddingXXS,[`&-process ${n}-item-container ${n}-item-icon ${n}-icon`]:{color:e.processIconColor}},[`&${n}-vertical > ${n}-item `]:{paddingInlineStart:e.paddingXXS,[`> ${n}-item-container > ${n}-item-tail`]:{top:e.marginXXS,insetInlineStart:e.calc(e.iconSize).div(2).sub(e.lineWidth).add(e.paddingXXS).equal()}},[`&, &${n}-small`]:{[`&${n}-horizontal ${n}-item:first-child`]:{paddingBottom:e.paddingXXS,paddingInlineStart:e.paddingXXS}},[`&${n}-small${n}-vertical > ${n}-item > ${n}-item-container > ${n}-item-tail`]:{insetInlineStart:e.calc(e.iconSizeSM).div(2).sub(e.lineWidth).add(e.paddingXXS).equal()},[`&${n}-label-vertical`]:{[`${n}-item ${n}-item-tail`]:{top:e.calc(e.margin).sub(e.calc(e.lineWidth).mul(2).equal()).equal()}},[`${n}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetBlockStart:e.calc(e.calc(e.iconSize).sub(e.stepsProgressSize).sub(e.calc(e.lineWidth).mul(2).equal()).equal()).div(2).equal(),insetInlineStart:e.calc(e.calc(e.iconSize).sub(e.stepsProgressSize).sub(e.calc(e.lineWidth).mul(2).equal()).equal()).div(2).equal()}}}}},zt=e=>{const{componentCls:t,descriptionMaxWidth:n,lineHeight:i,dotCurrentSize:a,dotSize:r,motionDurationSlow:g}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:i},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${x(e.calc(n).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${x(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:r,height:r,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(r).div(2).equal(),paddingInlineEnd:0,lineHeight:`${x(r)}`,background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${g}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(r).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:n},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(r).sub(a).div(2).equal(),width:a,height:a,lineHeight:`${x(a)}`,background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(a).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(r).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(a).div(2).equal(),top:0,insetInlineStart:e.calc(r).sub(a).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(r).div(2).equal(),insetInlineStart:0,margin:0,padding:`${x(e.calc(r).add(e.paddingXS).equal())} 0 ${x(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(r).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(r).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(a).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(r).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},_t=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},Mt=e=>{const{componentCls:t,iconSizeSM:n,fontSizeSM:i,fontSize:a,colorTextDescription:r}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:n,height:n,marginTop:0,marginBottom:0,marginInline:`0 ${x(e.marginXS)}`,fontSize:i,lineHeight:`${x(n)}`,textAlign:"center",borderRadius:n},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:a,lineHeight:`${x(n)}`,"&::after":{top:e.calc(n).div(2).equal()}},[`${t}-item-description`]:{color:r,fontSize:a},[`${t}-item-tail`]:{top:e.calc(n).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:n,lineHeight:`${x(n)}`,transform:"none"}}}}},Ot=e=>{const{componentCls:t,iconSizeSM:n,iconSize:i}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:`${x(i)}`},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(i).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${x(e.calc(e.marginXXS).mul(1.5).add(i).equal())} 0 ${x(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(n).div(2).sub(e.lineWidth).equal(),padding:`${x(e.calc(e.marginXXS).mul(1.5).add(n).equal())} 0 ${x(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:`${x(n)}`}}}}};var Q;(function(e){e.wait="wait",e.process="process",e.finish="finish",e.error="error"})(Q||(Q={}));const k=(e,t)=>{const n=`${t.componentCls}-item`,i=`${e}IconColor`,a=`${e}TitleColor`,r=`${e}DescriptionColor`,g=`${e}TailColor`,v=`${e}IconBgColor`,h=`${e}IconBorderColor`,$=`${e}DotColor`;return{[`${n}-${e} ${n}-icon`]:{backgroundColor:t[v],borderColor:t[h],[`> ${t.componentCls}-icon`]:{color:t[i],[`${t.componentCls}-icon-dot`]:{background:t[$]}}},[`${n}-${e}${n}-custom ${n}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[$]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-title`]:{color:t[a],"&::after":{backgroundColor:t[g]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-description`]:{color:t[r]},[`${n}-${e} > ${n}-container > ${n}-tail::after`]:{backgroundColor:t[g]}}},Bt=e=>{const{componentCls:t,motionDurationSlow:n}=e,i=`${t}-item`,a=`${i}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[i]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${i}-container > ${i}-tail, > ${i}-container >  ${i}-content > ${i}-title::after`]:{display:"none"}}},[`${i}-container`]:{outline:"none","&:focus-visible":{[a]:Object.assign({},qe(e))}},[`${a}, ${i}-content`]:{display:"inline-block",verticalAlign:"top"},[a]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:`${x(e.iconSize)}`,textAlign:"center",borderRadius:e.iconSize,border:`${x(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${n}, border-color ${n}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${i}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).sub(e.paddingXXS).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${n}`,content:'""'}},[`${i}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:`${x(e.titleLineHeight)}`,"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${i}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${i}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},k(Q.wait,e)),k(Q.process,e)),{[`${i}-process > ${i}-container > ${i}-title`]:{fontWeight:e.fontWeightStrong}}),k(Q.finish,e)),k(Q.error,e)),{[`${i}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${i}-disabled`]:{cursor:"not-allowed"}})},Pt=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${n}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},Ht=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Te(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),Bt(e)),Pt(e)),Tt(e)),Mt(e)),Ot(e)),It(e)),zt(e)),Nt(e)),_t(e)),jt(e)),wt(e))}},Et=e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive}),Rt=ye("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:n,colorTextLightSolid:i,colorText:a,colorPrimary:r,colorTextDescription:g,colorTextQuaternary:v,colorError:h,colorBorderSecondary:$,colorSplit:M}=e,l=xe(e,{processIconColor:i,processTitleColor:a,processDescriptionColor:a,processIconBgColor:r,processIconBorderColor:r,processDotColor:r,processTailColor:M,waitTitleColor:g,waitDescriptionColor:g,waitTailColor:M,waitDotColor:t,finishIconColor:r,finishTitleColor:a,finishDescriptionColor:g,finishTailColor:r,finishDotColor:r,errorIconColor:i,errorTitleColor:h,errorDescriptionColor:h,errorTailColor:M,errorIconBgColor:h,errorIconBorderColor:h,errorDotColor:h,stepsNavActiveColor:r,stepsProgressSize:n,inlineDotSize:6,inlineTitleColor:v,inlineTailColor:$});return[Ht(l)]},Et);function Dt(e){return e.filter(t=>t)}function Lt(e,t){if(e)return e;const n=Xe(t).map(i=>{if(o.isValidElement(i)){const{props:a}=i;return Object.assign({},a)}return null});return Dt(n)}var qt=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};const _e=e=>{const{percent:t,size:n,className:i,rootClassName:a,direction:r,items:g,responsive:v=!0,current:h=0,children:$,style:M}=e,l=qt(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:I}=Ae(v),{getPrefixCls:_,direction:B,steps:O}=o.useContext(we),H=o.useMemo(()=>v&&I?"vertical":r,[I,r]),S=Ie(n),b=_("steps",e.prefixCls),[w,P,j]=Rt(b),T=e.type==="inline",d=_("",e.iconPrefix),f=Lt(g,$),s=T?void 0:t,c=Object.assign(Object.assign({},O?.style),M),u=q(O?.className,{[`${b}-rtl`]:B==="rtl",[`${b}-with-progress`]:s!==void 0},i,a,P,j),C={finish:o.createElement(We,{className:`${b}-finish-icon`}),error:o.createElement(Ve,{className:`${b}-error-icon`})},y=z=>{let{node:N,status:D}=z;if(D==="process"&&s!==void 0){const X=S==="small"?32:40;return o.createElement("div",{className:`${b}-progress-icon`},o.createElement(st,{type:"circle",percent:s,size:X,strokeWidth:4,format:()=>null}),N)}return N},p=(z,N)=>z.description?o.createElement(Fe,{title:z.description},N):N;return w(o.createElement(re,Object.assign({icons:C},l,{style:c,current:h,size:S,items:f,itemRender:T?p:void 0,stepIcon:y,direction:H,prefixCls:b,iconPrefix:d,className:u})))};_e.Step=re.Step;const Xt=_e,At=e=>{const t=e?.algorithm?ue(e.algorithm):ue(te),n=Object.assign(Object.assign({},Ge),e?.token);return Ke(n,{override:e?.token},t,Qe)},Wt=At;function Vt(e){const{sizeUnit:t,sizeStep:n}=e,i=n-2;return{sizeXXL:t*(i+10),sizeXL:t*(i+6),sizeLG:t*(i+2),sizeMD:t*(i+2),sizeMS:t*(i+1),size:t*i,sizeSM:t*i,sizeXS:t*(i-1),sizeXXS:t*(i-1)}}const Ft=(e,t)=>{const n=t??te(e),i=n.fontSizeSM,a=n.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),Vt(t??e)),Ue(i)),{controlHeight:a}),Ye(Object.assign(Object.assign({},n),{controlHeight:a})))},Gt=Ft,L=(e,t)=>new Ne(e).setAlpha(t).toRgbString(),G=(e,t)=>new Ne(e).lighten(t).toHexString(),Kt=e=>{const t=je(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},Qt=(e,t)=>{const n=e||"#000",i=t||"#fff";return{colorBgBase:n,colorTextBase:i,colorText:L(i,.85),colorTextSecondary:L(i,.65),colorTextTertiary:L(i,.45),colorTextQuaternary:L(i,.25),colorFill:L(i,.18),colorFillSecondary:L(i,.12),colorFillTertiary:L(i,.08),colorFillQuaternary:L(i,.04),colorBgElevated:G(n,12),colorBgContainer:G(n,8),colorBgLayout:G(n,0),colorBgSpotlight:G(n,26),colorBgBlur:L(i,.04),colorBorder:G(n,26),colorBorderSecondary:G(n,19)}},Ut=(e,t)=>{const n=Object.keys(Ze).map(a=>{const r=je(e[a],{theme:"dark"});return new Array(10).fill(1).reduce((g,v,h)=>(g[`${a}-${h+1}`]=r[h],g[`${a}${h+1}`]=r[h],g),{})}).reduce((a,r)=>(a=Object.assign(Object.assign({},a),r),a),{}),i=t??te(e);return Object.assign(Object.assign(Object.assign({},i),n),Je(e,{generateColorPalettes:Kt,generateNeutralColorPalettes:Qt}))},Yt=Ut;function Zt(){const[e,t,n]=ke();return{theme:e,token:t,hashId:n}}const Jt={defaultConfig:me,defaultSeed:me.token,useToken:Zt,defaultAlgorithm:te,darkAlgorithm:Yt,compactAlgorithm:Gt,getDesignToken:Wt};var kt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M656 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm58 624h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm696-696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-174 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm174-696H358c-127 0-230 103-230 230v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-87.3 70.7-158 158-158h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"radius-upleft",theme:"outlined"};const ei=kt;var ti=function(t,n){return o.createElement(et,W({},t,{ref:n,icon:ei}))};const ii=o.forwardRef(ti),ni='[{"name":"Trung du và miền núi phía Bắc","code":"1","bbox":"102.14458466,20.30520058,108.06887054,23.39243698","area":118024.3075509592,"pop":0,"arrProvince":[{"provinceid":"24","name":"Tỉnh Bắc Giang","bbox":"105.88098533800007,21.122269823000067,107.03356713900007,21.62650246000004","area":4514.066532565789,"pop":0},{"provinceid":"06","name":"Tỉnh Bắc Kạn","bbox":"105.43110930900008,21.804395171000067,106.24717710600004,22.74120132400003","area":5702.549788989192,"pop":0},{"provinceid":"04","name":"Tỉnh Cao Bằng","bbox":"105.26572375400008,22.356413794000048,106.83726459300004,23.119846609000035","area":7917.521331816038,"pop":0},{"provinceid":"11","name":"Tỉnh Điện Biên","bbox":"102.14385417300008,20.892926791000036,103.59849904900005,22.547996477000027","area":11109.560674736478,"pop":0},{"provinceid":"02","name":"Tỉnh Hà Giang","bbox":"104.33432270000009,22.16628469400007,105.57415559400005,23.392738122000026","area":9373.316548498879,"pop":0},{"provinceid":"17","name":"Tỉnh Hoà Bình","bbox":"104.83241822200006,20.30510045500006,105.86171301000007,21.112849721000032","area":5290.6186474113465,"pop":0},{"provinceid":"12","name":"Tỉnh Lai Châu","bbox":"102.32068637900005,21.685745413000063,103.98521710800009,22.81133784000008","area":10649.763711130368,"pop":0},{"provinceid":"20","name":"Tỉnh Lạng Sơn","bbox":"106.09507153700008,21.325091651000037,107.36402523400005,22.461644902000046","area":9690.555049315866,"pop":0},{"provinceid":"10","name":"Tỉnh Lào Cai","bbox":"103.53084058300004,21.87549282200007,104.62667559900007,22.844940106000024","area":7471.64282261069,"pop":0},{"provinceid":"25","name":"Tỉnh Phú Thọ","bbox":"104.81376229200004,20.91630470100006,105.45706968500008,21.720143147000044","area":4095.4693546940116,"pop":0},{"provinceid":"22","name":"Tỉnh Quảng Ninh","bbox":"106.43883113200008,20.687306697000054,108.09703264700005,21.663927277000028","area":6785.188418704283,"pop":0},{"provinceid":"14","name":"Tỉnh Sơn La","bbox":"103.21216658800006,20.573672163000026,105.02715441600009,22.030892789000063","area":16322.637890972184,"pop":0},{"provinceid":"19","name":"Tỉnh Thái Nguyên","bbox":"105.47726469300005,21.325140963000024,106.23822256100004,22.047902667000074","area":4097.069215507338,"pop":0},{"provinceid":"08","name":"Tỉnh Tuyên Quang","bbox":"104.84832455300005,21.497590036000076,105.59854389800006,22.693819509000036","area":6867.332689398163,"pop":0},{"provinceid":"15","name":"Tỉnh Yên Bái","bbox":"103.88589585200003,21.32584842700004,105.10047157700006,22.292617160000077","area":8022.397172322977,"pop":0}]},{"name":"Đồng Bằng Sông Hồng","code":"2","bbox":"105.28813171,19.93569565,107.74571228,21.5738411","area":17028.630577997843,"pop":0,"arrProvince":[{"provinceid":"01","name":"Thành phố Hà Nội","bbox":"105.29136972400005,20.564307719000055,106.02007593100006,21.385408194000036","area":3845.847917459135,"pop":0},{"provinceid":"31","name":"Thành phố Hải Phòng","bbox":"106.40051200200008,20.11719974600004,107.74394968500008,21.02075472200005","area":1613.5905184710336,"pop":0},{"provinceid":"27","name":"Tỉnh Bắc Ninh","bbox":"105.90415324800006,20.969367360000035,106.31004675700007,21.264207992000024","area":947.0528373705475,"pop":0},{"provinceid":"35","name":"Tỉnh Hà Nam","bbox":"105.76862727600007,20.362714564000044,106.18355540200008,20.70373659200004","area":989.1074896359464,"pop":0},{"provinceid":"30","name":"Tỉnh Hải Dương","bbox":"106.12365279500005,20.684332007000023,106.61152031500006,21.236618751000037","area":1921.2392211757624,"pop":0},{"provinceid":"33","name":"Tỉnh Hưng Yên","bbox":"105.89501610000008,20.602762442000028,106.26933267400005,21.00699266400005","area":1070.6674024174067,"pop":0},{"provinceid":"36","name":"Tỉnh Nam Định","bbox":"105.92381315000006,19.92247931000003,106.59959621200005,20.499667121000073","area":1786.92390857688,"pop":0},{"provinceid":"37","name":"Tỉnh Ninh Bình","bbox":"105.54212093900009,19.88983777800007,106.16840731800005,20.453470751000054","area":1536.6378624718018,"pop":0},{"provinceid":"34","name":"Tỉnh Thái Bình","bbox":"106.10992513400004,20.252308605000053,106.64285523300003,20.729116220000037","area":1806.742819323044,"pop":0},{"provinceid":"26","name":"Tỉnh Vĩnh Phúc","bbox":"105.32269423800005,21.151841958000034,105.78656890200006,21.573950165000042","area":1433.7620016627366,"pop":0}]},{"name":"Bắc Trung Bộ","code":"3","bbox":"103.87521362,15.99489307,108.19450378,20.67055702","area":57293.802725446934,"pop":0,"arrProvince":[{"provinceid":"42","name":"Tỉnh Hà Tĩnh","bbox":"105.10390174500009,17.910397114000034,106.51104314900005,18.811088405000078","area":6656.182892140541,"pop":0},{"provinceid":"40","name":"Tỉnh Nghệ An","bbox":"103.87472161800008,18.552085714000043,105.80593418600006,19.997692492000056","area":18589.92646213432,"pop":0},{"provinceid":"44","name":"Tỉnh Quảng Bình","bbox":"105.59628785000007,16.921375712000042,106.99134291100006,18.090159070000027","area":8834.423006408986,"pop":0},{"provinceid":"45","name":"Tỉnh Quảng Trị","bbox":"106.51606914900009,16.301787103000038,107.39116976500009,17.16625547600006","area":5064.295654195725,"pop":0},{"provinceid":"38","name":"Tỉnh Thanh Hóa","bbox":"104.37410332700006,19.287700908000033,106.07594566200004,20.670049599000038","area":12630.52888694104,"pop":0},{"provinceid":"46","name":"Tỉnh Thừa Thiên Huế","bbox":"107.01612181300004,15.994874933000062,108.19511300000005,16.742480382000053","area":5484.339396253941,"pop":0}]},{"name":"Duyên Hải Nam Trung Bộ","code":"4","bbox":"107.21051788,7.39143848,117.81734467,17.12056541","area":51054.107879352625,"pop":0,"arrProvince":[{"provinceid":"48","name":"Thành phố Đà Nẵng","bbox":"107.81872405800004,15.77708817000007,112.76391602000001,17.12056541000004","area":1558.2880596729833,"pop":0},{"provinceid":"52","name":"Tỉnh Bình Định","bbox":"108.60136323600005,13.515139130000023,109.36344910000008,14.70306951300006","area":6493.3933606731935,"pop":0},{"provinceid":"60","name":"Tỉnh Bình Thuận","bbox":"107.39464576000006,9.964254979000032,109.08451632200007,11.555738723000047","area":8301.020457240753,"pop":0},{"provinceid":"56","name":"Tỉnh Khánh Hòa","bbox":"108.66932026500007,7.3914384800000335,117.81734467000001,12.868785918000071","area":7923.362231410467,"pop":0},{"provinceid":"58","name":"Tỉnh Ninh Thuận","bbox":"108.55212305100008,11.306680176000043,109.23364335400004,12.168070686000021","area":3519.8579273794894,"pop":0},{"provinceid":"54","name":"Tỉnh Phú Yên","bbox":"108.67315507400008,12.704954413000053,109.45896653000005,13.69532954500005","area":5335.271142124527,"pop":0},{"provinceid":"49","name":"Tỉnh Quảng Nam","bbox":"107.21023869200008,14.951354207000065,108.73894605900006,16.067651305000027","area":11464.96529227333,"pop":0},{"provinceid":"51","name":"Tỉnh Quảng Ngãi","bbox":"108.23510611400008,14.532730100000038,109.14374591800004,15.433193207000045","area":5556.840386597641,"pop":0}]},{"name":"Tây Nguyên","code":"5","bbox":"107.20632935,11.21512127,108.9954071,15.4174633","area":57859.800142753746,"pop":0,"arrProvince":[{"provinceid":"66","name":"Tỉnh Đắk Lắk","bbox":"107.48468190000006,12.161034534000066,108.99542934000004,13.416587485000036","area":13786.741242962838,"pop":0},{"provinceid":"67","name":"Tỉnh Đắk Nông","bbox":"107.20629162700004,11.74900376100004,108.11636491700006,12.812316930000065","area":6853.536749487105,"pop":0},{"provinceid":"64","name":"Tỉnh Gia Lai","bbox":"107.45040867800009,12.99578105200004,108.87332194000004,14.603162629000053","area":16543.51193054843,"pop":0},{"provinceid":"62","name":"Tỉnh Kon Tum","bbox":"107.33165621400008,13.921094096000047,108.54689201600007,15.417463220000059","area":10405.195298963474,"pop":0},{"provinceid":"68","name":"Tỉnh Lâm Đồng","bbox":"107.26575378200005,11.215028053000026,108.72882460800008,12.317755694000027","area":10272.003557082273,"pop":0}]},{"name":"Đông Nam Bộ","code":"6","bbox":"105.80844879,8.62875843,107.57713318,12.2983942","area":24651.096608218973,"pop":0,"arrProvince":[{"provinceid":"79","name":"Thành phố Hồ Chí Minh","bbox":"106.35437964200008,10.377122731000043,107.02726295300005,11.159840431000077","area":2153.8447630235173,"pop":0},{"provinceid":"77","name":"Tỉnh Bà Rịa - Vùng Tàu","bbox":"106.53633041000006,8.628099090000035,107.57193091700009,10.804531745000077","area":2052.7969023559863,"pop":0},{"provinceid":"74","name":"Tỉnh Bình Dương","bbox":"106.32635792000008,10.86370942000002,106.96675687400005,11.500285595000037","area":2817.6809010039906,"pop":0},{"provinceid":"70","name":"Tỉnh Bình Phước","bbox":"106.41146806500007,11.301342304000059,107.42733101600004,12.297916549000036","area":7217.489373122651,"pop":0},{"provinceid":"75","name":"Tỉnh Đồng Nai","bbox":"106.75117010000008,10.579208975000029,107.57746517100009,11.581994801000064","area":6122.892685785066,"pop":0},{"provinceid":"72","name":"Tỉnh Tây Ninh","bbox":"105.80976417600004,10.962518230000057,106.49132573700007,11.782290000000046","area":4232.4321498400195,"pop":0}]},{"name":"Đồng Bằng Sông Cửu Long","code":"7","bbox":"103.45875549,8.38135529,106.8225354,11.03209209","area":41808.05133754436,"pop":0,"arrProvince":[{"provinceid":"92","name":"Thành phố Cần Thơ","bbox":"105.22569128000004,9.918952266000076,105.84442237600007,10.32514943800004","area":1494.9137823598494,"pop":0},{"provinceid":"89","name":"Tỉnh An Giang","bbox":"104.77812358800008,10.183605557000021,105.57562408400008,10.962093242000037","area":3679.007130229421,"pop":0},{"provinceid":"95","name":"Tỉnh Bạc Liêu","bbox":"105.23250864500005,9.016284724000059,105.86010405600007,9.637474977000068","area":2562.663810585736,"pop":0},{"provinceid":"83","name":"Tỉnh Bến Tre","bbox":"106.02812067500008,9.78902946200003,106.83434488300009,10.340423473000044","area":2429.573074056416,"pop":0},{"provinceid":"96","name":"Tỉnh Cà Mau","bbox":"104.52219370800009,8.381386552000038,105.41920832800008,9.561755159000029","area":5394.349517071331,"pop":0},{"provinceid":"87","name":"Tỉnh Đồng Tháp","bbox":"105.18923709300009,10.134046617000024,105.94210456700006,10.974076096000033","area":3527.057687548492,"pop":0},{"provinceid":"93","name":"Tỉnh Hậu Giang","bbox":"105.32801818900003,9.58223948500006,105.89686508300008,9.99406176900004","area":1680.5284955604095,"pop":0},{"provinceid":"91","name":"Tỉnh Kiên Giang","bbox":"103.45875549000004,9.254500000000064,105.53932296500005,10.540228512000056","area":6548.751156291135,"pop":0},{"provinceid":"80","name":"Tỉnh Long An","bbox":"105.49878755300006,10.394593463000035,106.74731163400008,11.032330286000047","area":4686.333494706703,"pop":0},{"provinceid":"94","name":"Tỉnh Sóc Trăng","bbox":"105.54377489100006,9.243566217000023,106.31283145700007,9.938006403000031","area":3393.60099783446,"pop":0},{"provinceid":"82","name":"Tỉnh Tiền Giang","bbox":"105.81575980600007,10.19222448100004,106.80427551900004,10.58706675600007","area":2488.5701525421796,"pop":0},{"provinceid":"84","name":"Tỉnh Trà Vinh","bbox":"105.95334512000005,9.520062171000063,106.59875322900007,10.081772787000034","area":2389.9369672065145,"pop":0},{"provinceid":"86","name":"Tỉnh Vĩnh Long","bbox":"105.68289331700004,9.883241576000046,106.28963967800007,10.331231999000067","area":1584.3496794733146,"pop":0}]}]';function ai({onResult:e,scopeResult:t}){const[n,i]=o.useState("user1"),a=s=>{i(s)};console.log(t);const[r,g]=o.useState([]),[v,h]=o.useState(""),[$,M]=o.useState([]),[l,I]=o.useState(null),[_,B]=o.useState([]),[O,H]=o.useState(null),S=JSON.parse(ni).map(s=>({...s,value:s.code,label:s.name})),b=(s,c)=>(c?.label??"").toLowerCase().includes(s.toLowerCase()),w=s=>{const c=S.filter(y=>y.value===s);if(c.length>0){if(c[0].bbox!=null){let p=c[0].bbox.split(","),z=[[Number(p[0]),Number(p[1])],[Number(p[2]),Number(p[3])]];d.current.fitBounds(z)}else d.current.flyTo({center:[107.9426393217799,16.92300264959944],zoom:4.2});e({option:n,khuvuc:s})}const C=(c.length>0?c[0].arrProvince:[]).map(y=>({...y,value:y.provinceid,label:y.name}));M(C)},P=async s=>{const c=$.filter(p=>p.value===s);if(c.length>0&&c[0].bbox!=null){let p=c[0].bbox.split(","),z=[[Number(p[0]),Number(p[1])],[Number(p[2]),Number(p[3])]];d.current.fitBounds(z)}I(s);let u=`https://api.ekgis.vn/data/administrative/province/${s}/district?api_key=${v}`;const y=await(await fetch(u)).json();if(y&&y.length>0){let p=y.map(z=>({...z,value:z.districtid,label:z.name}));B(p)}},j=s=>{const c=_.filter(u=>u.value===s);if(c.length>0&&c[0].bbox!=null){let u=c[0].bbox.split(","),C=[[Number(u[0]),Number(u[1])],[Number(u[2]),Number(u[3])]];d.current.fitBounds(C)}H(s)},T=async()=>{let s=await Z.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_api");h(s.result)},d=o.useRef(null),f=()=>{d.current=new A.Map({container:"map_cf",center:[108.485,16.449],zoom:5.43}),new ekmapplf.VectorBaseMap("OSM:Bright",v).addTo(d.current);var s=new ekmapplf.control.BaseMap({id:"basemap_control",baseLayers:[{id:"OSM:Bright",title:"Bản đồ nền Sáng",thumbnail:"https://docs.ekgis.vn/assets/map-sang.png",width:"50px",height:"50px"},{id:"OSM:Standard",title:"Bản đồ nền Tiêu chuẩn",thumbnail:"https://docs.ekgis.vn/assets/map-chuan.png",width:"50px",height:"50px"},{id:"OSM:Night",title:"Bản đồ nền Đêm",thumbnail:"https://docs.ekgis.vn/assets/dem-map.png",width:"50px",height:"50px"}]});d.current.addControl(s,"bottom-left"),s.on("changeBaseLayer",async function(p){await new ekmapplf.VectorBaseMap(p.layer,v).addTo(d.current)}),d.current.addControl(new A.NavigationControl({visualizePitch:!0}),"bottom-right");var c=!1;d.current.getPitch()>0?c=!0:c=!1;var u="maplibregl-terrain2d-control",C="Hiển thị 2D";c||(u="maplibregl-terrain3d-control",C="Bản đồ 3D");let y=new ekmapplf.control.Button({className:"btn-ctl-group "+u,icon:"none",tooltip:C});y.on("click",p=>{c=!c,c?(p._div.className=p._div.className.replaceAll("maplibregl-terrain3d-control","maplibregl-terrain2d-control"),p._div.title="Hiển thị 2D"):(p._div.className=p._div.className.replaceAll("maplibregl-terrain2d-control","maplibregl-terrain3d-control"),p._div.title="Hiển thị 3D"),c?(d.current.easeTo({pitch:60}),d.current.setLayoutProperty("building-3d","visibility","visible")):(d.current.easeTo({pitch:0}),d.current.setLayoutProperty("building-3d","visibility","none"))}),d.current.addControl(y,"bottom-right"),d.current.addControl(new A.FullscreenControl,"top-right")};return o.useEffect(()=>{T()},[]),o.useEffect(()=>{v!=null&&v!=""&&f()},[v]),o.useEffect(()=>{},[r]),m.jsx(m.Fragment,{children:m.jsxs(tt,{children:[m.jsxs(pe,{span:12,style:{paddingRight:"10px"},children:[m.jsx(ct,{gap:"small",align:"flex-start",vertical:!0,style:{width:"100%"},children:m.jsx(yt,{style:{width:"100%",justifyContent:"space-between"},onChange:a,options:[{label:m.jsxs("div",{style:{padding:4},children:[m.jsx(ii,{style:{fontSize:"2rem"}}),m.jsx("div",{children:"Theo vùng bao nhỏ nhất "})]}),value:"user1"},{label:m.jsxs("div",{style:{padding:4},children:[m.jsx("svg",{className:"custom-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:m.jsx("path",{d:"M302.8 312C334.9 271.9 408 174.6 408 120C408 53.7 354.3 0 288 0S168 53.7 168 120c0 54.6 73.1 151.9 105.2 192c7.7 9.6 22 9.6 29.6 0zM416 503l144.9-58c9.1-3.6 15.1-12.5 15.1-22.3V152c0-17-17.1-28.6-32.9-22.3l-116 46.4c-.5 1.2-1 2.5-1.5 3.7c-2.9 6.8-6.1 13.7-9.6 20.6V503zM15.1 187.3C6 191 0 199.8 0 209.6V480.4c0 17 17.1 28.6 32.9 22.3L160 451.8V200.4c-3.5-6.9-6.7-13.8-9.6-20.6c-5.6-13.2-10.4-27.4-12.8-41.5l-122.6 49zM384 255c-20.5 31.3-42.3 59.6-56.2 77c-20.5 25.6-59.1 25.6-79.6 0c-13.9-17.4-35.7-45.7-56.2-77V449.4l192 54.9V255z"})}),m.jsx("div",{children:"Theo đơn vị hành chính"})]}),value:"user2"}]})}),n==="user1"&&m.jsx("div",{style:{lineHeight:"20px",textAlign:"left"},children:m.jsx("p",{style:{padding:"10px",fontWeight:"bold",color:"#0a743e"},children:"Xác định khu vực đánh giá theo vùng bao đóng đại lý phân phối"})}),n==="user2"&&m.jsxs("div",{style:{lineHeight:"20px",textAlign:"left"},children:[m.jsx("p",{style:{padding:"10px",fontWeight:"bold",color:"#0a743e"},children:"Xác định giới hạn khu vực bằng đơn vị hành chính các cấp tỉnh, huyện"}),m.jsxs(K,{layout:"vertical",style:{paddingLeft:"10px"},children:[m.jsx(K.Item,{label:"Khu vực",name:"khuvuc",children:m.jsx(ee,{showSearch:!0,placeholder:"Chọn khu vực",onChange:w,options:S,filterOption:b})}),m.jsx(K.Item,{label:"Đơn vị hành chính cấp tỉnh",name:"tinh",children:m.jsx(ee,{showSearch:!0,placeholder:"Chọn khu vực hành chính cấp tỉnh/thành phố",value:l,onChange:P,options:$,filterOption:b})}),m.jsx(K.Item,{label:"Đơn vị hành chính cấp huyện",name:"huyen",children:m.jsx(ee,{showSearch:!0,placeholder:"Chọn khu vực hành chính cấp quận/huyện",onChange:j,options:_,filterOption:b})})]})]})]}),m.jsx(pe,{span:12,children:m.jsx("div",{id:"map_cf",style:{width:"100%",height:"450px"}})})]})})}function oi(){const[e,t]=o.useState(null),n=[{value:"restaurant",label:"Nhà hàng"},{value:"cafe",label:"Quán cà phê"},{value:"bakery",label:"Tiệm bánh"},{value:"grocery",label:"Cửa hàng tạp hóa"},{value:"clothing",label:"Cửa hàng quần áo"},{value:"electronics",label:"Cửa hàng điện tử"},{value:"bookstore",label:"Hiệu sách"},{value:"pharmacy",label:"Nhà thuốc"},{value:"petstore",label:"Cửa hàng thú cưng"},{value:"hardware",label:"Cửa hàng vật liệu xây dựng"}],i=(r,g)=>(g?.label??"").toLowerCase().includes(r.toLowerCase()),a=r=>{t(r)};return m.jsx(m.Fragment,{children:m.jsx(K,{layout:"vertical",style:{padding:"10px"},children:m.jsx(K.Item,{label:"Chọn ngành hàng : ",name:"nganhhang",children:m.jsx(ee,{showSearch:!0,placeholder:"Chọn ngành hàng",onChange:a,options:n,filterOption:i})})})})}function ri({open:e,title:t,onCancel:n,onOk:i}){const[a,r]=o.useState(null);o.useState(null);const g=O=>{console.log(O),r(O)},v=[{title:"Phạm vi đánh giá độ phủ đại lý",content:m.jsx(ai,{onResult:g,scopeResult:a})},{title:"Ngành hàng đánh giá độ phủ",content:m.jsx(oi,{})}],{token:h}=Jt.useToken(),[$,M]=o.useState(0),l=()=>{M($+1)},I=()=>{M($-1)},_=v.map(O=>({key:O.title,title:O.title})),B={lineHeight:"260px",textAlign:"left",color:h.colorTextTertiary,backgroundColor:h.colorFillAlter,borderRadius:h.borderRadiusLG,border:`1px dashed ${h.colorBorder}`,marginTop:16};return m.jsx(m.Fragment,{children:m.jsxs(it,{width:850,open:e,title:t,onOk:i,onCancel:n,footer:[],children:[m.jsx(Xt,{current:$,items:_}),m.jsx("div",{style:B,children:v[$].content}),m.jsxs("div",{style:{marginTop:24},children:[$<v.length-1&&m.jsx(ne,{type:"primary",onClick:()=>l(),children:"Tiếp theo"}),$===v.length-1&&m.jsx(ne,{type:"primary",onClick:()=>nt.success("Processing complete!"),children:"Hoàn thành"}),$>0&&m.jsx(ne,{style:{margin:"0 8px"},onClick:()=>I(),children:"Quay lại"})]})]})})}const li=({onCheck:e})=>{const[t,n]=o.useState([]),[i,a]=o.useState([]),[r,g]=o.useState([]),[v,h]=o.useState(!0),[$,M]=o.useState([]),l=b=>b.map((w,P)=>({title:w.label,key:w.id,children:w.children?l(w.children):[]})),I=async()=>{let b=await Z.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_map"),w=l(b.result);M(w)};o.useEffect(()=>{I()},[]);const _=b=>{console.log("onExpand",b),n(b),h(!1)},B=b=>{a(b),e(b)},O=(b,w)=>{console.log("onSelect",w),g(b)},H=b=>{console.log("onDragEnter:",b)},S=b=>{const w=b.node.key,P=b.dragNode.key,j=b.node.pos.split("-"),T=b.dropPosition-Number(j[j.length-1]),d=(c,u,C)=>{for(let y=0;y<c.length;y++){if(c[y].key===u)return C(c[y],y,c);c[y].children&&d(c[y].children,u,C)}},f=[...$];let s;if(d(f,P,(c,u,C)=>{C.splice(u,1),s=c}),!b.dropToGap)d(f,w,c=>{c.children=c.children||[],c.children.unshift(s)});else{let c=[],u;d(f,w,(C,y,p)=>{c=p,u=y}),T===-1?c.splice(u,0,s):c.splice(u+1,0,s)}console.log(f),M(f)};return m.jsx(at,{className:"draggable-tree",draggable:!0,blockNode:!0,checkable:!0,onExpand:_,expandedKeys:t,autoExpandParent:v,onCheck:B,checkedKeys:i,onSelect:O,selectedKeys:r,onDragEnter:H,onDrop:S,treeData:$})};function ci(){const e=[{label:"Đánh giá độ phủ đại lý",key:"1",onClick:()=>{n(!0)}}],[t,n]=o.useState(!1),i=()=>{n(!1)},a=()=>{console.log("Submitted"),n(!1)},[r,g]=o.useState(""),[v,h]=o.useState([]),[$,M]=o.useState([]),l=o.useRef(null),[I,_]=o.useState(!1),B=()=>{_(!I)};o.useEffect(()=>{O()},[]),o.useEffect(()=>{r!=null&&r!=""&&b()},[r]),o.useEffect(()=>{w()},[$]),o.useEffect(()=>{v!=null&&v.length>0&&P()},[v]);const O=async()=>{let T=await Z.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_api");g(T.result)},H=async()=>{let T=await Z.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_map");h(T.result)},S=async()=>{let T=await Z.get("/api/method/mbw_dms.api.selling.customer.get_customer_has_location");T.message=="Thành công"&&M(T.result)},b=()=>{console.log(r),l.current=new A.Map({container:"map",center:[108.485,16.449],zoom:5.43}),new ekmapplf.VectorBaseMap("OSM:Bright",r).addTo(l.current);var T=new ekmapplf.control.BaseMap({id:"basemap_control",baseLayers:[{id:"OSM:Bright",title:"Bản đồ nền Sáng",thumbnail:"https://docs.ekgis.vn/assets/map-sang.png",width:"50px",height:"50px"},{id:"OSM:Standard",title:"Bản đồ nền Tiêu chuẩn",thumbnail:"https://docs.ekgis.vn/assets/map-chuan.png",width:"50px",height:"50px"},{id:"OSM:Night",title:"Bản đồ nền Đêm",thumbnail:"https://docs.ekgis.vn/assets/dem-map.png",width:"50px",height:"50px"}]});l.current.addControl(T,"bottom-left"),T.on("changeBaseLayer",async function(u){await new ekmapplf.VectorBaseMap(u.layer,r).addTo(l.current)}),l.current.addControl(new A.NavigationControl({visualizePitch:!0}),"bottom-right");var d=!1;l.current.getPitch()>0?d=!0:d=!1;var f="maplibregl-terrain2d-control",s="Hiển thị 2D";d||(f="maplibregl-terrain3d-control",s="Bản đồ 3D");let c=new ekmapplf.control.Button({className:"btn-ctl-group "+f,icon:"none",tooltip:s});c.on("click",u=>{d=!d,d?(u._div.className=u._div.className.replaceAll("maplibregl-terrain3d-control","maplibregl-terrain2d-control"),u._div.title="Hiển thị 2D"):(u._div.className=u._div.className.replaceAll("maplibregl-terrain2d-control","maplibregl-terrain3d-control"),u._div.title="Hiển thị 3D"),d?(l.current.easeTo({pitch:60}),l.current.setLayoutProperty("building-3d","visibility","visible")):(l.current.easeTo({pitch:0}),l.current.setLayoutProperty("building-3d","visibility","none"))}),l.current.addControl(c,"bottom-right"),l.current.addControl(new A.FullscreenControl,"top-right"),l.current.on("load",async()=>{await H(),S()})},w=async()=>{let T={type:"FeatureCollection",features:[]};for(let d=0;d<$.length;d++){let f=JSON.parse($[d].customer_location_primary),s={type:"Feature",geometry:{type:"Point",coordinates:[f.long,f.lat]},properties:$[d]};T.features.push(s)}if(l.current!=null&&l.current.isStyleLoaded())if(l.current.getSource("customer_clus"))l.current.getSource("customer_clus").setData(T);else{if(!l.current.getImage("marker-customer")){const d=await l.current.loadImage("https://files.ekgis.vn/sdks/tracking/assets/check-icon.png");l.current.addImage("marker-customer",d.data)}l.current.addSource("customer_clus",{type:"geojson",data:T,cluster:!0,clusterRadius:12}),l.current.addLayer({id:"customer_clus-cluster",type:"circle",source:"customer_clus",maxzoom:16,filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#90D667",10,"#EFCD41",50,"#FF0012"],"circle-radius":12,"circle-stroke-color":["step",["get","point_count"],"#90D667",10,"#EFCD41",50,"#FF0012"],"circle-stroke-opacity":.7,"circle-stroke-width":5}}),l.current.addLayer({id:"customer_clus-cluster-count",type:"symbol",source:"customer_clus",filter:["has","point_count"],layout:{"text-field":"{point_count}","text-size":12}}),l.current.on("mouseenter","customer_clus-uncluster",()=>{l.current.getCanvas().style.cursor="pointer"}),l.current.on("mouseleave","customer_clus-uncluster",()=>{l.current.getCanvas().style.cursor=""}),l.current.on("click","customer_clus-cluster",async d=>{const f=l.current.queryRenderedFeatures(d.point,{layers:["customer_clus-cluster"]}),s=f[0].properties.cluster_id,c=await l.current.getSource("customer_clus-cluster").getClusterExpansionZoom(s);l.current.easeTo({center:f[0].geometry.coordinates,zoom:c+.01})}),l.current.addLayer({id:"customer_clus-uncluster",type:"symbol",source:"customer_clus",filter:["!",["has","point_count"]],layout:{"icon-image":"marker-customer","icon-allow-overlap":!0,"icon-size":{stops:[[15,.7],[18,1]]}}}),l.current.addLayer({id:"customer_clus-title",type:"symbol",source:"customer_clus",filter:["!",["has","point_count"]],layout:{"text-field":["get","customer_name"],"text-font":["Roboto Medium"],"text-size":{stops:[[12,10],[13,11],[14,11],[15,11.5],[16,12.5],[20,16]]},"text-anchor":"top","text-max-width":9,"text-offset":[0,1.5],"text-padding":5},paint:{"text-color":"#ff5532","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":.5}}),l.current.on("click","customer_clus-uncluster",function(d){var f=d.features[0].geometry.coordinates.slice(),s=d.features[0].properties,c=`
            <div class="customer-popup-info">
                <b>${s.customer_name}</b>
            </div>
        `;s.customer_primary_address!=null&&s.customer_primary_address!=""&&(c+=`
            <div class="customer-popup-info">
                <span class="customer-popup-icon customer-icon-marker customer-icon-default-color"></span>
                <span>${s.customer_primary_address}</span>
            </div>`),s.customer_primary_contact!=null&&s.customer_primary_contact!=""&&(c+=`
            <div class="customer-popup-info">
                <span class="customer-popup-icon customer-icon-phone customer-icon-default-color"></span>
                <span>${s.customer_primary_contact}</span>
            </div>`),new A.Popup().setLngLat(f).setHTML(c).addTo(l.current)})}},P=T=>{v.forEach(d=>{d.group?d.children.forEach(f=>{const s=f.sources,c=f.layers;for(let u in s)l.current.getSource(u)||l.current.addSource(u,s[u]);c.forEach(u=>{l.current.getLayer(u.id)||l.current.addLayer(u);const C=f.visible?"visible":"none";l.current.setLayoutProperty(u.id,"visibility",C)})}):d.forEach(f=>{const s=f.sources,c=f.layers;for(let u in s)l.current.getSource(u)||l.current.addSource(u,s[u]);c.forEach(u=>{l.current.getLayer(u.id)||l.current.addLayer(u);const C=f.visible?"visible":"none";l.current.setLayoutProperty(u.id,"visibility",C)})})})},j=T=>{v.forEach(d=>{d.children.forEach(f=>{f.layers.forEach(c=>{const C=T.includes(c.id)?"visible":"none";l.current.setLayoutProperty(c.id,"visibility",C)})})})};return m.jsxs(m.Fragment,{children:[m.jsx(lt,{title:"Bản đồ khách hàng"}),m.jsxs("div",{id:"map",style:{width:"100%",height:"80vh",borderRadius:"20px"},children:[m.jsx("div",{className:"ekmapplf_map-ananyltic",children:m.jsx(ot.Button,{type:"primary",icon:m.jsx(rt,{}),menu:{items:e},children:"Công cụ phân tích"})}),m.jsxs("div",{id:"ekmapplf_tracking_legend",className:"ekmapplf_tracking-map-legend",children:[m.jsxs("div",{className:"ekmapplf_tracking-legend-title",onClick:B,children:[m.jsx("span",{className:`icon ${I?"ekmapplf_tracking-icon-square-minus":"ekmapplf_tracking-icon-square-plus"}`,style:{filter:"invert(100%) sepia(100%) saturate(0%) hue-rotate(187deg) brightness(105%) contrast(103%)"}}),m.jsx("span",{children:"Chú giải bản đồ"})]}),m.jsx("div",{className:`ekmapplf_tracking-legend-body ${I?"open":""}`,style:{maxHeight:I?"250px":"0",overflow:"auto"},children:m.jsx(li,{onCheck:j})})]})]}),m.jsx(ri,{open:t,title:"Đánh giá độ phủ",onCancel:i,onOk:a})]})}function pi(){return m.jsx(ci,{})}export{pi as default};
