import{ai as ge,aj as te,ae as F,_ as be,Y as l,aa as ie,a$ as le,ak as se,h as $,aq as Ce,at as Te,au as _e,aw as we,cu as Ie,br as Ne,bz as je,ay as Be,b1 as ze,cv as He,aV as fe,az as Pe,d as de,cw as ne,cx as Me,g as Le,cy as Oe,cz as Ee,cA as De,l as ve,cB as ye,cC as qe,cD as Xe,cE as pe,cF as Ae,L as s,R as We,P as ue,N as K,a5 as ee,a3 as U,aM as V,aQ as Fe,a7 as Re,Q as re,aR as me,cG as Ge,a4 as Ke,ce as Ve,a6 as Qe}from"./index-mG4R-abq.js";import{H as Ye}from"./header-page-O0Pv_boo.js";import{P as Je}from"./progress-e-DPcaOC.js";var Ue=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function he(e){return typeof e=="string"}function Se(e){var t,i=e.className,n=e.prefixCls,r=e.style,d=e.active,u=e.status,w=e.iconPrefix,f=e.icon;e.wrapperStyle;var j=e.stepNumber,z=e.disabled,_=e.description,P=e.title,B=e.subTitle,L=e.progressDot,T=e.stepIcon,O=e.tailContent,I=e.icons,N=e.stepIndex,o=e.onStepClick,v=e.onClick,D=e.render,M=ge(e,Ue),A=!!o&&!z,x={};A&&(x.role="button",x.tabIndex=0,x.onClick=function(b){v?.(b),o(N)},x.onKeyDown=function(b){var c=b.which;(c===le.ENTER||c===le.SPACE)&&o(N)});var q=function(){var c,p,a=te("".concat(n,"-icon"),"".concat(w,"icon"),(c={},F(c,"".concat(w,"icon-").concat(f),f&&he(f)),F(c,"".concat(w,"icon-check"),!f&&u==="finish"&&(I&&!I.finish||!I)),F(c,"".concat(w,"icon-cross"),!f&&u==="error"&&(I&&!I.error||!I)),c)),m=l.createElement("span",{className:"".concat(n,"-icon-dot")});return L?typeof L=="function"?p=l.createElement("span",{className:"".concat(n,"-icon")},L(m,{index:j-1,status:u,title:P,description:_})):p=l.createElement("span",{className:"".concat(n,"-icon")},m):f&&!he(f)?p=l.createElement("span",{className:"".concat(n,"-icon")},f):I&&I.finish&&u==="finish"?p=l.createElement("span",{className:"".concat(n,"-icon")},I.finish):I&&I.error&&u==="error"?p=l.createElement("span",{className:"".concat(n,"-icon")},I.error):f||u==="finish"||u==="error"?p=l.createElement("span",{className:a}):p=l.createElement("span",{className:"".concat(n,"-icon")},j),T&&(p=T({index:j-1,status:u,title:P,description:_,node:p})),p},E=u||"wait",X=te("".concat(n,"-item"),"".concat(n,"-item-").concat(E),i,(t={},F(t,"".concat(n,"-item-custom"),f),F(t,"".concat(n,"-item-active"),d),F(t,"".concat(n,"-item-disabled"),z===!0),t)),h=be({},r),g=l.createElement("div",ie({},M,{className:X,style:h}),l.createElement("div",ie({onClick:v},x,{className:"".concat(n,"-item-container")}),l.createElement("div",{className:"".concat(n,"-item-tail")},O),l.createElement("div",{className:"".concat(n,"-item-icon")},q()),l.createElement("div",{className:"".concat(n,"-item-content")},l.createElement("div",{className:"".concat(n,"-item-title")},P,B&&l.createElement("div",{title:typeof B=="string"?B:void 0,className:"".concat(n,"-item-subtitle")},B)),_&&l.createElement("div",{className:"".concat(n,"-item-description")},_))));return D&&(g=D(g)||null),g}var Ze=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function ae(e){var t,i=e.prefixCls,n=i===void 0?"rc-steps":i,r=e.style,d=r===void 0?{}:r,u=e.className;e.children;var w=e.direction,f=w===void 0?"horizontal":w,j=e.type,z=j===void 0?"default":j,_=e.labelPlacement,P=_===void 0?"horizontal":_,B=e.iconPrefix,L=B===void 0?"rc":B,T=e.status,O=T===void 0?"process":T,I=e.size,N=e.current,o=N===void 0?0:N,v=e.progressDot,D=v===void 0?!1:v,M=e.stepIcon,A=e.initial,x=A===void 0?0:A,q=e.icons,E=e.onChange,X=e.itemRender,h=e.items,g=h===void 0?[]:h,b=ge(e,Ze),c=z==="navigation",p=z==="inline",a=p||D,m=p?"horizontal":f,y=p?void 0:I,C=a?"vertical":P,H=te(n,"".concat(n,"-").concat(m),u,(t={},F(t,"".concat(n,"-").concat(y),y),F(t,"".concat(n,"-label-").concat(C),m==="horizontal"),F(t,"".concat(n,"-dot"),!!a),F(t,"".concat(n,"-navigation"),c),F(t,"".concat(n,"-inline"),p),t)),S=function(Z){E&&o!==Z&&E(Z)},R=function(Z,ce){var W=be({},Z),Q=x+ce;return O==="error"&&ce===o-1&&(W.className="".concat(n,"-next-error")),W.status||(Q===o?W.status=O:Q<o?W.status="finish":W.status="wait"),p&&(W.icon=void 0,W.subTitle=void 0),!W.render&&X&&(W.render=function(xe){return X(W,xe)}),se.createElement(Se,ie({},W,{active:Q===o,stepNumber:Q+1,stepIndex:Q,key:Q,prefixCls:n,iconPrefix:L,wrapperStyle:d,progressDot:a,stepIcon:M,icons:q,onStepClick:E&&S}))};return se.createElement("div",ie({className:H,style:d},b),g.filter(function(oe){return oe}).map(R))}ae.Step=Se;const ke=e=>{const{componentCls:t,customIconTop:i,customIconSize:n,customIconFontSize:r}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:i,width:n,height:n,fontSize:r,lineHeight:`${$(r)}`}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},et=e=>{const{componentCls:t,inlineDotSize:i,inlineTitleColor:n,inlineTailColor:r}=e,d=e.calc(e.paddingXS).add(e.lineWidth).equal(),u={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:n}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${$(d)} ${$(e.paddingXXS)} 0`,margin:`0 ${$(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:i,height:i,marginInlineStart:`calc(50% - ${$(e.calc(i).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal()}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:n,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(i).div(2).add(d).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:r}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${$(e.lineWidth)} ${e.lineType} ${r}`}},u),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:r},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:r,border:`${$(e.lineWidth)} ${e.lineType} ${r}`}},u),"&-error":u,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:i,height:i,marginInlineStart:`calc(50% - ${$(e.calc(i).div(2).equal())})`,top:0}},u),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:n}}}}}},tt=e=>{const{componentCls:t,iconSize:i,lineHeight:n,iconSizeSM:r}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(i).div(2).add(e.controlHeightLG).equal(),padding:`${$(e.paddingXXS)} ${$(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(i).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:n}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(i).sub(r).div(2).add(e.controlHeightLG).equal()}}}}}},it=e=>{const{componentCls:t,navContentMaxWidth:i,navArrowColor:n,stepsNavActiveColor:r,motionDurationSlow:d}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${d}`,[`${t}-item-content`]:{maxWidth:i},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},Ce),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${$(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${$(e.lineWidth)} ${e.lineType} ${n}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${$(e.lineWidth)} ${e.lineType} ${n}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:r,transition:`width ${d}, inset-inline-start ${d}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${$(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},nt=e=>{const{antCls:t,componentCls:i}=e;return{[`&${i}-with-progress`]:{[`${i}-item`]:{paddingTop:e.paddingXXS,[`&-process ${i}-item-container ${i}-item-icon ${i}-icon`]:{color:e.processIconColor}},[`&${i}-vertical > ${i}-item `]:{paddingInlineStart:e.paddingXXS,[`> ${i}-item-container > ${i}-item-tail`]:{top:e.marginXXS,insetInlineStart:e.calc(e.iconSize).div(2).sub(e.lineWidth).add(e.paddingXXS).equal()}},[`&, &${i}-small`]:{[`&${i}-horizontal ${i}-item:first-child`]:{paddingBottom:e.paddingXXS,paddingInlineStart:e.paddingXXS}},[`&${i}-small${i}-vertical > ${i}-item > ${i}-item-container > ${i}-item-tail`]:{insetInlineStart:e.calc(e.iconSizeSM).div(2).sub(e.lineWidth).add(e.paddingXXS).equal()},[`&${i}-label-vertical`]:{[`${i}-item ${i}-item-tail`]:{top:e.calc(e.margin).sub(e.calc(e.lineWidth).mul(2).equal()).equal()}},[`${i}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetBlockStart:e.calc(e.calc(e.iconSize).sub(e.stepsProgressSize).sub(e.calc(e.lineWidth).mul(2).equal()).equal()).div(2).equal(),insetInlineStart:e.calc(e.calc(e.iconSize).sub(e.stepsProgressSize).sub(e.calc(e.lineWidth).mul(2).equal()).equal()).div(2).equal()}}}}},ot=e=>{const{componentCls:t,descriptionMaxWidth:i,lineHeight:n,dotCurrentSize:r,dotSize:d,motionDurationSlow:u}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:n},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${$(e.calc(i).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${$(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:d,height:d,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(d).div(2).equal(),paddingInlineEnd:0,lineHeight:`${$(d)}`,background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${u}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(d).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:i},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(d).sub(r).div(2).equal(),width:r,height:r,lineHeight:`${$(r)}`,background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(r).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(d).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(r).div(2).equal(),top:0,insetInlineStart:e.calc(d).sub(r).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(d).div(2).equal(),insetInlineStart:0,margin:0,padding:`${$(e.calc(d).add(e.paddingXS).equal())} 0 ${$(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(d).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(d).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(r).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(d).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},rt=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},at=e=>{const{componentCls:t,iconSizeSM:i,fontSizeSM:n,fontSize:r,colorTextDescription:d}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:i,height:i,marginTop:0,marginBottom:0,marginInline:`0 ${$(e.marginXS)}`,fontSize:n,lineHeight:`${$(i)}`,textAlign:"center",borderRadius:i},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:r,lineHeight:`${$(i)}`,"&::after":{top:e.calc(i).div(2).equal()}},[`${t}-item-description`]:{color:d,fontSize:r},[`${t}-item-tail`]:{top:e.calc(i).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:i,lineHeight:`${$(i)}`,transform:"none"}}}}},ct=e=>{const{componentCls:t,iconSizeSM:i,iconSize:n}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:`${$(n)}`},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(n).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${$(e.calc(e.marginXXS).mul(1.5).add(n).equal())} 0 ${$(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(i).div(2).sub(e.lineWidth).equal(),padding:`${$(e.calc(e.marginXXS).mul(1.5).add(i).equal())} 0 ${$(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:`${$(i)}`}}}}};var J;(function(e){e.wait="wait",e.process="process",e.finish="finish",e.error="error"})(J||(J={}));const k=(e,t)=>{const i=`${t.componentCls}-item`,n=`${e}IconColor`,r=`${e}TitleColor`,d=`${e}DescriptionColor`,u=`${e}TailColor`,w=`${e}IconBgColor`,f=`${e}IconBorderColor`,j=`${e}DotColor`;return{[`${i}-${e} ${i}-icon`]:{backgroundColor:t[w],borderColor:t[f],[`> ${t.componentCls}-icon`]:{color:t[n],[`${t.componentCls}-icon-dot`]:{background:t[j]}}},[`${i}-${e}${i}-custom ${i}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[j]}},[`${i}-${e} > ${i}-container > ${i}-content > ${i}-title`]:{color:t[r],"&::after":{backgroundColor:t[u]}},[`${i}-${e} > ${i}-container > ${i}-content > ${i}-description`]:{color:t[d]},[`${i}-${e} > ${i}-container > ${i}-tail::after`]:{backgroundColor:t[u]}}},lt=e=>{const{componentCls:t,motionDurationSlow:i}=e,n=`${t}-item`,r=`${n}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${n}-container > ${n}-tail, > ${n}-container >  ${n}-content > ${n}-title::after`]:{display:"none"}}},[`${n}-container`]:{outline:"none","&:focus-visible":{[r]:Object.assign({},Ie(e))}},[`${r}, ${n}-content`]:{display:"inline-block",verticalAlign:"top"},[r]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:`${$(e.iconSize)}`,textAlign:"center",borderRadius:e.iconSize,border:`${$(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${i}, border-color ${i}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${n}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).sub(e.paddingXXS).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${i}`,content:'""'}},[`${n}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:`${$(e.titleLineHeight)}`,"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${n}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${n}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},k(J.wait,e)),k(J.process,e)),{[`${n}-process > ${n}-container > ${n}-title`]:{fontWeight:e.fontWeightStrong}}),k(J.finish,e)),k(J.error,e)),{[`${n}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${n}-disabled`]:{cursor:"not-allowed"}})},st=e=>{const{componentCls:t,motionDurationSlow:i}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${i}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},dt=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},we(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),lt(e)),st(e)),ke(e)),at(e)),ct(e)),tt(e)),ot(e)),it(e)),rt(e)),nt(e)),et(e))}},pt=e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive}),ut=Te("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:i,colorTextLightSolid:n,colorText:r,colorPrimary:d,colorTextDescription:u,colorTextQuaternary:w,colorError:f,colorBorderSecondary:j,colorSplit:z}=e,_=_e(e,{processIconColor:n,processTitleColor:r,processDescriptionColor:r,processIconBgColor:d,processIconBorderColor:d,processDotColor:d,processTailColor:z,waitTitleColor:u,waitDescriptionColor:u,waitTailColor:z,waitDotColor:t,finishIconColor:d,finishTitleColor:r,finishDescriptionColor:u,finishTailColor:d,finishDotColor:d,errorIconColor:n,errorTitleColor:f,errorDescriptionColor:f,errorTailColor:z,errorIconBgColor:f,errorIconBorderColor:f,errorDotColor:f,stepsNavActiveColor:d,stepsProgressSize:i,inlineDotSize:6,inlineTitleColor:w,inlineTailColor:j});return[dt(_)]},pt);function mt(e){return e.filter(t=>t)}function ht(e,t){if(e)return e;const i=Ne(t).map(n=>{if(l.isValidElement(n)){const{props:r}=n;return Object.assign({},r)}return null});return mt(i)}var gt=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i};const $e=e=>{const{percent:t,size:i,className:n,rootClassName:r,direction:d,items:u,responsive:w=!0,current:f=0,children:j,style:z}=e,_=gt(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:P}=je(w),{getPrefixCls:B,direction:L,steps:T}=l.useContext(Be),O=l.useMemo(()=>w&&P?"vertical":d,[P,d]),I=ze(i),N=B("steps",e.prefixCls),[o,v,D]=ut(N),M=e.type==="inline",A=B("",e.iconPrefix),x=ht(u,j),q=M?void 0:t,E=Object.assign(Object.assign({},T?.style),z),X=te(T?.className,{[`${N}-rtl`]:L==="rtl",[`${N}-with-progress`]:q!==void 0},n,r,v,D),h={finish:l.createElement(He,{className:`${N}-finish-icon`}),error:l.createElement(fe,{className:`${N}-error-icon`})},g=c=>{let{node:p,status:a}=c;if(a==="process"&&q!==void 0){const m=I==="small"?32:40;return l.createElement("div",{className:`${N}-progress-icon`},l.createElement(Je,{type:"circle",percent:q,size:m,strokeWidth:4,format:()=>null}),p)}return p},b=(c,p)=>c.description?l.createElement(Pe,{title:c.description},p):p;return o(l.createElement(ae,Object.assign({icons:h},_,{style:E,current:f,size:I,items:x,itemRender:M?b:void 0,stepIcon:g,direction:O,prefixCls:N,iconPrefix:A,className:X})))};$e.Step=ae.Step;const bt=$e,ft=e=>{const t=e?.algorithm?de(e.algorithm):de(ne),i=Object.assign(Object.assign({},Me),e?.token);return Le(i,{override:e?.token},t,Oe)},vt=ft;function yt(e){const{sizeUnit:t,sizeStep:i}=e,n=i-2;return{sizeXXL:t*(n+10),sizeXL:t*(n+6),sizeLG:t*(n+2),sizeMD:t*(n+2),sizeMS:t*(n+1),size:t*n,sizeSM:t*n,sizeXS:t*(n-1),sizeXXS:t*(n-1)}}const St=(e,t)=>{const i=t??ne(e),n=i.fontSizeSM,r=i.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i),yt(t??e)),Ee(n)),{controlHeight:r}),De(Object.assign(Object.assign({},i),{controlHeight:r})))},$t=St,G=(e,t)=>new ve(e).setAlpha(t).toRgbString(),Y=(e,t)=>new ve(e).lighten(t).toHexString(),xt=e=>{const t=ye(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},Ct=(e,t)=>{const i=e||"#000",n=t||"#fff";return{colorBgBase:i,colorTextBase:n,colorText:G(n,.85),colorTextSecondary:G(n,.65),colorTextTertiary:G(n,.45),colorTextQuaternary:G(n,.25),colorFill:G(n,.18),colorFillSecondary:G(n,.12),colorFillTertiary:G(n,.08),colorFillQuaternary:G(n,.04),colorBgElevated:Y(i,12),colorBgContainer:Y(i,8),colorBgLayout:Y(i,0),colorBgSpotlight:Y(i,26),colorBgBlur:G(n,.04),colorBorder:Y(i,26),colorBorderSecondary:Y(i,19)}},Tt=(e,t)=>{const i=Object.keys(qe).map(r=>{const d=ye(e[r],{theme:"dark"});return new Array(10).fill(1).reduce((u,w,f)=>(u[`${r}-${f+1}`]=d[f],u[`${r}${f+1}`]=d[f],u),{})}).reduce((r,d)=>(r=Object.assign(Object.assign({},r),d),r),{}),n=t??ne(e);return Object.assign(Object.assign(Object.assign({},n),i),Xe(e,{generateColorPalettes:xt,generateNeutralColorPalettes:Ct}))},_t=Tt;function wt(){const[e,t,i]=Ae();return{theme:e,token:t,hashId:i}}const It={defaultConfig:pe,defaultSeed:pe.token,useToken:wt,defaultAlgorithm:ne,darkAlgorithm:_t,compactAlgorithm:$t,getDesignToken:vt},Nt='[{"name":"Trung du và miền núi phía Bắc","code":"1","bbox":"102.14458466,20.30520058,108.06887054,23.39243698","area":118024.3075509592,"pop":0,"arrProvince":[{"provinceid":"24","name":"Tỉnh Bắc Giang","bbox":"105.88098533800007,21.122269823000067,107.03356713900007,21.62650246000004","area":4514.066532565789,"pop":0},{"provinceid":"06","name":"Tỉnh Bắc Kạn","bbox":"105.43110930900008,21.804395171000067,106.24717710600004,22.74120132400003","area":5702.549788989192,"pop":0},{"provinceid":"04","name":"Tỉnh Cao Bằng","bbox":"105.26572375400008,22.356413794000048,106.83726459300004,23.119846609000035","area":7917.521331816038,"pop":0},{"provinceid":"11","name":"Tỉnh Điện Biên","bbox":"102.14385417300008,20.892926791000036,103.59849904900005,22.547996477000027","area":11109.560674736478,"pop":0},{"provinceid":"02","name":"Tỉnh Hà Giang","bbox":"104.33432270000009,22.16628469400007,105.57415559400005,23.392738122000026","area":9373.316548498879,"pop":0},{"provinceid":"17","name":"Tỉnh Hoà Bình","bbox":"104.83241822200006,20.30510045500006,105.86171301000007,21.112849721000032","area":5290.6186474113465,"pop":0},{"provinceid":"12","name":"Tỉnh Lai Châu","bbox":"102.32068637900005,21.685745413000063,103.98521710800009,22.81133784000008","area":10649.763711130368,"pop":0},{"provinceid":"20","name":"Tỉnh Lạng Sơn","bbox":"106.09507153700008,21.325091651000037,107.36402523400005,22.461644902000046","area":9690.555049315866,"pop":0},{"provinceid":"10","name":"Tỉnh Lào Cai","bbox":"103.53084058300004,21.87549282200007,104.62667559900007,22.844940106000024","area":7471.64282261069,"pop":0},{"provinceid":"25","name":"Tỉnh Phú Thọ","bbox":"104.81376229200004,20.91630470100006,105.45706968500008,21.720143147000044","area":4095.4693546940116,"pop":0},{"provinceid":"22","name":"Tỉnh Quảng Ninh","bbox":"106.43883113200008,20.687306697000054,108.09703264700005,21.663927277000028","area":6785.188418704283,"pop":0},{"provinceid":"14","name":"Tỉnh Sơn La","bbox":"103.21216658800006,20.573672163000026,105.02715441600009,22.030892789000063","area":16322.637890972184,"pop":0},{"provinceid":"19","name":"Tỉnh Thái Nguyên","bbox":"105.47726469300005,21.325140963000024,106.23822256100004,22.047902667000074","area":4097.069215507338,"pop":0},{"provinceid":"08","name":"Tỉnh Tuyên Quang","bbox":"104.84832455300005,21.497590036000076,105.59854389800006,22.693819509000036","area":6867.332689398163,"pop":0},{"provinceid":"15","name":"Tỉnh Yên Bái","bbox":"103.88589585200003,21.32584842700004,105.10047157700006,22.292617160000077","area":8022.397172322977,"pop":0}]},{"name":"Đồng Bằng Sông Hồng","code":"2","bbox":"105.28813171,19.93569565,107.74571228,21.5738411","area":17028.630577997843,"pop":0,"arrProvince":[{"provinceid":"01","name":"Thành phố Hà Nội","bbox":"105.29136972400005,20.564307719000055,106.02007593100006,21.385408194000036","area":3845.847917459135,"pop":0},{"provinceid":"31","name":"Thành phố Hải Phòng","bbox":"106.40051200200008,20.11719974600004,107.74394968500008,21.02075472200005","area":1613.5905184710336,"pop":0},{"provinceid":"27","name":"Tỉnh Bắc Ninh","bbox":"105.90415324800006,20.969367360000035,106.31004675700007,21.264207992000024","area":947.0528373705475,"pop":0},{"provinceid":"35","name":"Tỉnh Hà Nam","bbox":"105.76862727600007,20.362714564000044,106.18355540200008,20.70373659200004","area":989.1074896359464,"pop":0},{"provinceid":"30","name":"Tỉnh Hải Dương","bbox":"106.12365279500005,20.684332007000023,106.61152031500006,21.236618751000037","area":1921.2392211757624,"pop":0},{"provinceid":"33","name":"Tỉnh Hưng Yên","bbox":"105.89501610000008,20.602762442000028,106.26933267400005,21.00699266400005","area":1070.6674024174067,"pop":0},{"provinceid":"36","name":"Tỉnh Nam Định","bbox":"105.92381315000006,19.92247931000003,106.59959621200005,20.499667121000073","area":1786.92390857688,"pop":0},{"provinceid":"37","name":"Tỉnh Ninh Bình","bbox":"105.54212093900009,19.88983777800007,106.16840731800005,20.453470751000054","area":1536.6378624718018,"pop":0},{"provinceid":"34","name":"Tỉnh Thái Bình","bbox":"106.10992513400004,20.252308605000053,106.64285523300003,20.729116220000037","area":1806.742819323044,"pop":0},{"provinceid":"26","name":"Tỉnh Vĩnh Phúc","bbox":"105.32269423800005,21.151841958000034,105.78656890200006,21.573950165000042","area":1433.7620016627366,"pop":0}]},{"name":"Bắc Trung Bộ","code":"3","bbox":"103.87521362,15.99489307,108.19450378,20.67055702","area":57293.802725446934,"pop":0,"arrProvince":[{"provinceid":"42","name":"Tỉnh Hà Tĩnh","bbox":"105.10390174500009,17.910397114000034,106.51104314900005,18.811088405000078","area":6656.182892140541,"pop":0},{"provinceid":"40","name":"Tỉnh Nghệ An","bbox":"103.87472161800008,18.552085714000043,105.80593418600006,19.997692492000056","area":18589.92646213432,"pop":0},{"provinceid":"44","name":"Tỉnh Quảng Bình","bbox":"105.59628785000007,16.921375712000042,106.99134291100006,18.090159070000027","area":8834.423006408986,"pop":0},{"provinceid":"45","name":"Tỉnh Quảng Trị","bbox":"106.51606914900009,16.301787103000038,107.39116976500009,17.16625547600006","area":5064.295654195725,"pop":0},{"provinceid":"38","name":"Tỉnh Thanh Hóa","bbox":"104.37410332700006,19.287700908000033,106.07594566200004,20.670049599000038","area":12630.52888694104,"pop":0},{"provinceid":"46","name":"Tỉnh Thừa Thiên Huế","bbox":"107.01612181300004,15.994874933000062,108.19511300000005,16.742480382000053","area":5484.339396253941,"pop":0}]},{"name":"Duyên Hải Nam Trung Bộ","code":"4","bbox":"107.21051788,7.39143848,117.81734467,17.12056541","area":51054.107879352625,"pop":0,"arrProvince":[{"provinceid":"48","name":"Thành phố Đà Nẵng","bbox":"107.81872405800004,15.77708817000007,112.76391602000001,17.12056541000004","area":1558.2880596729833,"pop":0},{"provinceid":"52","name":"Tỉnh Bình Định","bbox":"108.60136323600005,13.515139130000023,109.36344910000008,14.70306951300006","area":6493.3933606731935,"pop":0},{"provinceid":"60","name":"Tỉnh Bình Thuận","bbox":"107.39464576000006,9.964254979000032,109.08451632200007,11.555738723000047","area":8301.020457240753,"pop":0},{"provinceid":"56","name":"Tỉnh Khánh Hòa","bbox":"108.66932026500007,7.3914384800000335,117.81734467000001,12.868785918000071","area":7923.362231410467,"pop":0},{"provinceid":"58","name":"Tỉnh Ninh Thuận","bbox":"108.55212305100008,11.306680176000043,109.23364335400004,12.168070686000021","area":3519.8579273794894,"pop":0},{"provinceid":"54","name":"Tỉnh Phú Yên","bbox":"108.67315507400008,12.704954413000053,109.45896653000005,13.69532954500005","area":5335.271142124527,"pop":0},{"provinceid":"49","name":"Tỉnh Quảng Nam","bbox":"107.21023869200008,14.951354207000065,108.73894605900006,16.067651305000027","area":11464.96529227333,"pop":0},{"provinceid":"51","name":"Tỉnh Quảng Ngãi","bbox":"108.23510611400008,14.532730100000038,109.14374591800004,15.433193207000045","area":5556.840386597641,"pop":0}]},{"name":"Tây Nguyên","code":"5","bbox":"107.20632935,11.21512127,108.9954071,15.4174633","area":57859.800142753746,"pop":0,"arrProvince":[{"provinceid":"66","name":"Tỉnh Đắk Lắk","bbox":"107.48468190000006,12.161034534000066,108.99542934000004,13.416587485000036","area":13786.741242962838,"pop":0},{"provinceid":"67","name":"Tỉnh Đắk Nông","bbox":"107.20629162700004,11.74900376100004,108.11636491700006,12.812316930000065","area":6853.536749487105,"pop":0},{"provinceid":"64","name":"Tỉnh Gia Lai","bbox":"107.45040867800009,12.99578105200004,108.87332194000004,14.603162629000053","area":16543.51193054843,"pop":0},{"provinceid":"62","name":"Tỉnh Kon Tum","bbox":"107.33165621400008,13.921094096000047,108.54689201600007,15.417463220000059","area":10405.195298963474,"pop":0},{"provinceid":"68","name":"Tỉnh Lâm Đồng","bbox":"107.26575378200005,11.215028053000026,108.72882460800008,12.317755694000027","area":10272.003557082273,"pop":0}]},{"name":"Đông Nam Bộ","code":"6","bbox":"105.80844879,8.62875843,107.57713318,12.2983942","area":24651.096608218973,"pop":0,"arrProvince":[{"provinceid":"79","name":"Thành phố Hồ Chí Minh","bbox":"106.35437964200008,10.377122731000043,107.02726295300005,11.159840431000077","area":2153.8447630235173,"pop":0},{"provinceid":"77","name":"Tỉnh Bà Rịa - Vùng Tàu","bbox":"106.53633041000006,8.628099090000035,107.57193091700009,10.804531745000077","area":2052.7969023559863,"pop":0},{"provinceid":"74","name":"Tỉnh Bình Dương","bbox":"106.32635792000008,10.86370942000002,106.96675687400005,11.500285595000037","area":2817.6809010039906,"pop":0},{"provinceid":"70","name":"Tỉnh Bình Phước","bbox":"106.41146806500007,11.301342304000059,107.42733101600004,12.297916549000036","area":7217.489373122651,"pop":0},{"provinceid":"75","name":"Tỉnh Đồng Nai","bbox":"106.75117010000008,10.579208975000029,107.57746517100009,11.581994801000064","area":6122.892685785066,"pop":0},{"provinceid":"72","name":"Tỉnh Tây Ninh","bbox":"105.80976417600004,10.962518230000057,106.49132573700007,11.782290000000046","area":4232.4321498400195,"pop":0}]},{"name":"Đồng Bằng Sông Cửu Long","code":"7","bbox":"103.45875549,8.38135529,106.8225354,11.03209209","area":41808.05133754436,"pop":0,"arrProvince":[{"provinceid":"92","name":"Thành phố Cần Thơ","bbox":"105.22569128000004,9.918952266000076,105.84442237600007,10.32514943800004","area":1494.9137823598494,"pop":0},{"provinceid":"89","name":"Tỉnh An Giang","bbox":"104.77812358800008,10.183605557000021,105.57562408400008,10.962093242000037","area":3679.007130229421,"pop":0},{"provinceid":"95","name":"Tỉnh Bạc Liêu","bbox":"105.23250864500005,9.016284724000059,105.86010405600007,9.637474977000068","area":2562.663810585736,"pop":0},{"provinceid":"83","name":"Tỉnh Bến Tre","bbox":"106.02812067500008,9.78902946200003,106.83434488300009,10.340423473000044","area":2429.573074056416,"pop":0},{"provinceid":"96","name":"Tỉnh Cà Mau","bbox":"104.52219370800009,8.381386552000038,105.41920832800008,9.561755159000029","area":5394.349517071331,"pop":0},{"provinceid":"87","name":"Tỉnh Đồng Tháp","bbox":"105.18923709300009,10.134046617000024,105.94210456700006,10.974076096000033","area":3527.057687548492,"pop":0},{"provinceid":"93","name":"Tỉnh Hậu Giang","bbox":"105.32801818900003,9.58223948500006,105.89686508300008,9.99406176900004","area":1680.5284955604095,"pop":0},{"provinceid":"91","name":"Tỉnh Kiên Giang","bbox":"103.45875549000004,9.254500000000064,105.53932296500005,10.540228512000056","area":6548.751156291135,"pop":0},{"provinceid":"80","name":"Tỉnh Long An","bbox":"105.49878755300006,10.394593463000035,106.74731163400008,11.032330286000047","area":4686.333494706703,"pop":0},{"provinceid":"94","name":"Tỉnh Sóc Trăng","bbox":"105.54377489100006,9.243566217000023,106.31283145700007,9.938006403000031","area":3393.60099783446,"pop":0},{"provinceid":"82","name":"Tỉnh Tiền Giang","bbox":"105.81575980600007,10.19222448100004,106.80427551900004,10.58706675600007","area":2488.5701525421796,"pop":0},{"provinceid":"84","name":"Tỉnh Trà Vinh","bbox":"105.95334512000005,9.520062171000063,106.59875322900007,10.081772787000034","area":2389.9369672065145,"pop":0},{"provinceid":"86","name":"Tỉnh Vĩnh Long","bbox":"105.68289331700004,9.883241576000046,106.28963967800007,10.331231999000067","area":1584.3496794733146,"pop":0}]}]';function jt({onResult:e,scopeResult:t}){l.useState("hanhchinh");const[i,n]=l.useState([]),[r,d]=l.useState(""),[u,w]=l.useState([]),[f,j]=l.useState([]),[z,_]=l.useState([]),[P,B]=l.useState([]),[L,T]=l.useState([]),O=JSON.parse(Nt).map(h=>({...h,value:h.code,label:h.name}));O.unshift({value:"all",label:"Cả nước"});const I=(h,g)=>(g?.label??"").toLowerCase().includes(h.toLowerCase()),N=(h,g)=>{if(!g||!g.value)return!1;const c=(g.label??"").toLowerCase(),p=h.toLowerCase();return c.includes(p)};l.useEffect(()=>{console.log("123"),t&&(console.log("222"),console.log(t),w(t.region),_(t.tinh),T(t.huyen))},[]);const o=h=>{if(j([]),_([]),B([]),T([]),h.includes("all"))x.current.flyTo({center:[107.9426393217799,16.92300264959944],zoom:4.2});else{const g=O.filter(c=>h.includes(c.value));if(!(u.length>h.length)){const c=O.filter(p=>p.value===h[h.length-1]);if(c.length>0&&c[0].bbox!=null){let p=c[0].bbox.split(","),a=[[Number(p[0]),Number(p[1])],[Number(p[2]),Number(p[3])]];x.current.fitBounds(a)}}let b=[];for(let c=0;c<g.length;c++){let p={label:s.jsx("span",{children:g[c].label}),title:g[c].label,options:g[c].arrProvince.map(a=>({...a,value:a.provinceid,label:a.name}))};b.push(p)}j(b)}w(h),M()},v=async h=>{let g=[];B([]),T([]);let b=[];for(let c=0;c<f.length;c++){let p=f[c].options.filter(a=>h.includes(a.value));g.push(...p)}for(let c=0;c<g.length;c++){let p={label:s.jsx("span",{children:g[c].label}),title:g[c].label,options:[]},a=`https://api.ekgis.vn/data/administrative/province/${g[c].value}/district?api_key=${r}`;const y=await(await fetch(a)).json();y&&y.length>0&&(p.options=y.map(C=>({...C,value:C.districtid,label:C.name}))),b.push(p)}if(B(b),!(z.length>h.length))for(let c=0;c<f.length;c++){const p=f[c].options.filter(a=>a.value===h[h.length-1]);if(p.length>0&&p[0].bbox!=null){let a=p[0].bbox.split(","),m=[[Number(a[0]),Number(a[1])],[Number(a[2]),Number(a[3])]];x.current.fitBounds(m)}}_(h),M()},D=h=>{if(!(L.length>h.length))for(let g=0;g<P.length;g++){const b=P[g].options.filter(c=>c.value===h[h.length-1]);if(b.length>0&&b[0].bbox!=null){let c=b[0].bbox.split(","),p=[[Number(c[0]),Number(c[1])],[Number(c[2]),Number(c[3])]];x.current.fitBounds(p)}}T(h),M()},M=()=>{e({region:u,tinh:z,huyen:L})},A=async()=>{let h=await U.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_api");d(h.result)},x=l.useRef(null),q=()=>{x.current=new V.Map({container:"map_cf",center:[108.485,16.449],zoom:5.43}),new ekmapplf.VectorBaseMap("OSM:Bright",r).addTo(x.current);var h=new ekmapplf.control.BaseMap({id:"basemap_control",baseLayers:[{id:"OSM:Bright",title:"Bản đồ nền Sáng",thumbnail:"https://docs.ekgis.vn/assets/map-sang.png",width:"50px",height:"50px"},{id:"OSM:Standard",title:"Bản đồ nền Tiêu chuẩn",thumbnail:"https://docs.ekgis.vn/assets/map-chuan.png",width:"50px",height:"50px"},{id:"OSM:Night",title:"Bản đồ nền Đêm",thumbnail:"https://docs.ekgis.vn/assets/dem-map.png",width:"50px",height:"50px"}]});x.current.addControl(h,"bottom-left"),h.on("changeBaseLayer",async function(a){await new ekmapplf.VectorBaseMap(a.layer,r).addTo(x.current)}),x.current.addControl(new V.NavigationControl({visualizePitch:!0}),"bottom-right");var g=!1;x.current.getPitch()>0?g=!0:g=!1;var b="maplibregl-terrain2d-control",c="Hiển thị 2D";g||(b="maplibregl-terrain3d-control",c="Bản đồ 3D");let p=new ekmapplf.control.Button({className:"btn-ctl-group "+b,icon:"none",tooltip:c});p.on("click",a=>{g=!g,g?(a._div.className=a._div.className.replaceAll("maplibregl-terrain3d-control","maplibregl-terrain2d-control"),a._div.title="Hiển thị 2D"):(a._div.className=a._div.className.replaceAll("maplibregl-terrain2d-control","maplibregl-terrain3d-control"),a._div.title="Hiển thị 3D"),g?(x.current.easeTo({pitch:60}),x.current.setLayoutProperty("building-3d","visibility","visible")):(x.current.easeTo({pitch:0}),x.current.setLayoutProperty("building-3d","visibility","none"))}),x.current.addControl(p,"bottom-right"),x.current.addControl(new V.FullscreenControl,"top-right")};l.useEffect(()=>{A()},[]),l.useEffect(()=>{r!=null&&r!=""&&q()},[r]),l.useEffect(()=>{},[i]);const[E,X]=l.useState("hanhchinh");return s.jsx(s.Fragment,{children:s.jsxs(We,{children:[s.jsxs(ue,{span:12,style:{paddingRight:"10px"},children:[E==="vungbao"&&s.jsx("div",{style:{lineHeight:"20px",textAlign:"left",height:"320px"},children:s.jsx("p",{style:{padding:"10px",fontWeight:"bold",color:"#0a743e"},children:"Xác định khu vực đánh giá theo vùng bao đóng đại lý phân phối"})}),E==="hanhchinh"&&s.jsxs("div",{style:{lineHeight:"20px",textAlign:"left",paddingLeft:"10px"},children:[s.jsx("p",{style:{padding:"10px",fontWeight:"bold",color:"#0a743e"},children:"Xác định giới hạn khu vực bằng đơn vị hành chính các cấp tỉnh, huyện"}),s.jsx(K.Item,{label:"Khu vực",name:"khuvuc",children:s.jsx(ee,{mode:"multiple",showSearch:!0,value:u,placeholder:"Chọn khu vực",onChange:o,options:O,filterOption:I})}),s.jsx(K.Item,{label:"Đơn vị hành chính cấp tỉnh",name:"tinh",children:s.jsx(ee,{mode:"multiple",showSearch:!0,optionFilterProp:"children",placeholder:"Chọn khu vực hành chính cấp tỉnh/thành phố",value:z,onChange:v,options:f,filterOption:N})}),s.jsx(K.Item,{label:"Đơn vị hành chính cấp huyện",name:"huyen",children:s.jsx(ee,{mode:"multiple",showSearch:!0,placeholder:"Chọn khu vực hành chính cấp quận/huyện",onChange:D,value:L,options:P,filterOption:N})})]})]}),s.jsx(ue,{span:12,children:s.jsx("div",{id:"map_cf",style:{width:"100%",height:"100%"}})})]})})}function Bt(){const[e,t]=l.useState(null),n=[{name:"Siêu thị mini, cửa hàng tiện lợi",type:"supermarket"},{name:"Siêu thị mẹ và bé",type:"mom_and_baby"},{name:"Hiệu thuốc bán lẻ",type:"pharma"},{name:"Cửa hàng thực phẩm",type:"grocery_store"},{name:"Cửa hàng trái cây",type:"fruit_store"},{name:"Cửa hàng thời trang cho trẻ em",type:"children_fashion_store"},{name:"Cửa hàng đồ chơi cho trẻ em",type:"children_toy_store"},{name:"Cửa hàng sữa và sản phẩm từ sữa",type:"milk"},{name:"Cửa hàng đồ gia dụng",type:"home_goods_store"},{name:"Hiệu sách",type:"bookstore"},{name:"Trung tâm ngoại ngữ",type:"foreign_language_center"},{name:"Kem và trà sữa",type:"cream_tea"},{name:"Cafe",type:"cafe"},{name:"Nhà hàng",type:"restaurant"},{name:"Quán ăn",type:"eatery"},{name:"Bia hơi, quán nhậu",type:"beer_pub"},{name:"Siêu thị thú cưng",type:"pet"},{name:"Cửa hàng cá cảnh",type:"aquarium_shop"},{name:"Cửa hàng chim cảnh",type:"bird_shop"},{name:"Phòng khám thú y",type:"veterinary_clinic"},{name:"Bệnh viện thú y",type:"veterinary_hospital"},{name:"Cửa hàng hóa mỹ phẩm",type:"cosmetics_store"},{name:"Phòng khám",type:"clinic"},{name:"Làm đẹp, spa",type:"spa_beauty"},{name:"Phòng tập GYM, Yoga, Fitness",type:"gym"}].map(({name:u,type:w})=>({label:u,value:w})),r=(u,w)=>(w?.label??"").toLowerCase().includes(u.toLowerCase()),d=u=>{t(u)};return s.jsxs(s.Fragment,{children:[s.jsx(K.Item,{label:"Chọn ngành hàng : ",name:"nganhhang",children:s.jsx(ee,{showSearch:!0,placeholder:"Chọn ngành hàng",value:e,onChange:d,options:n,filterOption:r})}),s.jsx(K.Item,{label:"Tên bản đồ: ",name:"namBando",children:s.jsx(Fe,{})})]})}function zt({open:e,title:t,onCancel:i,onOk:n}){const[r]=K.useForm(),[d]=K.useForm(),[u,w]=l.useState(null);l.useState(null);const f=N=>{w(N)},j=[{title:"Phạm vi đánh giá độ phủ đại lý",content:s.jsx(K,{layout:"vertical",form:r,style:{padding:"10px"},children:s.jsx(jt,{onResult:f,scopeResult:u})})},{title:"Ngành hàng đánh giá độ phủ",content:s.jsx(K,{layout:"vertical",form:d,style:{padding:"10px"},children:s.jsx(Bt,{})})}],{token:z}=It.useToken(),[_,P]=l.useState(0),B=()=>{P(_+1)},L=()=>{P(_-1)},T=async()=>{let N="agricultural_supplies",o="",v=[];if(r.getFieldValue("huyen"))o="administrative_district",v=r.getFieldValue("huyen");else if(r.getFieldValue("tinh"))o="administrative_province",v=r.getFieldValue("tinh");else if(r.getFieldValue("khuvuc"))o="administrative_region",v=r.getFieldValue("khuvuc");else{me.error("Chưa chọn khu vực giới hạn");return}const D="https://api.ekgis.vn/v1/analytic_market/determine_coverage?api_key=w1Dlh2wRon7mE6sL196TgvLS45fw02uon74pJ0rc";let M={type_categories:N,type_area:o,value_area:JSON.stringify(v),locations:[[105.8343722805368,21.02965447233156],[105.80653774526628,20.974347940803487]]};const x=await(await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)})).json();console.log(x),me.success("Phân tích thành công"),n([{code:"1",name:"Trung du và miền núi phía Bắc",bbox:"102.14458466,20.30520058,108.06887054,23.39243698",sum_vgm:561,sum_user:0,ratio_coverage:0},{code:"2",name:"Đồng Bằng Sông Hồng",bbox:"105.28813171,19.93569565,107.74571228,21.5738411",sum_vgm:485,sum_user:2,ratio_coverage:0},{code:"3",name:"Bắc Trung Bộ",bbox:"103.87521362,15.99489307,108.19450378,20.67055702",sum_vgm:288,sum_user:0,ratio_coverage:0}])},O=j.map(N=>({key:N.title,title:N.title})),I={textAlign:"left",color:z.colorTextTertiary,backgroundColor:z.colorFillAlter,borderRadius:z.borderRadiusLG,border:`1px dashed ${z.colorBorder}`,marginTop:16};return s.jsx(s.Fragment,{children:s.jsxs(Re,{width:850,open:e,title:t,onOk:n,onCancel:i,footer:[],children:[s.jsx(bt,{current:_,items:O}),s.jsx("div",{style:I,children:j[_].content}),s.jsxs("div",{style:{marginTop:24},children:[_<j.length-1&&s.jsx(re,{type:"primary",onClick:()=>B(),children:"Tiếp theo"}),_===j.length-1&&s.jsx(re,{type:"primary",onClick:T,children:"Hoàn thành"}),_>0&&s.jsx(re,{style:{margin:"0 8px"},onClick:()=>L(),children:"Quay lại"})]})]})})}const Ht=({onCheck:e,onMoveLayer:t})=>{const[i,n]=l.useState([]),[r,d]=l.useState([]),[u,w]=l.useState([]),[f,j]=l.useState(!0),[z,_]=l.useState([]),P=o=>o.map((v,D)=>({title:v.label,key:v.id,children:v.children?P(v.children):[]})),B=async()=>{let o=await U.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_map"),v=P(o.result);_(v)};l.useEffect(()=>{B()},[]);const L=o=>{console.log("onExpand",o),n(o),j(!1)},T=o=>{d(o),e(o)},O=(o,v)=>{console.log("onSelect",v),w(o)},I=o=>{console.log("onDragEnter:",o)},N=o=>{const v=o.node.key,D=o.dragNode.key,M=o.node.pos.split("-"),A=o.dropPosition-Number(M[M.length-1]),x=o.dragNode.pos.split("-");if(M.length===x.length){const q=(b,c,p)=>{for(let a=0;a<b.length;a++){if(b[a].key===c)return p(b[a],a,b);b[a].children&&q(b[a].children,c,p)}},E=[...z];let X;if(q(E,D,(b,c,p)=>{p.splice(c,1),X=b}),!o.dropToGap)q(E,v,b=>{b.children=b.children||[],b.children.unshift(X)});else{let b=[],c;q(E,v,(p,a,m)=>{b=m,c=a}),A===-1?b.splice(c,0,X):b.splice(c+1,0,X)}_(E);const h=D,g=o.dropToGap?v:void 0;g!==void 0&&t(h,g)}else return};return s.jsx(Ge,{className:"draggable-tree",draggable:!0,blockNode:!0,checkable:!0,onExpand:L,expandedKeys:i,autoExpandParent:f,onCheck:T,checkedKeys:r,onSelect:O,selectedKeys:u,onDragEnter:I,onDrop:N,treeData:z})};function Pt(){const e=[{label:"Đánh giá độ phủ đại lý",key:"1",onClick:()=>{i(!0)}}],[t,i]=l.useState(!1),n=[{title:"Tên đơn vị hành chính",dataIndex:"name",key:"name"},{title:"Tỷ lệ độ phủ",dataIndex:"ratio_coverage",key:"ratio_coverage",render:a=>`${(a*100).toFixed(2)}%`}],r=()=>{i(!1)},d=()=>{j("80vh"),_(!1)},[u,w]=l.useState([]),[f,j]=l.useState("80vh"),[z,_]=l.useState(!1),P=a=>{w(a),j("40vh"),_(!0),i(!1)},[B,L]=l.useState(""),[T,O]=l.useState([]),[I,N]=l.useState([]),o=l.useRef(null),[v,D]=l.useState(!1),M=()=>{D(!v)};l.useEffect(()=>{A()},[]),l.useEffect(()=>{B!=null&&B!=""&&(console.log(B),E())},[B]),l.useEffect(()=>{X()},[I]),l.useEffect(()=>{T!=null&&T.length>0&&h()},[T]);const A=async()=>{let a=await U.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_api");L(a.result)},x=async()=>{let a=await U.get("/api/method/mbw_dms.api.vgm.map_customer.get_config_map");O(a.result)},q=async()=>{let a=await U.get("/api/method/mbw_dms.api.selling.customer.get_customer_has_location");a.message=="Thành công"&&N(a.result)},E=()=>{console.log(B),o.current=new V.Map({container:"map",center:[108.485,16.449],zoom:5.43}),new ekmapplf.VectorBaseMap("OSM:Night",B).addTo(o.current);var a=new ekmapplf.control.BaseMap({id:"basemap_control",baseLayers:[{id:"OSM:Bright",title:"Bản đồ nền Sáng",thumbnail:"https://docs.ekgis.vn/assets/map-sang.png",width:"50px",height:"50px"},{id:"OSM:Standard",title:"Bản đồ nền Tiêu chuẩn",thumbnail:"https://docs.ekgis.vn/assets/map-chuan.png",width:"50px",height:"50px"},{id:"OSM:Night",title:"Bản đồ nền Đêm",thumbnail:"https://docs.ekgis.vn/assets/dem-map.png",width:"50px",height:"50px"}]});o.current.addControl(a,"bottom-left"),a.on("changeBaseLayer",async function(S){await new ekmapplf.VectorBaseMap(S.layer,B).addTo(o.current)}),o.current.addControl(new V.NavigationControl({visualizePitch:!0}),"bottom-right");var m=!1;o.current.getPitch()>0?m=!0:m=!1;var y="maplibregl-terrain2d-control",C="Hiển thị 2D";m||(y="maplibregl-terrain3d-control",C="Bản đồ 3D");let H=new ekmapplf.control.Button({className:"btn-ctl-group "+y,icon:"none",tooltip:C});H.on("click",S=>{m=!m,m?(S._div.className=S._div.className.replaceAll("maplibregl-terrain3d-control","maplibregl-terrain2d-control"),S._div.title="Hiển thị 2D"):(S._div.className=S._div.className.replaceAll("maplibregl-terrain2d-control","maplibregl-terrain3d-control"),S._div.title="Hiển thị 3D"),m?(o.current.easeTo({pitch:60}),o.current.setLayoutProperty("building-3d","visibility","visible")):(o.current.easeTo({pitch:0}),o.current.setLayoutProperty("building-3d","visibility","none"))}),o.current.addControl(H,"bottom-right"),o.current.addControl(new V.FullscreenControl,"top-right"),o.current.on("load",async()=>{await x(),q()})},X=async()=>{let a={type:"FeatureCollection",features:[]};for(let m=0;m<I.length;m++){let y=JSON.parse(I[m].customer_location_primary),C={type:"Feature",geometry:{type:"Point",coordinates:[y.long,y.lat]},properties:I[m]};a.features.push(C)}if(o.current!=null&&o.current.isStyleLoaded())if(o.current.getSource("customer_clus"))o.current.getSource("customer_clus").setData(a);else{if(!o.current.getImage("marker-customer")){const m=await o.current.loadImage("https://files.ekgis.vn/sdks/tracking/assets/check-icon.png");o.current.addImage("marker-customer",m.data)}o.current.addSource("customer_clus",{type:"geojson",data:a,cluster:!0,clusterRadius:12}),o.current.addLayer({id:"customer_clus-cluster",type:"circle",source:"customer_clus",maxzoom:16,filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#90D667",10,"#EFCD41",50,"#FF0012"],"circle-radius":12,"circle-stroke-color":["step",["get","point_count"],"#90D667",10,"#EFCD41",50,"#FF0012"],"circle-stroke-opacity":.7,"circle-stroke-width":5}}),o.current.addLayer({id:"customer_clus-cluster-count",type:"symbol",source:"customer_clus",filter:["has","point_count"],layout:{"text-field":"{point_count}","text-size":12}}),o.current.on("mouseenter","customer_clus-uncluster",()=>{o.current.getCanvas().style.cursor="pointer"}),o.current.on("mouseleave","customer_clus-uncluster",()=>{o.current.getCanvas().style.cursor=""}),o.current.on("click","customer_clus-cluster",async m=>{const y=o.current.queryRenderedFeatures(m.point,{layers:["customer_clus-cluster"]}),C=y[0].properties.cluster_id,H=await o.current.getSource("customer_clus-cluster").getClusterExpansionZoom(C);o.current.easeTo({center:y[0].geometry.coordinates,zoom:H+.01})}),o.current.addLayer({id:"customer_clus-uncluster",type:"symbol",source:"customer_clus",filter:["!",["has","point_count"]],layout:{"icon-image":"marker-customer","icon-allow-overlap":!0,"icon-size":{stops:[[15,.7],[18,1]]}}}),o.current.addLayer({id:"customer_clus-title",type:"symbol",source:"customer_clus",filter:["!",["has","point_count"]],layout:{"text-field":["get","customer_name"],"text-font":["Roboto Medium"],"text-size":{stops:[[12,10],[13,11],[14,11],[15,11.5],[16,12.5],[20,16]]},"text-anchor":"top","text-max-width":9,"text-offset":[0,1.5],"text-padding":5},paint:{"text-color":"#ff5532","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":.5}}),o.current.on("click","customer_clus-uncluster",function(m){var y=m.features[0].geometry.coordinates.slice(),C=m.features[0].properties,H=`
            <div class="customer-popup-info">
                <b>${C.customer_name}</b>
            </div>
        `;C.customer_primary_address!=null&&C.customer_primary_address!=""&&(H+=`
            <div class="customer-popup-info">
                <span class="customer-popup-icon customer-icon-marker customer-icon-default-color"></span>
                <span>${C.customer_primary_address}</span>
            </div>`),C.customer_primary_contact!=null&&C.customer_primary_contact!=""&&(H+=`
            <div class="customer-popup-info">
                <span class="customer-popup-icon customer-icon-phone customer-icon-default-color"></span>
                <span>${C.customer_primary_contact}</span>
            </div>`),new V.Popup().setLngLat(y).setHTML(H).addTo(o.current)})}},h=a=>{T.forEach(m=>{m.group?m.children.forEach(y=>{const C=y.sources,H=y.layers;for(let S in C)o.current.getSource(S)||o.current.addSource(S,C[S]);H.forEach(S=>{o.current.getLayer(S.id)||o.current.addLayer(S);const R=y.visible?"visible":"none";o.current.setLayoutProperty(S.id,"visibility",R)})}):m.forEach(y=>{const C=y.sources,H=y.layers;for(let S in C)o.current.getSource(S)||o.current.addSource(S,C[S]);H.forEach(S=>{o.current.getLayer(S.id)||o.current.addLayer(S);const R=y.visible?"visible":"none";o.current.setLayoutProperty(S.id,"visibility",R)})})})},g=a=>{T.forEach(m=>{m.children.forEach(y=>{y.layers.forEach(H=>{const R=a.includes(H.id)?"visible":"none";o.current.setLayoutProperty(H.id,"visibility",R)})})})},b=(a,m)=>{if(c(a)){const y=p(T,[a]),C=p(T,[m]);y.forEach((H,S)=>{const R=C[S];o.current.moveLayer(H,R)})}else o.current.moveLayer(a.toString(),m.toString())},c=a=>{const m=T.find(y=>y.id===a);return m&&m.children&&m.children.length>0},p=(a,m)=>{const y=[];return m.forEach(C=>{const H=a.find(S=>S.id===C);H&&H.children&&H.children.forEach(S=>{y.push(S.id)})}),y};return s.jsxs(s.Fragment,{children:[s.jsx(Ye,{title:"Bản đồ khách hàng"}),s.jsxs("div",{id:"map",style:{width:"100%",height:f,borderRadius:"20px"},children:[s.jsx("div",{className:"ekmapplf_map-ananyltic",children:s.jsx(Ke.Button,{type:"primary",icon:s.jsx(Ve,{}),menu:{items:e},children:"Công cụ phân tích"})}),s.jsxs("div",{id:"ekmapplf_tracking_legend",className:"ekmapplf_tracking-map-legend",children:[s.jsxs("div",{className:"ekmapplf_tracking-legend-title",onClick:M,children:[s.jsx("span",{className:`icon ${v?"ekmapplf_tracking-icon-square-minus":"ekmapplf_tracking-icon-square-plus"}`,style:{filter:"invert(100%) sepia(100%) saturate(0%) hue-rotate(187deg) brightness(105%) contrast(103%)"}}),s.jsx("span",{children:"Chú giải bản đồ"})]}),s.jsx("div",{className:`ekmapplf_tracking-legend-body ${v?"open":""}`,style:{maxHeight:v?"250px":"0",overflow:"auto"},children:s.jsx(Ht,{onCheck:g,onMoveLayer:b})})]})]}),z&&s.jsxs("div",{style:{position:"relative"},children:[s.jsx(Qe,{columns:n,dataSource:u,pagination:!1}),s.jsx("div",{onClick:d,style:{position:"absolute",top:"10px",right:"10px",cursor:"pointer"},children:s.jsx(fe,{})})]}),s.jsx(zt,{open:t,title:"Đánh giá độ phủ",onCancel:r,onOk:P})]})}function Et(){return s.jsx(Pt,{})}export{Et as default};
